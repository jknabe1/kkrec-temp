var pH=Object.create;var Pp=Object.defineProperty;var hH=Object.getOwnPropertyDescriptor;var fH=Object.getOwnPropertyNames;var gH=Object.getPrototypeOf,mH=Object.prototype.hasOwnProperty;var R=(t,e)=>()=>(t&&(e=t(t=0)),e);var U=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jt=(t,e)=>{for(var i in e)Pp(t,i,{get:e[i],enumerable:!0})},y1=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of fH(e))!mH.call(t,n)&&n!==i&&Pp(t,n,{get:()=>e[n],enumerable:!(r=hH(e,n))||r.enumerable});return t};var de=(t,e,i)=>(i=t!=null?pH(gH(t)):{},y1(e||!t||!t.__esModule?Pp(i,"default",{value:t,enumerable:!0}):i,t)),oc=t=>y1(Pp({},"__esModule",{value:!0}),t);function ko(t,e){for(var i in e)t[i]=e[i];return t}function N1(t){var e=t.parentNode;e&&e.removeChild(t)}function At(t,e,i){var r,n,a,l={};for(a in e)a=="key"?r=e[a]:a=="ref"?n=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?lc.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)l[a]===void 0&&(l[a]=t.defaultProps[a]);return ac(t,l,r,n,null)}function ac(t,e,i,r,n){var a={type:t,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:n??++S1};return n==null&&Se.vnode!=null&&Se.vnode(a),a}function be(){return{current:null}}function oe(t){return t.children}function se(t,e){this.props=t,this.context=e}function sc(t,e){if(e==null)return t.__?sc(t.__,t.__.__k.indexOf(t)+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?sc(t):null}function _1(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return _1(t)}}function wb(t){(!t.__d&&(t.__d=!0)&&ls.push(t)&&!Up.__r++||C1!==Se.debounceRendering)&&((C1=Se.debounceRendering)||R1)(Up)}function Up(){var t,e,i,r,n,a,l,u;for(ls.sort(Ab);t=ls.shift();)t.__d&&(e=ls.length,r=void 0,n=void 0,l=(a=(i=t).__v).__e,(u=i.__P)&&(r=[],(n=ko({},a)).__v=a.__v+1,xb(u,a,n,i.__n,u.ownerSVGElement!==void 0,a.__h!=null?[l]:null,r,l??sc(a),a.__h),L1(r,a),a.__e!=l&&_1(a)),ls.length>e&&ls.sort(Ab));Up.__r=0}function W1(t,e,i,r,n,a,l,u,c,d){var f,m,b,C,S,A,F,_=r&&r.__k||F1,X=_.length;for(i.__k=[],f=0;f<e.length;f++)if((C=i.__k[f]=(C=e[f])==null||typeof C=="boolean"||typeof C=="function"?null:typeof C=="string"||typeof C=="number"||typeof C=="bigint"?ac(null,C,null,null,C):Array.isArray(C)?ac(oe,{children:C},null,null,null):C.__b>0?ac(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C)!=null){if(C.__=i,C.__b=i.__b+1,(b=_[f])===null||b&&C.key==b.key&&C.type===b.type)_[f]=void 0;else for(m=0;m<X;m++){if((b=_[m])&&C.key==b.key&&C.type===b.type){_[m]=void 0;break}b=null}xb(t,C,b=b||Vp,n,a,l,u,c,d),S=C.__e,(m=C.ref)&&b.ref!=m&&(F||(F=[]),b.ref&&F.push(b.ref,null,C),F.push(m,C.__c||S,C)),S!=null?(A==null&&(A=S),typeof C.type=="function"&&C.__k===b.__k?C.__d=c=O1(C,c,t):c=T1(t,C,b,_,S,c),typeof i.type=="function"&&(i.__d=c)):c&&b.__e==c&&c.parentNode!=t&&(c=sc(b))}for(i.__e=A,f=X;f--;)_[f]!=null&&(typeof i.type=="function"&&_[f].__e!=null&&_[f].__e==i.__d&&(i.__d=D1(r).nextSibling),B1(_[f],_[f]));if(F)for(f=0;f<F.length;f++)G1(F[f],F[++f],F[++f])}function O1(t,e,i){for(var r,n=t.__k,a=0;n&&a<n.length;a++)(r=n[a])&&(r.__=t,e=typeof r.type=="function"?O1(r,e,i):T1(i,r,r,n,r.__e,e));return e}function qn(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(i){qn(i,e)}):e.push(t)),e}function T1(t,e,i,r,n,a){var l,u,c;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(i==null||n!=a||n.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(n),l=null;else{for(u=a,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==n)break e;t.insertBefore(n,a),l=a}return l!==void 0?l:n.nextSibling}function D1(t){var e,i,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((i=t.__k[e])&&(r=D1(i)))return r}return null}function vH(t,e,i,r,n){var a;for(a in i)a==="children"||a==="key"||a in e||Hp(t,a,null,i[a],r);for(a in e)n&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||i[a]===e[a]||Hp(t,a,e[a],i[a],r)}function A1(t,e,i){e[0]==="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||bH.test(e)?i:i+"px"}function Hp(t,e,i,r,n){var a;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||A1(t.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||A1(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=i,i?r||t.addEventListener(e,a?x1:w1,a):t.removeEventListener(e,a?x1:w1,a);else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,i))}}function w1(t){return this.l[t.type+!1](Se.event?Se.event(t):t)}function x1(t){return this.l[t.type+!0](Se.event?Se.event(t):t)}function xb(t,e,i,r,n,a,l,u,c){var d,f,m,b,C,S,A,F,_,X,k,B,G,V,te,D=e.type;if(e.constructor!==void 0)return null;i.__h!=null&&(c=i.__h,u=e.__e=i.__e,e.__h=null,a=[u]),(d=Se.__b)&&d(e);try{e:if(typeof D=="function"){if(F=e.props,_=(d=D.contextType)&&r[d.__c],X=d?_?_.props.value:d.__:r,i.__c?A=(f=e.__c=i.__c).__=f.__E:("prototype"in D&&D.prototype.render?e.__c=f=new D(F,X):(e.__c=f=new se(F,X),f.constructor=D,f.render=yH),_&&_.sub(f),f.props=F,f.state||(f.state={}),f.context=X,f.__n=r,m=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),D.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ko({},f.__s)),ko(f.__s,D.getDerivedStateFromProps(F,f.__s))),b=f.props,C=f.state,f.__v=e,m)D.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(D.getDerivedStateFromProps==null&&F!==b&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(F,X),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(F,f.__s,X)===!1||e.__v===i.__v){for(e.__v!==i.__v&&(f.props=F,f.state=f.__s,f.__d=!1),f.__e=!1,e.__e=i.__e,e.__k=i.__k,e.__k.forEach(function(z){z&&(z.__=e)}),k=0;k<f._sb.length;k++)f.__h.push(f._sb[k]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(F,f.__s,X),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(b,C,S)})}if(f.context=X,f.props=F,f.__P=t,B=Se.__r,G=0,"prototype"in D&&D.prototype.render){for(f.state=f.__s,f.__d=!1,B&&B(e),d=f.render(f.props,f.state,f.context),V=0;V<f._sb.length;V++)f.__h.push(f._sb[V]);f._sb=[]}else do f.__d=!1,B&&B(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++G<25);f.state=f.__s,f.getChildContext!=null&&(r=ko(ko({},r),f.getChildContext())),m||f.getSnapshotBeforeUpdate==null||(S=f.getSnapshotBeforeUpdate(b,C)),te=d!=null&&d.type===oe&&d.key==null?d.props.children:d,W1(t,Array.isArray(te)?te:[te],e,i,r,n,a,l,u,c),f.base=e.__e,e.__h=null,f.__h.length&&l.push(f),A&&(f.__E=f.__=null),f.__e=!1}else a==null&&e.__v===i.__v?(e.__k=i.__k,e.__e=i.__e):e.__e=IH(i.__e,e,i,r,n,a,l,c);(d=Se.diffed)&&d(e)}catch(z){e.__v=null,(c||a!=null)&&(e.__e=u,e.__h=!!c,a[a.indexOf(u)]=null),Se.__e(z,e,i)}}function L1(t,e){Se.__c&&Se.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){Se.__e(r,i.__v)}})}function IH(t,e,i,r,n,a,l,u){var c,d,f,m=i.props,b=e.props,C=e.type,S=0;if(C==="svg"&&(n=!0),a!=null){for(;S<a.length;S++)if((c=a[S])&&"setAttribute"in c==!!C&&(C?c.localName===C:c.nodeType===3)){t=c,a[S]=null;break}}if(t==null){if(C===null)return document.createTextNode(b);t=n?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,b.is&&b),a=null,u=!1}if(C===null)m===b||u&&t.data===b||(t.data=b);else{if(a=a&&lc.call(t.childNodes),d=(m=i.props||Vp).dangerouslySetInnerHTML,f=b.dangerouslySetInnerHTML,!u){if(a!=null)for(m={},S=0;S<t.attributes.length;S++)m[t.attributes[S].name]=t.attributes[S].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(vH(t,b,m,n,u),f)e.__k=[];else if(S=e.props.children,W1(t,Array.isArray(S)?S:[S],e,i,r,n&&C!=="foreignObject",a,l,a?a[0]:i.__k&&sc(i,0),u),a!=null)for(S=a.length;S--;)a[S]!=null&&N1(a[S]);u||("value"in b&&(S=b.value)!==void 0&&(S!==t.value||C==="progress"&&!S||C==="option"&&S!==m.value)&&Hp(t,"value",S,m.value,!1),"checked"in b&&(S=b.checked)!==void 0&&S!==t.checked&&Hp(t,"checked",S,m.checked,!1))}return t}function G1(t,e,i){try{typeof t=="function"?t(e):t.current=e}catch(r){Se.__e(r,i)}}function B1(t,e,i){var r,n;if(Se.unmount&&Se.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||G1(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Se.__e(a,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&B1(r[n],e,i||typeof t.type!="function");i||t.__e==null||N1(t.__e),t.__=t.__e=t.__d=void 0}function yH(t,e,i){return this.constructor(t,i)}function pa(t,e,i){var r,n,a;Se.__&&Se.__(t,e),n=(r=typeof i=="function")?null:i&&i.__k||e.__k,a=[],xb(e,t=(!r&&i||e).__k=At(oe,null,[t]),n||Vp,Vp,e.ownerSVGElement!==void 0,!r&&i?[i]:n?null:e.firstChild?lc.call(e.childNodes):null,a,!r&&i?i:n?n.__e:e.firstChild,r),L1(a,t)}function cc(t,e){pa(t,e,cc)}function M1(t,e,i){var r,n,a,l=ko({},t.props);for(a in e)a=="key"?r=e[a]:a=="ref"?n=e[a]:l[a]=e[a];return arguments.length>2&&(l.children=arguments.length>3?lc.call(arguments,2):i),ac(t.type,l,r||t.key,n||t.ref,null)}function sn(t,e){var i={__c:e="__cC"+E1++,__:t,Consumer:function(r,n){return r.children(n)},Provider:function(r){var n,a;return this.getChildContext||(n=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&n.some(function(u){u.__e=!0,wb(u)})},this.sub=function(l){n.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){n.splice(n.indexOf(l),1),u&&u.call(l)}}),r.children}};return i.Provider.__=i.Consumer.contextType=i}var lc,Se,S1,uc,ls,C1,R1,Ab,E1,Vp,F1,bH,we=R(()=>{Vp={},F1=[],bH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;lc=F1.slice,Se={__e:function(t,e,i,r){for(var n,a,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((a=n.constructor)&&a.getDerivedStateFromError!=null&&(n.setState(a.getDerivedStateFromError(t)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n.__d),l)return n.__E=n}catch(u){t=u}throw t}},S1=0,uc=function(t){return t!=null&&t.constructor===void 0},se.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ko({},this.state),typeof t=="function"&&(t=t(ko({},i),this.props)),t&&ko(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),wb(this))},se.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),wb(this))},se.prototype.render=oe,ls=[],R1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ab=function(t,e){return t.__v.__b-e.__v.__b},Up.__r=0,E1=0});function us(t,e){Se.__h&&Se.__h(Mt,t,dl||e),dl=0;var i=Mt.__H||(Mt.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:zp}),i.__[t]}function Rr(t){return dl=1,fa(Y1,t)}function fa(t,e,i){var r=us(ha++,2);if(r.t=t,!r.__c&&(r.__=[i?i(e):Y1(void 0,e),function(u){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,u);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Mt,!Mt.u)){var n=function(u,c,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(b){return b.__c});if(f.every(function(b){return!b.__N}))return!a||a.call(this,u,c,d);var m=!1;return f.forEach(function(b){if(b.__N){var C=b.__[0];b.__=b.__N,b.__N=void 0,C!==b.__[0]&&(m=!0)}}),!(!m&&r.__c.props===u)&&(!a||a.call(this,u,c,d))};Mt.u=!0;var a=Mt.shouldComponentUpdate,l=Mt.componentWillUpdate;Mt.componentWillUpdate=function(u,c,d){if(this.__e){var f=a;a=void 0,n(u,c,d),a=f}l&&l.call(this,u,c,d)},Mt.shouldComponentUpdate=n}return r.__N||r.__}function gr(t,e){var i=us(ha++,3);!Se.__s&&Fb(i.__H,e)&&(i.__=t,i.i=e,Mt.__H.__h.push(i))}function ln(t,e){var i=us(ha++,4);!Se.__s&&Fb(i.__H,e)&&(i.__=t,i.i=e,Mt.__h.push(i))}function qi(t){return dl=5,wi(function(){return{current:t}},[])}function Qp(t,e,i){dl=6,ln(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},i==null?i:i.concat(t))}function wi(t,e){var i=us(ha++,7);return Fb(i.__H,e)?(i.__V=t(),i.i=e,i.__h=t,i.__V):i.__}function dc(t,e){return dl=8,wi(function(){return t},e)}function un(t){var e=Mt.context[t.__c],i=us(ha++,9);return i.c=t,e?(i.__==null&&(i.__=!0,e.sub(Mt)),e.props.value):t.__}function jp(t,e){Se.useDebugValue&&Se.useDebugValue(e?e(t):t)}function CH(t){var e=us(ha++,10),i=Rr();return e.__=t,Mt.componentDidCatch||(Mt.componentDidCatch=function(r,n){e.__&&e.__(r,n),i[1](r)}),[i[0],function(){i[1](void 0)}]}function Eb(){var t=us(ha++,11);if(!t.__){for(var e=Mt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var i=e.__m||(e.__m=[0,0]);t.__="P"+i[0]+"-"+i[1]++}return t.__}function AH(){for(var t;t=z1.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Yp),t.__H.__h.forEach(Rb),t.__H.__h=[]}catch(e){t.__H.__h=[],Se.__e(e,t.__v)}}function wH(t){var e,i=function(){clearTimeout(r),H1&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(i,100);H1&&(e=requestAnimationFrame(i))}function Yp(t){var e=Mt,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),Mt=e}function Rb(t){var e=Mt;t.__c=t.__(),Mt=e}function Fb(t,e){return!t||t.length!==e.length||e.some(function(i,r){return i!==t[r]})}function Y1(t,e){return typeof e=="function"?e(t):e}var ha,Mt,Sb,k1,dl,z1,zp,X1,Z1,P1,V1,U1,H1,cs=R(()=>{we();dl=0,z1=[],zp=[],X1=Se.__b,Z1=Se.__r,P1=Se.diffed,V1=Se.__c,U1=Se.unmount;Se.__b=function(t){Mt=null,X1&&X1(t)},Se.__r=function(t){Z1&&Z1(t),ha=0;var e=(Mt=t.__c).__H;e&&(Sb===Mt?(e.__h=[],Mt.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=zp,i.__N=i.i=void 0})):(e.__h.forEach(Yp),e.__h.forEach(Rb),e.__h=[])),Sb=Mt},Se.diffed=function(t){P1&&P1(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(z1.push(e)!==1&&k1===Se.requestAnimationFrame||((k1=Se.requestAnimationFrame)||wH)(AH)),e.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==zp&&(i.__=i.__V),i.i=void 0,i.__V=zp})),Sb=Mt=null},Se.__c=function(t,e){e.some(function(i){try{i.__h.forEach(Yp),i.__h=i.__h.filter(function(r){return!r.__||Rb(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],Se.__e(r,i.__v)}}),V1&&V1(t,e)},Se.unmount=function(t){U1&&U1(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{Yp(r)}catch(n){e=n}}),i.__H=void 0,e&&Se.__e(e,i.__v))};H1=typeof requestAnimationFrame=="function"});var ww={};jt(ww,{Children:()=>hc,Component:()=>se,Fragment:()=>oe,PureComponent:()=>Ii,StrictMode:()=>vw,Suspense:()=>pc,SuspenseList:()=>pl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>pw,cloneElement:()=>fw,createContext:()=>sn,createElement:()=>At,createFactory:()=>hw,createPortal:()=>Ke,createRef:()=>be,default:()=>Ge,findDOMNode:()=>mw,flushSync:()=>bw,forwardRef:()=>cn,hydrate:()=>dw,isValidElement:()=>Ob,lazy:()=>lw,memo:()=>nw,render:()=>cw,startTransition:()=>Tb,unmountComponentAtNode:()=>gw,unstable_batchedUpdates:()=>fc,useCallback:()=>dc,useContext:()=>un,useDebugValue:()=>jp,useDeferredValue:()=>Iw,useEffect:()=>gr,useErrorBoundary:()=>CH,useId:()=>Eb,useImperativeHandle:()=>Qp,useInsertionEffect:()=>Cw,useLayoutEffect:()=>ln,useMemo:()=>wi,useReducer:()=>fa,useRef:()=>qi,useState:()=>Rr,useSyncExternalStore:()=>Aw,useTransition:()=>yw,version:()=>GH});function rw(t,e){for(var i in e)t[i]=e[i];return t}function _b(t,e){for(var i in t)if(i!=="__source"&&!(i in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Nb(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function Ii(t){this.props=t}function nw(t,e){function i(n){var a=this.props.ref,l=a==n.ref;return!l&&a&&(a.call?a(null):a.current=null),e?!e(this.props,n)||!l:_b(this.props,n)}function r(n){return this.shouldComponentUpdate=i,At(t,n)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function cn(t){function e(i){var r=rw({},i);return delete r.ref,t(r,i.ref||null)}return e.$$typeof=xH,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function ow(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=rw({},t)).__c!=null&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ow(r,e,i)})),t}function aw(t,e,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return aw(r,e,i)}),t.__c&&t.__c.__P===e&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}function pc(){this.__u=0,this.t=null,this.__b=null}function sw(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function lw(t){var e,i,r;function n(a){if(e||(e=t()).then(function(l){i=l.default||l},function(l){r=l}),r)throw r;if(!i)throw e;return At(i,a)}return n.displayName="Lazy",n.__f=!0,n}function pl(){this.u=null,this.o=null}function RH(t){return this.getChildContext=function(){return t.context},t.children}function EH(t){var e=this,i=t.i;e.componentWillUnmount=function(){pa(null,e.l),e.l=null,e.i=null},e.i&&e.i!==i&&e.componentWillUnmount(),t.__v?(e.l||(e.i=i,e.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),pa(At(RH,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Ke(t,e){var i=At(EH,{__v:t,i:e});return i.containerInfo=e,i}function cw(t,e,i){return e.__k==null&&(e.textContent=""),pa(t,e),typeof i=="function"&&i(),t?t.__c:null}function dw(t,e,i){return cc(t,e),typeof i=="function"&&i(),t?t.__c:null}function TH(){}function DH(){return this.cancelBubble}function LH(){return this.defaultPrevented}function hw(t){return At.bind(null,t)}function Ob(t){return!!t&&t.$$typeof===uw}function fw(t){return Ob(t)?M1.apply(null,arguments):t}function gw(t){return!!t.__k&&(pa(null,t),!0)}function mw(t){return t&&(t.base||t.nodeType===1&&t)||null}function Tb(t){t()}function Iw(t){return t}function yw(){return[!1,Tb]}function Aw(t,e){var i=e(),r=Rr({h:{__:i,v:e}}),n=r[0].h,a=r[1];return ln(function(){n.__=i,n.v=e,Nb(n.__,e())||a({h:n})},[t,i,e]),gr(function(){return Nb(n.__,n.v())||a({h:n}),t(function(){Nb(n.__,n.v())||a({h:n})})},[t]),i}var Q1,xH,j1,hc,SH,J1,q1,uw,FH,NH,_H,WH,OH,$1,Wb,K1,ew,tw,iw,pw,GH,fc,bw,vw,Cw,Ge,Ee=R(()=>{we();we();cs();cs();(Ii.prototype=new se).isPureReactComponent=!0,Ii.prototype.shouldComponentUpdate=function(t,e){return _b(this.props,t)||_b(this.state,e)};Q1=Se.__b;Se.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Q1&&Q1(t)};xH=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;j1=function(t,e){return t==null?null:qn(qn(t).map(e))},hc={map:j1,forEach:j1,count:function(t){return t?qn(t).length:0},only:function(t){var e=qn(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:qn},SH=Se.__e;Se.__e=function(t,e,i,r){if(t.then){for(var n,a=e;a=a.__;)if((n=a.__c)&&n.__c)return e.__e==null&&(e.__e=i.__e,e.__k=i.__k),n.__c(t,e)}SH(t,e,i,r)};J1=Se.unmount;Se.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),J1&&J1(t)},(pc.prototype=new se).__c=function(t,e){var i=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(i);var n=sw(r.__v),a=!1,l=function(){a||(a=!0,i.__R=null,n?n(u):u())};i.__R=l;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=aw(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(l,l)},pc.prototype.componentWillUnmount=function(){this.t=[]},pc.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ow(this.__b,i,r.__O=r.__P)}this.__b=null}var n=e.__a&&At(oe,null,t.fallback);return n&&(n.__h=null),[At(oe,null,e.__a?null:t.children),n]};q1=function(t,e,i){if(++i[1]===i[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};(pl.prototype=new se).__a=function(t){var e=this,i=sw(e.__v),r=e.o.get(t);return r[0]++,function(n){var a=function(){e.props.revealOrder?(r.push(n),q1(e,t,r)):n()};i?i(a):a()}},pl.prototype.render=function(t){this.u=null,this.o=new Map;var e=qn(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var i=e.length;i--;)this.o.set(e[i],this.u=[1,0,this.u]);return t.children},pl.prototype.componentDidUpdate=pl.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,i){q1(t,i,e)})};uw=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,FH=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,NH=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,_H=/[A-Z0-9]/g,WH=typeof document<"u",OH=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};se.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(se.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});$1=Se.event;Se.event=function(t){return $1&&(t=$1(t)),t.persist=TH,t.isPropagationStopped=DH,t.isDefaultPrevented=LH,t.nativeEvent=t};K1={configurable:!0,get:function(){return this.class}},ew=Se.vnode;Se.vnode=function(t){var e=t.type,i=t.props,r=i;if(typeof e=="string"){for(var n in r={},i){var a=i[n];if(!(n==="value"&&"defaultValue"in i&&a==null||WH&&n==="children"&&e==="noscript")){var l=n.toLowerCase();n==="defaultValue"&&"value"in i&&i.value==null?n="value":n==="download"&&a===!0?a="":l==="ondoubleclick"?n="ondblclick":l!=="onchange"||e!=="input"&&e!=="textarea"||OH(i.type)?l==="onfocus"?n="onfocusin":l==="onblur"?n="onfocusout":NH.test(n)?n=l:e.indexOf("-")===-1&&FH.test(n)?n=n.replace(_H,"-$&").toLowerCase():a===null&&(a=void 0):l=n="oninput",l==="oninput"&&r[n=l]&&(n="oninputCapture"),r[n]=a}}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=qn(i.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=qn(i.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),t.props=r,i.class!=i.className&&(K1.enumerable="className"in i,i.className!=null&&(r.class=i.className),Object.defineProperty(r,"className",K1))}t.$$typeof=uw,ew&&ew(t)};tw=Se.__r;Se.__r=function(t){tw&&tw(t),Wb=t.__c};iw=Se.diffed;Se.diffed=function(t){iw&&iw(t);var e=t.props,i=t.__e;i!=null&&t.type==="textarea"&&"value"in e&&e.value!==i.value&&(i.value=e.value==null?"":e.value),Wb=null};pw={ReactCurrentDispatcher:{current:{readContext:function(t){return Wb.__n[t.__c].props.value}}}},GH="17.0.2";fc=function(t,e){return t(e)},bw=function(t,e){return t(e)},vw=oe;Cw=ln;Ge={useState:Rr,useId:Eb,useReducer:fa,useEffect:gr,useLayoutEffect:ln,useInsertionEffect:Cw,useTransition:yw,useDeferredValue:Iw,useSyncExternalStore:Aw,startTransition:Tb,useRef:qi,useImperativeHandle:Qp,useMemo:wi,useCallback:dc,useContext:un,useDebugValue:jp,version:"17.0.2",Children:hc,render:cw,hydrate:dw,unmountComponentAtNode:gw,createPortal:Ke,createElement:At,createContext:sn,createFactory:hw,cloneElement:fw,createRef:be,Fragment:oe,isValidElement:Ob,findDOMNode:mw,Component:se,PureComponent:Ii,memo:nw,forwardRef:cn,flushSync:bw,unstable_batchedUpdates:fc,StrictMode:vw,Suspense:pc,SuspenseList:pl,lazy:lw,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:pw}});var Sw=U((cse,xw)=>{"use strict";var BH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";xw.exports=BH});var Nw=U((dse,Fw)=>{"use strict";var MH=Sw();function Rw(){}function Ew(){}Ew.resetWarningCache=Rw;Fw.exports=function(){function t(r,n,a,l,u,c){if(c!==MH){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ew,resetWarningCache:Rw};return i.PropTypes=i,i}});var Db=U((fse,_w)=>{_w.exports=Nw()();var pse,hse});var dn,ga=R(()=>{Ee();dn=Ge.createContext(null)});function kH(t){t()}var Ww,Ow,Tw,Lb=R(()=>{Ww=kH,Ow=function(e){return Ww=e},Tw=function(){return Ww}});function XH(){var t=Tw(),e=null,i=null;return{clear:function(){e=null,i=null},notify:function(){t(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],a=e;a;)n.push(a),a=a.next;return n},subscribe:function(n){var a=!0,l=i={callback:n,next:null,prev:i};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:i=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}function gc(t,e){var i,r=Dw;function n(m){return c(),r.subscribe(m)}function a(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return!!i}function c(){i||(i=e?e.addNestedSub(l):t.subscribe(l),r=XH())}function d(){i&&(i(),i=void 0,r.clear(),r=Dw)}var f={addNestedSub:n,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return f}var Dw,Jp=R(()=>{Lb();Dw={notify:function(){},get:function(){return[]}}});var mc,qp=R(()=>{Ee();mc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ln:gr});function ZH(t){var e=t.store,i=t.context,r=t.children,n=wi(function(){var u=gc(e);return{store:e,subscription:u}},[e]),a=wi(function(){return e.getState()},[e]);mc(function(){var u=n.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[n,a]);var l=i||dn;return Ge.createElement(l.Provider,{value:n},r)}var bc,Lw=R(()=>{Ee();ga();Jp();qp();bc=ZH});function Wt(){return Wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Wt.apply(this,arguments)}var ds=R(()=>{});function mr(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var hl=R(()=>{});var Bw=U(Ot=>{"use strict";var Ni=typeof Symbol=="function"&&Symbol.for,Gb=Ni?Symbol.for("react.element"):60103,Bb=Ni?Symbol.for("react.portal"):60106,$p=Ni?Symbol.for("react.fragment"):60107,Kp=Ni?Symbol.for("react.strict_mode"):60108,eh=Ni?Symbol.for("react.profiler"):60114,th=Ni?Symbol.for("react.provider"):60109,ih=Ni?Symbol.for("react.context"):60110,Mb=Ni?Symbol.for("react.async_mode"):60111,rh=Ni?Symbol.for("react.concurrent_mode"):60111,nh=Ni?Symbol.for("react.forward_ref"):60112,oh=Ni?Symbol.for("react.suspense"):60113,PH=Ni?Symbol.for("react.suspense_list"):60120,ah=Ni?Symbol.for("react.memo"):60115,sh=Ni?Symbol.for("react.lazy"):60116,VH=Ni?Symbol.for("react.block"):60121,UH=Ni?Symbol.for("react.fundamental"):60117,HH=Ni?Symbol.for("react.responder"):60118,zH=Ni?Symbol.for("react.scope"):60119;function Pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gb:switch(t=t.type,t){case Mb:case rh:case $p:case eh:case Kp:case oh:return t;default:switch(t=t&&t.$$typeof,t){case ih:case nh:case sh:case ah:case th:return t;default:return e}}case Bb:return e}}}function Gw(t){return Pr(t)===rh}Ot.AsyncMode=Mb;Ot.ConcurrentMode=rh;Ot.ContextConsumer=ih;Ot.ContextProvider=th;Ot.Element=Gb;Ot.ForwardRef=nh;Ot.Fragment=$p;Ot.Lazy=sh;Ot.Memo=ah;Ot.Portal=Bb;Ot.Profiler=eh;Ot.StrictMode=Kp;Ot.Suspense=oh;Ot.isAsyncMode=function(t){return Gw(t)||Pr(t)===Mb};Ot.isConcurrentMode=Gw;Ot.isContextConsumer=function(t){return Pr(t)===ih};Ot.isContextProvider=function(t){return Pr(t)===th};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gb};Ot.isForwardRef=function(t){return Pr(t)===nh};Ot.isFragment=function(t){return Pr(t)===$p};Ot.isLazy=function(t){return Pr(t)===sh};Ot.isMemo=function(t){return Pr(t)===ah};Ot.isPortal=function(t){return Pr(t)===Bb};Ot.isProfiler=function(t){return Pr(t)===eh};Ot.isStrictMode=function(t){return Pr(t)===Kp};Ot.isSuspense=function(t){return Pr(t)===oh};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$p||t===rh||t===eh||t===Kp||t===oh||t===PH||typeof t=="object"&&t!==null&&(t.$$typeof===sh||t.$$typeof===ah||t.$$typeof===th||t.$$typeof===ih||t.$$typeof===nh||t.$$typeof===UH||t.$$typeof===HH||t.$$typeof===zH||t.$$typeof===VH)};Ot.typeOf=Pr});var kb=U((_se,Mw)=>{"use strict";Mw.exports=Bw()});var lh=U((Wse,Uw)=>{"use strict";var Xb=kb(),YH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zb={};Zb[Xb.ForwardRef]=jH;Zb[Xb.Memo]=Pw;function kw(t){return Xb.isMemo(t)?Pw:Zb[t.$$typeof]||YH}var JH=Object.defineProperty,qH=Object.getOwnPropertyNames,Xw=Object.getOwnPropertySymbols,$H=Object.getOwnPropertyDescriptor,KH=Object.getPrototypeOf,Zw=Object.prototype;function Vw(t,e,i){if(typeof e!="string"){if(Zw){var r=KH(e);r&&r!==Zw&&Vw(t,r,i)}var n=qH(e);Xw&&(n=n.concat(Xw(e)));for(var a=kw(t),l=kw(e),u=0;u<n.length;++u){var c=n[u];if(!QH[c]&&!(i&&i[c])&&!(l&&l[c])&&!(a&&a[c])){var d=$H(e,c);try{JH(t,c,d)}catch{}}}}return t}Uw.exports=Vw});var Jw=U(kt=>{"use strict";var uh=60103,ch=60106,vc=60107,Ic=60108,yc=60114,Cc=60109,Ac=60110,wc=60112,xc=60113,Pb=60120,Sc=60115,Rc=60116,Hw=60121,zw=60122,Yw=60117,Qw=60129,jw=60131;typeof Symbol=="function"&&Symbol.for&&(_i=Symbol.for,uh=_i("react.element"),ch=_i("react.portal"),vc=_i("react.fragment"),Ic=_i("react.strict_mode"),yc=_i("react.profiler"),Cc=_i("react.provider"),Ac=_i("react.context"),wc=_i("react.forward_ref"),xc=_i("react.suspense"),Pb=_i("react.suspense_list"),Sc=_i("react.memo"),Rc=_i("react.lazy"),Hw=_i("react.block"),zw=_i("react.server.block"),Yw=_i("react.fundamental"),Qw=_i("react.debug_trace_mode"),jw=_i("react.legacy_hidden"));var _i;function Nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uh:switch(t=t.type,t){case vc:case yc:case Ic:case xc:case Pb:return t;default:switch(t=t&&t.$$typeof,t){case Ac:case wc:case Rc:case Sc:case Cc:return t;default:return e}}case ch:return e}}}var e3=Cc,t3=uh,i3=wc,r3=vc,n3=Rc,o3=Sc,a3=ch,s3=yc,l3=Ic,u3=xc;kt.ContextConsumer=Ac;kt.ContextProvider=e3;kt.Element=t3;kt.ForwardRef=i3;kt.Fragment=r3;kt.Lazy=n3;kt.Memo=o3;kt.Portal=a3;kt.Profiler=s3;kt.StrictMode=l3;kt.Suspense=u3;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return Nn(t)===Ac};kt.isContextProvider=function(t){return Nn(t)===Cc};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uh};kt.isForwardRef=function(t){return Nn(t)===wc};kt.isFragment=function(t){return Nn(t)===vc};kt.isLazy=function(t){return Nn(t)===Rc};kt.isMemo=function(t){return Nn(t)===Sc};kt.isPortal=function(t){return Nn(t)===ch};kt.isProfiler=function(t){return Nn(t)===yc};kt.isStrictMode=function(t){return Nn(t)===Ic};kt.isSuspense=function(t){return Nn(t)===xc};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vc||t===yc||t===Qw||t===Ic||t===xc||t===Pb||t===jw||typeof t=="object"&&t!==null&&(t.$$typeof===Rc||t.$$typeof===Sc||t.$$typeof===Cc||t.$$typeof===Ac||t.$$typeof===wc||t.$$typeof===Yw||t.$$typeof===Hw||t[0]===zw)};kt.typeOf=Nn});var $w=U((Tse,qw)=>{"use strict";qw.exports=Jw()});function f3(t,e){var i=t[1];return[e.payload,i+1]}function Kw(t,e,i){mc(function(){return t.apply(void 0,e)},i)}function g3(t,e,i,r,n,a,l){t.current=r,e.current=n,i.current=!1,a.current&&(a.current=null,l())}function m3(t,e,i,r,n,a,l,u,c,d){if(t){var f=!1,m=null,b=function(){if(!f){var A=e.getState(),F,_;try{F=r(A,n.current)}catch(X){_=X,m=X}_||(m=null),F===a.current?l.current||c():(a.current=F,u.current=F,l.current=!0,d({type:"STORE_UPDATED",payload:{error:_}}))}};i.onStateChange=b,i.trySubscribe(),b();var C=function(){if(f=!0,i.tryUnsubscribe(),i.onStateChange=null,m)throw m};return C}}function dh(t,e){e===void 0&&(e={});var i=e,r=i.getDisplayName,n=r===void 0?function(V){return"ConnectAdvanced("+V+")"}:r,a=i.methodName,l=a===void 0?"connectAdvanced":a,u=i.renderCountProp,c=u===void 0?void 0:u,d=i.shouldHandleStateChanges,f=d===void 0?!0:d,m=i.storeKey,b=m===void 0?"store":m,C=i.withRef,S=C===void 0?!1:C,A=i.forwardRef,F=A===void 0?!1:A,_=i.context,X=_===void 0?dn:_,k=mr(i,c3);if(!1)var B;var G=X;return function(te){var D=te.displayName||te.name||"Component",z=n(D),re=Wt({},k,{getDisplayName:n,methodName:l,renderCountProp:c,shouldHandleStateChanges:f,storeKey:b,displayName:z,wrappedComponentName:D,WrappedComponent:te}),ne=k.pure;function q(fe){return t(fe.dispatch,re)}var L=ne?wi:function(fe){return fe()};function Q(fe){var J=wi(function(){var Kt=fe.reactReduxForwardedRef,mo=mr(fe,d3);return[fe.context,Kt,mo]},[fe]),Z=J[0],ee=J[1],ue=J[2],ce=wi(function(){return Z&&Z.Consumer&&(0,ex.isContextConsumer)(Ge.createElement(Z.Consumer,null))?Z:G},[Z,G]),he=un(ce),ve=!!fe.store&&!!fe.store.getState&&!!fe.store.dispatch,Oe=!!he&&!!he.store,Le=ve?fe.store:he.store,Te=wi(function(){return q(Le)},[Le]),He=wi(function(){if(!f)return h3;var Kt=gc(Le,ve?null:he.subscription),mo=Kt.notifyNestedSubs.bind(Kt);return[Kt,mo]},[Le,ve,he]),rt=He[0],Ye=He[1],Me=wi(function(){return ve?he:Wt({},he,{subscription:rt})},[ve,he,rt]),Ue=fa(f3,p3,b3),et=Ue[0],st=et[0],Xe=Ue[1];if(st&&st.error)throw st.error;var Dt=qi(),Li=qi(ue),$t=qi(),xt=qi(!1),Ut=L(function(){return $t.current&&ue===Li.current?$t.current:Te(Le.getState(),ue)},[Le,st,ue]);Kw(g3,[Li,Dt,xt,ue,Ut,$t,Ye]),Kw(m3,[f,Le,rt,Te,Li,Dt,xt,$t,Ye,Xe],[Le,rt,Te]);var ut=wi(function(){return Ge.createElement(te,Wt({},Ut,{ref:ee}))},[ee,te,Ut]),Qr=wi(function(){return f?Ge.createElement(ce.Provider,{value:Me},ut):ut},[ce,ut,Me]);return Qr}var K=ne?Ge.memo(Q):Q;if(K.WrappedComponent=te,K.displayName=Q.displayName=z,F){var $=Ge.forwardRef(function(J,Z){return Ge.createElement(K,Wt({},J,{reactReduxForwardedRef:Z}))});return $.displayName=z,$.WrappedComponent=te,(0,Vb.default)($,te)}return(0,Vb.default)(K,te)}}var Vb,ex,c3,d3,p3,h3,b3,Ub=R(()=>{ds();hl();Vb=de(lh());Ee();ex=de($w());Jp();qp();ga();c3=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],d3=["reactReduxForwardedRef"],p3=[],h3=[null,null];b3=function(){return[null,0]}});function tx(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function fl(t,e){if(tx(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.prototype.hasOwnProperty.call(e,i[n])||!tx(t[i[n]],e[i[n]]))return!1;return!0}var Hb=R(()=>{});function zb(t,e){var i={},r=function(l){var u=t[l];typeof u=="function"&&(i[l]=function(){return e(u.apply(void 0,arguments))})};for(var n in t)r(n);return i}var ix=R(()=>{});var rx=R(()=>{});var Yb=R(()=>{});var Qb=R(()=>{rx();Yb()});function Ec(t){return function(i,r){var n=t(i,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function nx(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function ph(t,e){return function(r,n){var a=n.displayName,l=function(c,d){return l.dependsOnOwnProps?l.mapToProps(c,d):l.mapToProps(c)};return l.dependsOnOwnProps=!0,l.mapToProps=function(c,d){l.mapToProps=t,l.dependsOnOwnProps=nx(t);var f=l(c,d);return typeof f=="function"&&(l.mapToProps=f,l.dependsOnOwnProps=nx(f),f=l(c,d)),f},l}}var jb=R(()=>{Qb()});function I3(t){return typeof t=="function"?ph(t,"mapDispatchToProps"):void 0}function y3(t){return t?void 0:Ec(function(e){return{dispatch:e}})}function C3(t){return t&&typeof t=="object"?Ec(function(e){return zb(t,e)}):void 0}var ox,ax=R(()=>{ix();jb();ox=[I3,y3,C3]});function A3(t){return typeof t=="function"?ph(t,"mapStateToProps"):void 0}function w3(t){return t?void 0:Ec(function(){return{}})}var sx,lx=R(()=>{jb();sx=[A3,w3]});function x3(t,e,i){return Wt({},i,t,e)}function S3(t){return function(i,r){var n=r.displayName,a=r.pure,l=r.areMergedPropsEqual,u=!1,c;return function(f,m,b){var C=t(f,m,b);return u?(!a||!l(C,c))&&(c=C):(u=!0,c=C),c}}}function R3(t){return typeof t=="function"?S3(t):void 0}function E3(t){return t?void 0:function(){return x3}}var ux,cx=R(()=>{ds();Qb();ux=[R3,E3]});var dx=R(()=>{Yb()});function N3(t,e,i,r){return function(a,l){return i(t(a,l),e(r,l),l)}}function _3(t,e,i,r,n){var a=n.areStatesEqual,l=n.areOwnPropsEqual,u=n.areStatePropsEqual,c=!1,d,f,m,b,C;function S(k,B){return d=k,f=B,m=t(d,f),b=e(r,f),C=i(m,b,f),c=!0,C}function A(){return m=t(d,f),e.dependsOnOwnProps&&(b=e(r,f)),C=i(m,b,f),C}function F(){return t.dependsOnOwnProps&&(m=t(d,f)),e.dependsOnOwnProps&&(b=e(r,f)),C=i(m,b,f),C}function _(){var k=t(d,f),B=!u(k,m);return m=k,B&&(C=i(m,b,f)),C}function X(k,B){var G=!l(B,f),V=!a(k,d,B,f);return d=k,f=B,G&&V?A():G?F():V?_():C}return function(B,G){return c?X(B,G):S(B,G)}}function Jb(t,e){var i=e.initMapStateToProps,r=e.initMapDispatchToProps,n=e.initMergeProps,a=mr(e,F3),l=i(t,a),u=r(t,a),c=n(t,a),d=a.pure?_3:N3;return d(l,u,c,t,a)}var F3,px=R(()=>{hl();dx();F3=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function qb(t,e,i){for(var r=e.length-1;r>=0;r--){var n=e[r](t);if(n)return n}return function(a,l){throw new Error("Invalid value of type "+typeof t+" for "+i+" argument when connecting component "+l.wrappedComponentName+".")}}function O3(t,e){return t===e}function T3(t){var e=t===void 0?{}:t,i=e.connectHOC,r=i===void 0?dh:i,n=e.mapStateToPropsFactories,a=n===void 0?sx:n,l=e.mapDispatchToPropsFactories,u=l===void 0?ox:l,c=e.mergePropsFactories,d=c===void 0?ux:c,f=e.selectorFactory,m=f===void 0?Jb:f;return function(C,S,A,F){F===void 0&&(F={});var _=F,X=_.pure,k=X===void 0?!0:X,B=_.areStatesEqual,G=B===void 0?O3:B,V=_.areOwnPropsEqual,te=V===void 0?fl:V,D=_.areStatePropsEqual,z=D===void 0?fl:D,re=_.areMergedPropsEqual,ne=re===void 0?fl:re,q=mr(_,W3),L=qb(C,a,"mapStateToProps"),Q=qb(S,u,"mapDispatchToProps"),K=qb(A,d,"mergeProps");return r(m,Wt({methodName:"connect",getDisplayName:function(fe){return"Connect("+fe+")"},shouldHandleStateChanges:!!C,initMapStateToProps:L,initMapDispatchToProps:Q,initMergeProps:K,pure:k,areStatesEqual:G,areOwnPropsEqual:te,areStatePropsEqual:z,areMergedPropsEqual:ne},q))}}var W3,ke,hx=R(()=>{ds();hl();Ub();Hb();ax();lx();cx();px();W3=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];ke=T3()});function $b(){var t=un(dn);return t}var Kb=R(()=>{Ee();ga()});function ev(t){t===void 0&&(t=dn);var e=t===dn?$b:function(){return un(t)};return function(){var r=e(),n=r.store;return n}}var hh,tv=R(()=>{Ee();ga();Kb();hh=ev()});var fx=R(()=>{ga();tv()});var gx=R(()=>{Ee();Kb();Jp();qp();ga()});var mx=R(()=>{Lw();Ub();ga();hx();fx();gx();tv();Hb()});var bx=R(()=>{Ee()});var lt=R(()=>{mx();bx();Lb();Ow(fc)});var Nc=U(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.frontloadConnect=hs.Frontload=void 0;var iv=function(){function t(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();hs.frontloadServerRender=U3;var D3=(Ee(),oc(ww)),Fc=Ix(D3),L3=Db(),vx=Ix(L3);function Ix(t){return t&&t.__esModule?t:{default:t}}function yx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ax(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var G3=function(){return typeof window>"u"||!window.document||!window.document.createElement},B3=G3(),gl=[],ps={MOUNT:0,UPDATE:1},M3=!1,wx=function(e,i){for(var r=[],n=0;n<e.length;n++)r.push(i(e[n],n));return r};function k3(t,e){var i=e.withLogging,r=e.continueRenderingOnError,n=void 0;return Promise.all(wx(t,function(a){return a.catch(function(l){return n||(n=l),i&&M3("frontloadServerRender info","ERROR:",l),l})})).then(function(){if(r!==!0&&n)throw n})}var X3=hs.Frontload=function(t){Ax(e,t),iv(e,[{key:"getChildContext",value:function(){var r=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(a,l,u,c,d){var f=u===ps.MOUNT,m=u===ps.UPDATE,b=r.props.noServerRender||l.noServerRender;r.isServer&&b||f&&l.onMount===!1||m&&!l.onUpdate||(r.isServer?gl.unshift({fn:function(){return a(c,{isMount:f,isUpdate:m})},options:l,componentDisplayName:c.displayName}):(b||r.firstClientRenderDone)&&a(c,{isMount:f,isUpdate:m}))}}}}}]);function e(i,r){yx(this,e);var n=Cx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.isServer=i.isServer===void 0?B3:i.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return iv(e,[{key:"render",value:function(){return Fc.default.Children.only(this.props.children)}}]),e}(Fc.default.Component);X3.childContextTypes={frontload:vx.default.object};var xx=function(t){Ax(e,t);function e(i,r){yx(this,e);var n=Cx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.pushFrontload=function(a){return function(l){if(a===ps.UPDATE){var u=n.props.options._experimental_updateFunc;if(u&&!u(l.componentProps,n.props.componentProps))return}var c="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(a===ps.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,a,n.props.componentProps,c)}},r.frontload.isServer?n.componentWillMount=n.pushFrontload(ps.MOUNT):(n.componentDidMount=n.pushFrontload(ps.MOUNT),n.componentDidUpdate=n.pushFrontload(ps.UPDATE)),n}return iv(e,[{key:"render",value:function(){return Fc.default.createElement(this.props.component,this.props.componentProps)}}]),e}(Fc.default.Component);xx.contextTypes={frontload:vx.default.object};var nue=hs.frontloadConnect=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){return function(n){return Fc.default.createElement(xx,{frontload:e,component:r,componentProps:n,options:i})}}};function Z3(t){t(!0);var e=gl;return gl=[],e}function P3(t,e){return k3(wx(t,function(i){return i.fn()}),e)}function V3(t){var e=t(!1);return gl=[],e}function Sx(t,e){var i=e.withLogging,r=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=Z3(t),c=u.length+0,d=c-l;if(!d){var f=V3(t);return Promise.resolve(f)}var m=i&&Date.now();return P3(u,{withLogging:i,continueRenderingOnError:n}).then(function(){if(a===r){var b=t(!1),C=gl.length+0,S=C-c;return gl=[],b}return Sx(t,{withLogging:i,maxNestedFrontloadComponents:r,continueRenderingOnError:n},a+1,c)})}function U3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),Sx(t,e)}});function _c(t,e){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_c(t,e)}var Rx=R(()=>{});function Er(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_c(t,e)}var fh=R(()=>{Rx()});function gh(t){return t.charAt(0)==="/"}function rv(t,e){for(var i=e,r=i+1,n=t.length;r<n;i+=1,r+=1)t[i]=t[r];t.pop()}function H3(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],r=e&&e.split("/")||[],n=t&&gh(t),a=e&&gh(e),l=n||a;if(t&&gh(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";var u;if(r.length){var c=r[r.length-1];u=c==="."||c===".."||c===""}else u=!1;for(var d=0,f=r.length;f>=0;f--){var m=r[f];m==="."?rv(r,f):m===".."?(rv(r,f),d++):d&&(rv(r,f),d--)}if(!l)for(;d--;d)r.unshift("..");l&&r[0]!==""&&(!r[0]||!gh(r[0]))&&r.unshift("");var b=r.join("/");return u&&b.substr(-1)!=="/"&&(b+="/"),b}var Ex,Fx=R(()=>{Ex=H3});var Nx=R(()=>{});function Y3(t,e){if(!z3){if(t)return;var i="Warning: "+e;typeof console<"u"&&console.warn(i);try{throw Error(i)}catch{}}}var z3,nv,_x=R(()=>{z3=!0;nv=Y3});function _n(t,e){if(!t){if(Q3)throw new Error(ov);var i=typeof e=="function"?e():e,r=i?"".concat(ov,": ").concat(i):ov;throw new Error(r)}}var Q3,ov,mh=R(()=>{Q3=!0,ov="Invariant failed"});function Oc(t){return t.charAt(0)==="/"?t:"/"+t}function Wx(t){return t.charAt(0)==="/"?t.substr(1):t}function j3(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Bx(t,e){return j3(t,e)?t.substr(e.length):t}function Mx(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function J3(t){var e=t||"/",i="",r="",n=e.indexOf("#");n!==-1&&(r=e.substr(n),e=e.substr(0,n));var a=e.indexOf("?");return a!==-1&&(i=e.substr(a),e=e.substr(0,a)),{pathname:e,search:i==="?"?"":i,hash:r==="#"?"":r}}function $i(t){var e=t.pathname,i=t.search,r=t.hash,n=e||"/";return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function br(t,e,i,r){var n;typeof t=="string"?(n=J3(t),n.state=e):(n=Wt({},t),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return i&&(n.key=i),r?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=Ex(n.pathname,r.pathname)):n.pathname=r.pathname:n.pathname||(n.pathname="/"),n}function sv(){var t=null;function e(l){return t=l,function(){t===l&&(t=null)}}function i(l,u,c,d){if(t!=null){var f=typeof t=="function"?t(l,u):t;typeof f=="string"?typeof c=="function"?c(f,d):d(!0):d(f!==!1)}else d(!0)}var r=[];function n(l){var u=!0;function c(){u&&l.apply(void 0,arguments)}return r.push(c),function(){u=!1,r=r.filter(function(d){return d!==c})}}function a(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];r.forEach(function(d){return d.apply(void 0,u)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:n,notifyListeners:a}}function Xx(t,e){e(window.confirm(t))}function q3(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function $3(){return window.navigator.userAgent.indexOf("Trident")===-1}function K3(){return window.navigator.userAgent.indexOf("Firefox")===-1}function ez(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function Dx(){try{return window.history.state||{}}catch{return{}}}function bh(t){t===void 0&&(t={}),kx||_n(!1);var e=window.history,i=q3(),r=!$3(),n=t,a=n.forceRefresh,l=a===void 0?!1:a,u=n.getUserConfirmation,c=u===void 0?Xx:u,d=n.keyLength,f=d===void 0?6:d,m=t.basename?Mx(Oc(t.basename)):"";function b(Z){var ee=Z||{},ue=ee.key,ce=ee.state,he=window.location,ve=he.pathname,Oe=he.search,Le=he.hash,Te=ve+Oe+Le;return m&&(Te=Bx(Te,m)),br(Te,ce,ue)}function C(){return Math.random().toString(36).substr(2,f)}var S=sv();function A(Z){Wt(J,Z),J.length=e.length,S.notifyListeners(J.location,J.action)}function F(Z){ez(Z)||k(b(Z.state))}function _(){k(b(Dx()))}var X=!1;function k(Z){if(X)X=!1,A();else{var ee="POP";S.confirmTransitionTo(Z,ee,c,function(ue){ue?A({action:ee,location:Z}):B(Z)})}}function B(Z){var ee=J.location,ue=V.indexOf(ee.key);ue===-1&&(ue=0);var ce=V.indexOf(Z.key);ce===-1&&(ce=0);var he=ue-ce;he&&(X=!0,re(he))}var G=b(Dx()),V=[G.key];function te(Z){return m+$i(Z)}function D(Z,ee){var ue="PUSH",ce=br(Z,ee,C(),J.location);S.confirmTransitionTo(ce,ue,c,function(he){if(he){var ve=te(ce),Oe=ce.key,Le=ce.state;if(i)if(e.pushState({key:Oe,state:Le},null,ve),l)window.location.href=ve;else{var Te=V.indexOf(J.location.key),He=V.slice(0,Te+1);He.push(ce.key),V=He,A({action:ue,location:ce})}else window.location.href=ve}})}function z(Z,ee){var ue="REPLACE",ce=br(Z,ee,C(),J.location);S.confirmTransitionTo(ce,ue,c,function(he){if(he){var ve=te(ce),Oe=ce.key,Le=ce.state;if(i)if(e.replaceState({key:Oe,state:Le},null,ve),l)window.location.replace(ve);else{var Te=V.indexOf(J.location.key);Te!==-1&&(V[Te]=ce.key),A({action:ue,location:ce})}else window.location.replace(ve)}})}function re(Z){e.go(Z)}function ne(){re(-1)}function q(){re(1)}var L=0;function Q(Z){L+=Z,L===1&&Z===1?(window.addEventListener(Ox,F),r&&window.addEventListener(Tx,_)):L===0&&(window.removeEventListener(Ox,F),r&&window.removeEventListener(Tx,_))}var K=!1;function $(Z){Z===void 0&&(Z=!1);var ee=S.setPrompt(Z);return K||(Q(1),K=!0),function(){return K&&(K=!1,Q(-1)),ee()}}function fe(Z){var ee=S.appendListener(Z);return Q(1),function(){Q(-1),ee()}}var J={length:e.length,action:"POP",location:G,createHref:te,push:D,replace:z,go:re,goBack:ne,goForward:q,block:$,listen:fe};return J}function Zx(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Wc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function iz(t){window.location.hash=t}function av(t){window.location.replace(Zx(window.location.href)+"#"+t)}function Px(t){t===void 0&&(t={}),kx||_n(!1);var e=window.history,i=K3(),r=t,n=r.getUserConfirmation,a=n===void 0?Xx:n,l=r.hashType,u=l===void 0?"slash":l,c=t.basename?Mx(Oc(t.basename)):"",d=tz[u],f=d.encodePath,m=d.decodePath;function b(){var ue=m(Wc());return c&&(ue=Bx(ue,c)),br(ue)}var C=sv();function S(ue){Wt(ee,ue),ee.length=e.length,C.notifyListeners(ee.location,ee.action)}var A=!1,F=null;function _(ue,ce){return ue.pathname===ce.pathname&&ue.search===ce.search&&ue.hash===ce.hash}function X(){var ue=Wc(),ce=f(ue);if(ue!==ce)av(ce);else{var he=b(),ve=ee.location;if(!A&&_(ve,he)||F===$i(he))return;F=null,k(he)}}function k(ue){if(A)A=!1,S();else{var ce="POP";C.confirmTransitionTo(ue,ce,a,function(he){he?S({action:ce,location:ue}):B(ue)})}}function B(ue){var ce=ee.location,he=D.lastIndexOf($i(ce));he===-1&&(he=0);var ve=D.lastIndexOf($i(ue));ve===-1&&(ve=0);var Oe=he-ve;Oe&&(A=!0,q(Oe))}var G=Wc(),V=f(G);G!==V&&av(V);var te=b(),D=[$i(te)];function z(ue){var ce=document.querySelector("base"),he="";return ce&&ce.getAttribute("href")&&(he=Zx(window.location.href)),he+"#"+f(c+$i(ue))}function re(ue,ce){var he="PUSH",ve=br(ue,void 0,void 0,ee.location);C.confirmTransitionTo(ve,he,a,function(Oe){if(Oe){var Le=$i(ve),Te=f(c+Le),He=Wc()!==Te;if(He){F=Le,iz(Te);var rt=D.lastIndexOf($i(ee.location)),Ye=D.slice(0,rt+1);Ye.push(Le),D=Ye,S({action:he,location:ve})}else S()}})}function ne(ue,ce){var he="REPLACE",ve=br(ue,void 0,void 0,ee.location);C.confirmTransitionTo(ve,he,a,function(Oe){if(Oe){var Le=$i(ve),Te=f(c+Le),He=Wc()!==Te;He&&(F=Le,av(Te));var rt=D.indexOf($i(ee.location));rt!==-1&&(D[rt]=Le),S({action:he,location:ve})}})}function q(ue){e.go(ue)}function L(){q(-1)}function Q(){q(1)}var K=0;function $(ue){K+=ue,K===1&&ue===1?window.addEventListener(Lx,X):K===0&&window.removeEventListener(Lx,X)}var fe=!1;function J(ue){ue===void 0&&(ue=!1);var ce=C.setPrompt(ue);return fe||($(1),fe=!0),function(){return fe&&(fe=!1,$(-1)),ce()}}function Z(ue){var ce=C.appendListener(ue);return $(1),function(){$(-1),ce()}}var ee={length:e.length,action:"POP",location:te,createHref:z,push:re,replace:ne,go:q,goBack:L,goForward:Q,block:J,listen:Z};return ee}function Gx(t,e,i){return Math.min(Math.max(t,e),i)}function Vx(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,r=e.initialEntries,n=r===void 0?["/"]:r,a=e.initialIndex,l=a===void 0?0:a,u=e.keyLength,c=u===void 0?6:u,d=sv();function f(D){Wt(te,D),te.length=te.entries.length,d.notifyListeners(te.location,te.action)}function m(){return Math.random().toString(36).substr(2,c)}var b=Gx(l,0,n.length-1),C=n.map(function(D){return typeof D=="string"?br(D,void 0,m()):br(D,void 0,D.key||m())}),S=$i;function A(D,z){var re="PUSH",ne=br(D,z,m(),te.location);d.confirmTransitionTo(ne,re,i,function(q){if(q){var L=te.index,Q=L+1,K=te.entries.slice(0);K.length>Q?K.splice(Q,K.length-Q,ne):K.push(ne),f({action:re,location:ne,index:Q,entries:K})}})}function F(D,z){var re="REPLACE",ne=br(D,z,m(),te.location);d.confirmTransitionTo(ne,re,i,function(q){q&&(te.entries[te.index]=ne,f({action:re,location:ne}))})}function _(D){var z=Gx(te.index+D,0,te.entries.length-1),re="POP",ne=te.entries[z];d.confirmTransitionTo(ne,re,i,function(q){q?f({action:re,location:ne,index:z}):f()})}function X(){_(-1)}function k(){_(1)}function B(D){var z=te.index+D;return z>=0&&z<te.entries.length}function G(D){return D===void 0&&(D=!1),d.setPrompt(D)}function V(D){return d.appendListener(D)}var te={length:C.length,action:"POP",location:C[b],index:b,entries:C,createHref:S,push:A,replace:F,go:_,goBack:X,goForward:k,canGo:B,block:G,listen:V};return te}var kx,Ox,Tx,Lx,tz,vh=R(()=>{ds();Fx();Nx();mh();kx=!!(typeof window<"u"&&window.document&&window.document.createElement);Ox="popstate",Tx="hashchange";Lx="hashchange",tz={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Wx(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Wx,decodePath:Oc},slash:{encodePath:Oc,decodePath:Oc}}});function rz(){var t="__global_unique_id__";return Ux[t]=(Ux[t]||0)+1}function nz(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function oz(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return t},set:function(r,n){t=r,e.forEach(function(a){return a(t,n)})}}}function az(t){return Array.isArray(t)?t[0]:t}function sz(t,e){var i,r,n="__create-react-context-"+rz()+"__",a=function(u){Er(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.emitter=oz(f.props.value),f}var d=c.prototype;return d.getChildContext=function(){var m;return m={},m[n]=this.emitter,m},d.componentWillReceiveProps=function(m){if(this.props.value!==m.value){var b=this.props.value,C=m.value,S;nz(b,C)?S=0:(S=typeof e=="function"?e(b,C):lv,S|=0,S!==0&&this.emitter.set(m.value,S))}},d.render=function(){return this.props.children},c}(se);a.childContextTypes=(i={},i[n]=uv.default.object.isRequired,i);var l=function(u){Er(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.state={value:f.getValue()},f.onUpdate=function(m,b){var C=f.observedBits|0;C&b&&f.setState({value:f.getValue()})},f}var d=c.prototype;return d.componentWillReceiveProps=function(m){var b=m.observedBits;this.observedBits=b??lv},d.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var m=this.props.observedBits;this.observedBits=m??lv},d.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},d.getValue=function(){return this.context[n]?this.context[n].get():t},d.render=function(){return az(this.props.children)(this.state.value)},c}(se);return l.contextTypes=(r={},r[n]=uv.default.object,r),{Provider:a,Consumer:l}}var uv,lv,Ux,lz,Hx,zx=R(()=>{Ee();fh();uv=de(Db()),lv=1073741823,Ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};lz=Ge.createContext||sz,Hx=lz});var Qx=U((Aue,Yx)=>{Yx.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}});var $x=U((wue,ml)=>{var yh=Qx();ml.exports=qx;ml.exports.parse=cv;ml.exports.compile=cz;ml.exports.tokensToFunction=jx;ml.exports.tokensToRegExp=Jx;var uz=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function cv(t,e){for(var i=[],r=0,n=0,a="",l=e&&e.delimiter||"/",u;(u=uz.exec(t))!=null;){var c=u[0],d=u[1],f=u.index;if(a+=t.slice(n,f),n=f+c.length,d){a+=d[1];continue}var m=t[n],b=u[2],C=u[3],S=u[4],A=u[5],F=u[6],_=u[7];a&&(i.push(a),a="");var X=b!=null&&m!=null&&m!==b,k=F==="+"||F==="*",B=F==="?"||F==="*",G=u[2]||l,V=S||A;i.push({name:C||r++,prefix:b||"",delimiter:G,optional:B,repeat:k,partial:X,asterisk:!!_,pattern:V?hz(V):_?".*":"[^"+Ih(G)+"]+?"})}return n<t.length&&(a+=t.substr(n)),a&&i.push(a),i}function cz(t,e){return jx(cv(t,e),e)}function dz(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function pz(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function jx(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(i[r]=new RegExp("^(?:"+t[r].pattern+")$",pv(e)));return function(n,a){for(var l="",u=n||{},c=a||{},d=c.pretty?dz:encodeURIComponent,f=0;f<t.length;f++){var m=t[f];if(typeof m=="string"){l+=m;continue}var b=u[m.name],C;if(b==null)if(m.optional){m.partial&&(l+=m.prefix);continue}else throw new TypeError('Expected "'+m.name+'" to be defined');if(yh(b)){if(!m.repeat)throw new TypeError('Expected "'+m.name+'" to not repeat, but received `'+JSON.stringify(b)+"`");if(b.length===0){if(m.optional)continue;throw new TypeError('Expected "'+m.name+'" to not be empty')}for(var S=0;S<b.length;S++){if(C=d(b[S]),!i[f].test(C))throw new TypeError('Expected all "'+m.name+'" to match "'+m.pattern+'", but received `'+JSON.stringify(C)+"`");l+=(S===0?m.prefix:m.delimiter)+C}continue}if(C=m.asterisk?pz(b):d(b),!i[f].test(C))throw new TypeError('Expected "'+m.name+'" to match "'+m.pattern+'", but received "'+C+'"');l+=m.prefix+C}return l}}function Ih(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function hz(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function dv(t,e){return t.keys=e,t}function pv(t){return t&&t.sensitive?"":"i"}function fz(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return dv(t,e)}function gz(t,e,i){for(var r=[],n=0;n<t.length;n++)r.push(qx(t[n],e,i).source);var a=new RegExp("(?:"+r.join("|")+")",pv(i));return dv(a,e)}function mz(t,e,i){return Jx(cv(t,i),e,i)}function Jx(t,e,i){yh(e)||(i=e||i,e=[]),i=i||{};for(var r=i.strict,n=i.end!==!1,a="",l=0;l<t.length;l++){var u=t[l];if(typeof u=="string")a+=Ih(u);else{var c=Ih(u.prefix),d="(?:"+u.pattern+")";e.push(u),u.repeat&&(d+="(?:"+c+d+")*"),u.optional?u.partial?d=c+"("+d+")?":d="(?:"+c+"("+d+"))?":d=c+"("+d+")",a+=d}}var f=Ih(i.delimiter||"/"),m=a.slice(-f.length)===f;return r||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),n?a+="$":a+=r&&m?"":"(?="+f+"|$)",dv(new RegExp("^"+a,pv(i)),e)}function qx(t,e,i){return yh(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?fz(t,e):yh(t)?gz(t,e,i):mz(t,e,i)}});function yz(t,e){var i=""+e.end+e.strict+e.sensitive,r=Kx[i]||(Kx[i]={});if(r[t])return r[t];var n=[],a=(0,rS.default)(t,n,e),l={regexp:a,keys:n};return eS<Iz&&(r[t]=l,eS++),l}function Xo(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,r=i.path,n=i.exact,a=n===void 0?!1:n,l=i.strict,u=l===void 0?!1:l,c=i.sensitive,d=c===void 0?!1:c,f=[].concat(r);return f.reduce(function(m,b){if(!b&&b!=="")return null;if(m)return m;var C=yz(b,{end:a,strict:u,sensitive:d}),S=C.regexp,A=C.keys,F=S.exec(t);if(!F)return null;var _=F[0],X=F.slice(1),k=t===_;return a&&!k?null:{path:b,url:b==="/"&&_===""?"/":_,isExact:k,params:A.reduce(function(B,G,V){return B[G.name]=X[V],B},{})}},null)}function Cz(t){return Ge.Children.count(t)===0}function fv(t){return t.charAt(0)==="/"?t:"/"+t}function Az(t,e){return t?Wt({},e,{pathname:fv(t)+e.pathname}):e}function wz(t,e){if(!t)return e;var i=fv(t);return e.pathname.indexOf(i)!==0?e:Wt({},e,{pathname:e.pathname.substr(i.length)})}function tS(t){return typeof t=="string"?t:$i(t)}function hv(t){return function(){_n(!1)}}function iS(){}function fs(t){var e="withRouter("+(t.displayName||t.name)+")",i=function(n){var a=n.wrappedComponentRef,l=mr(n,["wrappedComponentRef"]);return Ge.createElement(ma.Consumer,null,function(u){return u||_n(!1),Ge.createElement(t,Wt({},l,u,{ref:a}))})};return i.displayName=e,i.WrappedComponent=t,(0,nS.default)(i,t)}var rS,Wue,nS,oS,bz,ma,ba,vz,Due,Kx,Iz,eS,pn,gv,Ch,Lue,va=R(()=>{fh();Ee();vh();zx();mh();ds();rS=de($x()),Wue=de(kb());hl();nS=de(lh()),oS=function(e){var i=Hx();return i.displayName=e,i},bz=oS("Router-History"),ma=oS("Router"),ba=function(t){Er(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=t.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(a){n._pendingLocation=a})),n}var i=e.prototype;return i.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(a){n._isMounted&&n.setState({location:a})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return Ge.createElement(ma.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Ge.createElement(bz.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Ge.Component),vz=function(t){Er(e,t);function e(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a))||this,r.history=Vx(r.props),r}var i=e.prototype;return i.render=function(){return Ge.createElement(ba,{history:this.history,children:this.props.children})},e}(Ge.Component),Due=function(t){Er(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},e}(Ge.Component),Kx={},Iz=1e4,eS=0;pn=function(t){Er(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Ge.createElement(ma.Consumer,null,function(a){a||_n(!1);var l=n.props.location||a.location,u=n.props.computedMatch?n.props.computedMatch:n.props.path?Xo(l.pathname,n.props):a.match,c=Wt({},a,{location:l,match:u}),d=n.props,f=d.children,m=d.component,b=d.render;return Array.isArray(f)&&Cz(f)&&(f=null),Ge.createElement(ma.Provider,{value:c},c.match?f?typeof f=="function"?f(c):f:m?Ge.createElement(m,c):b?b(c):null:typeof f=="function"?f(c):null)})},e}(Ge.Component);gv=function(t){Er(e,t);function e(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a))||this,r.handlePush=function(u){return r.navigateTo(u,"PUSH")},r.handleReplace=function(u){return r.navigateTo(u,"REPLACE")},r.handleListen=function(){return iS},r.handleBlock=function(){return iS},r}var i=e.prototype;return i.navigateTo=function(n,a){var l=this.props,u=l.basename,c=u===void 0?"":u,d=l.context,f=d===void 0?{}:d;f.action=a,f.location=Az(c,br(n)),f.url=tS(f.location)},i.render=function(){var n=this.props,a=n.basename,l=a===void 0?"":a,u=n.context,c=u===void 0?{}:u,d=n.location,f=d===void 0?"/":d,m=mr(n,["basename","context","location"]),b={createHref:function(S){return fv(l+tS(S))},action:"POP",location:wz(l,br(f)),push:this.handlePush,replace:this.handleReplace,go:hv("go"),goBack:hv("goBack"),goForward:hv("goForward"),listen:this.handleListen,block:this.handleBlock};return Ge.createElement(ba,Wt({},m,{history:b,staticContext:c}))},e}(Ge.Component),Ch=function(t){Er(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Ge.createElement(ma.Consumer,null,function(a){a||_n(!1);var l=n.props.location||a.location,u,c;return Ge.Children.forEach(n.props.children,function(d){if(c==null&&Ge.isValidElement(d)){u=d;var f=d.props.path||d.props.from;c=f?Xo(l.pathname,Wt({},d.props,{path:f})):a.match}}),c?Ge.cloneElement(u,{location:l,computedMatch:c}):null})},e}(Ge.Component);Lue=Ge.useContext});function g(t,e,i,r,n,a){var l,u,c={};for(u in e)u=="ref"?l=e[u]:c[u]=e[u];var d={type:t,props:c,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--xz,__source:n,__self:a};if(typeof t=="function"&&(l=t.defaultProps))for(u in l)c[u]===void 0&&(c[u]=l[u]);return Se.vnode&&Se.vnode(d),d}var xz,j=R(()=>{we();we();xz=0});var aS=R(()=>{Ee();j()});var sS=R(()=>{Ee();j()});var Ie=U((bl,Tc)=>{(function(){var t,e="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,m=4,b=1,C=2,S=1,A=2,F=4,_=8,X=16,k=32,B=64,G=128,V=256,te=512,D=30,z="...",re=800,ne=16,q=1,L=2,Q=3,K=1/0,$=9007199254740991,fe=17976931348623157e292,J=0/0,Z=4294967295,ee=Z-1,ue=Z>>>1,ce=[["ary",G],["bind",S],["bindKey",A],["curry",_],["curryRight",X],["flip",te],["partial",k],["partialRight",B],["rearg",V]],he="[object Arguments]",ve="[object Array]",Oe="[object AsyncFunction]",Le="[object Boolean]",Te="[object Date]",He="[object DOMException]",rt="[object Error]",Ye="[object Function]",Me="[object GeneratorFunction]",Ue="[object Map]",et="[object Number]",st="[object Null]",Xe="[object Object]",Dt="[object Promise]",Li="[object Proxy]",$t="[object RegExp]",xt="[object Set]",Ut="[object String]",ut="[object Symbol]",Qr="[object Undefined]",Kt="[object WeakMap]",mo="[object WeakSet]",Tr="[object ArrayBuffer]",In="[object DataView]",qo="[object Float32Array]",bo="[object Float64Array]",mi="[object Int8Array]",pt="[object Int16Array]",Ir="[object Int32Array]",nr="[object Uint8Array]",ks="[object Uint8ClampedArray]",ii="[object Uint16Array]",vo="[object Uint32Array]",$o=/\b__p \+= '';/g,Xs=/\b(__p \+=) '' \+/g,xu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gi=/&(?:amp|lt|gt|quot|#39);/g,Su=/[&<>"']/g,Ru=RegExp(Gi.source),Eu=RegExp(Su.source),mm=/<%-([\s\S]+?)%>/g,bm=/<%([\s\S]+?)%>/g,Zs=/<%=([\s\S]+?)%>/g,zd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yd=/^\w*$/,Qd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fu=/[\\^$.*+?()[\]{}|]/g,vm=RegExp(Fu.source),Nu=/^\s+/,jd=/\s/,or=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Io=/\{\n\/\* \[wrapped with (.+)\] \*/,Ma=/,? & /,_u=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ka=/[()=,{}\[\]\/\s]/,Ko=/\\(\\)?/g,Im=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wu=/\w*$/,Ou=/^[-+]0x[0-9a-f]+$/i,Jd=/^0b[01]+$/i,Ps=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,yo=/^(?:0|[1-9]\d*)$/,zi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ci=/($^)/,Co=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",Ao="\\u0300-\\u036f",Xa="\\ufe20-\\ufe2f",wo="\\u20d0-\\u20ff",xo=Ao+Xa+wo,Vs="\\u2700-\\u27bf",ea="a-z\\xdf-\\xf6\\xf8-\\xff",Za="\\xac\\xb1\\xd7\\xf7",Us="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Hs="\\u2000-\\u206f",Tu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ar="A-Z\\xc0-\\xd6\\xd8-\\xde",zs="\\ufe0e\\ufe0f",Pn=Za+Us+Hs+Tu,yn="['\u2019]",Ys="["+Dr+"]",Cn="["+Pn+"]",Ri="["+xo+"]",jr="\\d+",qd="["+Vs+"]",Du="["+ea+"]",nt="[^"+Dr+Pn+jr+Vs+ea+ar+"]",Lr="\\ud83c[\\udffb-\\udfff]",sr="(?:"+Ri+"|"+Lr+")",Bi="[^"+Dr+"]",So="(?:\\ud83c[\\udde6-\\uddff]){2}",Vn="[\\ud800-\\udbff][\\udc00-\\udfff]",Mi="["+ar+"]",Qs="\\u200d",Pa="(?:"+Du+"|"+nt+")",Va="(?:"+Mi+"|"+nt+")",Ua="(?:"+yn+"(?:d|ll|m|re|s|t|ve))?",$d="(?:"+yn+"(?:D|LL|M|RE|S|T|VE))?",Kd=sr+"?",Lu="["+zs+"]?",Gu="(?:"+Qs+"(?:"+[Bi,So,Vn].join("|")+")"+Lu+Kd+")*",ep="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ym="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bu=Lu+Kd+Gu,Mu="(?:"+[qd,So,Vn].join("|")+")"+Bu,tp="(?:"+[Bi+Ri+"?",Ri,So,Vn,Ys].join("|")+")",ip=RegExp(yn,"g"),rp=RegExp(Ri,"g"),ku=RegExp(Lr+"(?="+Lr+")|"+tp+Bu,"g"),np=RegExp([Mi+"?"+Du+"+"+Ua+"(?="+[Cn,Mi,"$"].join("|")+")",Va+"+"+$d+"(?="+[Cn,Mi+Pa,"$"].join("|")+")",Mi+"?"+Pa+"+"+Ua,Mi+"+"+$d,ym,ep,jr,Mu].join("|"),"g"),ta=RegExp("["+Qs+Dr+xo+zs+"]"),Cm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Un=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],js=-1,Et={};Et[qo]=Et[bo]=Et[mi]=Et[pt]=Et[Ir]=Et[nr]=Et[ks]=Et[ii]=Et[vo]=!0,Et[he]=Et[ve]=Et[Tr]=Et[Le]=Et[In]=Et[Te]=Et[rt]=Et[Ye]=Et[Ue]=Et[et]=Et[Xe]=Et[$t]=Et[xt]=Et[Ut]=Et[Kt]=!1;var Ft={};Ft[he]=Ft[ve]=Ft[Tr]=Ft[In]=Ft[Le]=Ft[Te]=Ft[qo]=Ft[bo]=Ft[mi]=Ft[pt]=Ft[Ir]=Ft[Ue]=Ft[et]=Ft[Xe]=Ft[$t]=Ft[xt]=Ft[Ut]=Ft[ut]=Ft[nr]=Ft[ks]=Ft[ii]=Ft[vo]=!0,Ft[rt]=Ft[Ye]=Ft[Kt]=!1;var op={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Am={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sm=parseFloat,Rm=parseInt,ap=typeof global=="object"&&global&&global.Object===Object&&global,Em=typeof self=="object"&&self&&self.Object===Object&&self,bi=ap||Em||Function("return this")(),Xu=typeof bl=="object"&&bl&&!bl.nodeType&&bl,lr=Xu&&typeof Tc=="object"&&Tc&&!Tc.nodeType&&Tc,Zu=lr&&lr.exports===Xu,Hn=Zu&&ap.process,Nt=function(){try{var Y=lr&&lr.require&&lr.require("util").types;return Y||Hn&&Hn.binding&&Hn.binding("util")}catch{}}(),zn=Nt&&Nt.isArrayBuffer,Js=Nt&&Nt.isDate,ia=Nt&&Nt.isMap,sp=Nt&&Nt.isRegExp,Jr=Nt&&Nt.isSet,Yi=Nt&&Nt.isTypedArray;function ur(Y,pe,le){switch(le.length){case 0:return Y.call(pe);case 1:return Y.call(pe,le[0]);case 2:return Y.call(pe,le[0],le[1]);case 3:return Y.call(pe,le[0],le[1],le[2])}return Y.apply(pe,le)}function Fm(Y,pe,le,Re){for(var Je=-1,mt=Y==null?0:Y.length;++Je<mt;){var Qt=Y[Je];pe(Re,Qt,le(Qt),Y)}return Re}function yr(Y,pe){for(var le=-1,Re=Y==null?0:Y.length;++le<Re&&pe(Y[le],le,Y)!==!1;);return Y}function Ha(Y,pe){for(var le=Y==null?0:Y.length;le--&&pe(Y[le],le,Y)!==!1;);return Y}function za(Y,pe){for(var le=-1,Re=Y==null?0:Y.length;++le<Re;)if(!pe(Y[le],le,Y))return!1;return!0}function An(Y,pe){for(var le=-1,Re=Y==null?0:Y.length,Je=0,mt=[];++le<Re;){var Qt=Y[le];pe(Qt,le,Y)&&(mt[Je++]=Qt)}return mt}function Ya(Y,pe){var le=Y==null?0:Y.length;return!!le&&Gr(Y,pe,0)>-1}function qr(Y,pe,le){for(var Re=-1,Je=Y==null?0:Y.length;++Re<Je;)if(le(pe,Y[Re]))return!0;return!1}function Bt(Y,pe){for(var le=-1,Re=Y==null?0:Y.length,Je=Array(Re);++le<Re;)Je[le]=pe(Y[le],le,Y);return Je}function wn(Y,pe){for(var le=-1,Re=pe.length,Je=Y.length;++le<Re;)Y[Je+le]=pe[le];return Y}function $r(Y,pe,le,Re){var Je=-1,mt=Y==null?0:Y.length;for(Re&&mt&&(le=Y[++Je]);++Je<mt;)le=pe(le,Y[Je],Je,Y);return le}function Pu(Y,pe,le,Re){var Je=Y==null?0:Y.length;for(Re&&Je&&(le=Y[--Je]);Je--;)le=pe(le,Y[Je],Je,Y);return le}function Qa(Y,pe){for(var le=-1,Re=Y==null?0:Y.length;++le<Re;)if(pe(Y[le],le,Y))return!0;return!1}var qs=Ja("length");function ja(Y){return Y.split("")}function Vu(Y){return Y.match(_u)||[]}function ki(Y,pe,le){var Re;return le(Y,function(Je,mt,Qt){if(pe(Je,mt,Qt))return Re=mt,!1}),Re}function ra(Y,pe,le,Re){for(var Je=Y.length,mt=le+(Re?1:-1);Re?mt--:++mt<Je;)if(pe(Y[mt],mt,Y))return mt;return-1}function Gr(Y,pe,le){return pe===pe?ei(Y,pe,le):ra(Y,Ro,le)}function Br(Y,pe,le,Re){for(var Je=le-1,mt=Y.length;++Je<mt;)if(Re(Y[Je],pe))return Je;return-1}function Ro(Y){return Y!==Y}function Kr(Y,pe){var le=Y==null?0:Y.length;return le?xn(Y,pe)/le:J}function Ja(Y){return function(pe){return pe==null?t:pe[Y]}}function Eo(Y){return function(pe){return Y==null?t:Y[pe]}}function $s(Y,pe,le,Re,Je){return Je(Y,function(mt,Qt,Ct){le=Re?(Re=!1,mt):pe(le,mt,Qt,Ct)}),le}function Uu(Y,pe){var le=Y.length;for(Y.sort(pe);le--;)Y[le]=Y[le].value;return Y}function xn(Y,pe){for(var le,Re=-1,Je=Y.length;++Re<Je;){var mt=pe(Y[Re]);mt!==t&&(le=le===t?mt:le+mt)}return le}function qa(Y,pe){for(var le=-1,Re=Array(Y);++le<Y;)Re[le]=pe(le);return Re}function lp(Y,pe){return Bt(pe,function(le){return[le,Y[le]]})}function $a(Y){return Y&&Y.slice(0,na(Y)+1).replace(Nu,"")}function cr(Y){return function(pe){return Y(pe)}}function Cr(Y,pe){return Bt(pe,function(le){return Y[le]})}function di(Y,pe){return Y.has(pe)}function I(Y,pe){for(var le=-1,Re=Y.length;++le<Re&&Gr(pe,Y[le],0)>-1;);return le}function W(Y,pe){for(var le=Y.length;le--&&Gr(pe,Y[le],0)>-1;);return le}function T(Y,pe){for(var le=Y.length,Re=0;le--;)Y[le]===pe&&++Re;return Re}var O=Eo(op),ae=Eo(Am);function Ae(Y){return"\\"+xm[Y]}function We(Y,pe){return Y==null?t:Y[pe]}function Ze(Y){return ta.test(Y)}function _e(Y){return Cm.test(Y)}function ft(Y){for(var pe,le=[];!(pe=Y.next()).done;)le.push(pe.value);return le}function Qe(Y){var pe=-1,le=Array(Y.size);return Y.forEach(function(Re,Je){le[++pe]=[Je,Re]}),le}function ct(Y,pe){return function(le){return Y(pe(le))}}function St(Y,pe){for(var le=-1,Re=Y.length,Je=0,mt=[];++le<Re;){var Qt=Y[le];(Qt===pe||Qt===c)&&(Y[le]=c,mt[Je++]=le)}return mt}function vi(Y){var pe=-1,le=Array(Y.size);return Y.forEach(function(Re){le[++pe]=Re}),le}function dr(Y){var pe=-1,le=Array(Y.size);return Y.forEach(function(Re){le[++pe]=[Re,Re]}),le}function ei(Y,pe,le){for(var Re=le-1,Je=Y.length;++Re<Je;)if(Y[Re]===pe)return Re;return-1}function Yt(Y,pe,le){for(var Re=le+1;Re--;)if(Y[Re]===pe)return Re;return Re}function ri(Y){return Ze(Y)?el(Y):qs(Y)}function Ei(Y){return Ze(Y)?tl(Y):ja(Y)}function na(Y){for(var pe=Y.length;pe--&&jd.test(Y.charAt(pe)););return pe}var Ks=Eo(wm);function el(Y){for(var pe=ku.lastIndex=0;ku.test(Y);)++pe;return pe}function tl(Y){return Y.match(ku)||[]}function en(Y){return Y.match(np)||[]}var oa=function Y(pe){pe=pe==null?bi:Qi.defaults(bi.Object(),pe,Qi.pick(bi,Un));var le=pe.Array,Re=pe.Date,Je=pe.Error,mt=pe.Function,Qt=pe.Math,Ct=pe.Object,Xi=pe.RegExp,Yn=pe.String,Zi=pe.TypeError,Sn=le.prototype,Fo=mt.prototype,No=Ct.prototype,Ka=pe["__core-js_shared__"],il=Fo.toString,_t=No.hasOwnProperty,sX=0,WC=function(){var o=/[^.]+$/.exec(Ka&&Ka.keys&&Ka.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),up=No.toString,lX=il.call(Ct),uX=bi._,cX=Xi("^"+il.call(_t).replace(Fu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cp=Zu?pe.Buffer:t,aa=pe.Symbol,dp=pe.Uint8Array,OC=cp?cp.allocUnsafe:t,pp=ct(Ct.getPrototypeOf,Ct),TC=Ct.create,DC=No.propertyIsEnumerable,hp=Sn.splice,LC=aa?aa.isConcatSpreadable:t,Hu=aa?aa.iterator:t,es=aa?aa.toStringTag:t,fp=function(){try{var o=os(Ct,"defineProperty");return o({},"",{}),o}catch{}}(),dX=pe.clearTimeout!==bi.clearTimeout&&pe.clearTimeout,pX=Re&&Re.now!==bi.Date.now&&Re.now,hX=pe.setTimeout!==bi.setTimeout&&pe.setTimeout,gp=Qt.ceil,mp=Qt.floor,Nm=Ct.getOwnPropertySymbols,fX=cp?cp.isBuffer:t,GC=pe.isFinite,gX=Sn.join,mX=ct(Ct.keys,Ct),Ai=Qt.max,ji=Qt.min,bX=Re.now,vX=pe.parseInt,BC=Qt.random,IX=Sn.reverse,_m=os(pe,"DataView"),zu=os(pe,"Map"),Wm=os(pe,"Promise"),rl=os(pe,"Set"),Yu=os(pe,"WeakMap"),Qu=os(Ct,"create"),bp=Yu&&new Yu,nl={},yX=as(_m),CX=as(zu),AX=as(Wm),wX=as(rl),xX=as(Yu),vp=aa?aa.prototype:t,ju=vp?vp.valueOf:t,MC=vp?vp.toString:t;function E(o){if(ni(o)&&!ot(o)&&!(o instanceof It)){if(o instanceof tn)return o;if(_t.call(o,"__wrapped__"))return kA(o)}return new tn(o)}var ol=function(){function o(){}return function(s){if(!ti(s))return{};if(TC)return TC(s);o.prototype=s;var p=new o;return o.prototype=t,p}}();function Ip(){}function tn(o,s){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}E.templateSettings={escape:mm,evaluate:bm,interpolate:Zs,variable:"",imports:{_:E}},E.prototype=Ip.prototype,E.prototype.constructor=E,tn.prototype=ol(Ip.prototype),tn.prototype.constructor=tn;function It(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Z,this.__views__=[]}function SX(){var o=new It(this.__wrapped__);return o.__actions__=Ar(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Ar(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Ar(this.__views__),o}function RX(){if(this.__filtered__){var o=new It(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function EX(){var o=this.__wrapped__.value(),s=this.__dir__,p=ot(o),v=s<0,x=p?o.length:0,N=kZ(0,x,this.__views__),M=N.start,P=N.end,ie=P-M,ge=v?P:M-1,me=this.__iteratees__,ye=me.length,Fe=0,Ve=ji(ie,this.__takeCount__);if(!p||!v&&x==ie&&Ve==ie)return lA(o,this.__actions__);var qe=[];e:for(;ie--&&Fe<Ve;){ge+=s;for(var ht=-1,$e=o[ge];++ht<ye;){var bt=me[ht],yt=bt.iteratee,Xr=bt.type,fr=yt($e);if(Xr==L)$e=fr;else if(!fr){if(Xr==q)continue e;break e}}qe[Fe++]=$e}return qe}It.prototype=ol(Ip.prototype),It.prototype.constructor=It;function ts(o){var s=-1,p=o==null?0:o.length;for(this.clear();++s<p;){var v=o[s];this.set(v[0],v[1])}}function FX(){this.__data__=Qu?Qu(null):{},this.size=0}function NX(o){var s=this.has(o)&&delete this.__data__[o];return this.size-=s?1:0,s}function _X(o){var s=this.__data__;if(Qu){var p=s[o];return p===l?t:p}return _t.call(s,o)?s[o]:t}function WX(o){var s=this.__data__;return Qu?s[o]!==t:_t.call(s,o)}function OX(o,s){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=Qu&&s===t?l:s,this}ts.prototype.clear=FX,ts.prototype.delete=NX,ts.prototype.get=_X,ts.prototype.has=WX,ts.prototype.set=OX;function _o(o){var s=-1,p=o==null?0:o.length;for(this.clear();++s<p;){var v=o[s];this.set(v[0],v[1])}}function TX(){this.__data__=[],this.size=0}function DX(o){var s=this.__data__,p=yp(s,o);if(p<0)return!1;var v=s.length-1;return p==v?s.pop():hp.call(s,p,1),--this.size,!0}function LX(o){var s=this.__data__,p=yp(s,o);return p<0?t:s[p][1]}function GX(o){return yp(this.__data__,o)>-1}function BX(o,s){var p=this.__data__,v=yp(p,o);return v<0?(++this.size,p.push([o,s])):p[v][1]=s,this}_o.prototype.clear=TX,_o.prototype.delete=DX,_o.prototype.get=LX,_o.prototype.has=GX,_o.prototype.set=BX;function Wo(o){var s=-1,p=o==null?0:o.length;for(this.clear();++s<p;){var v=o[s];this.set(v[0],v[1])}}function MX(){this.size=0,this.__data__={hash:new ts,map:new(zu||_o),string:new ts}}function kX(o){var s=Op(this,o).delete(o);return this.size-=s?1:0,s}function XX(o){return Op(this,o).get(o)}function ZX(o){return Op(this,o).has(o)}function PX(o,s){var p=Op(this,o),v=p.size;return p.set(o,s),this.size+=p.size==v?0:1,this}Wo.prototype.clear=MX,Wo.prototype.delete=kX,Wo.prototype.get=XX,Wo.prototype.has=ZX,Wo.prototype.set=PX;function is(o){var s=-1,p=o==null?0:o.length;for(this.__data__=new Wo;++s<p;)this.add(o[s])}function VX(o){return this.__data__.set(o,l),this}function UX(o){return this.__data__.has(o)}is.prototype.add=is.prototype.push=VX,is.prototype.has=UX;function Rn(o){var s=this.__data__=new _o(o);this.size=s.size}function HX(){this.__data__=new _o,this.size=0}function zX(o){var s=this.__data__,p=s.delete(o);return this.size=s.size,p}function YX(o){return this.__data__.get(o)}function QX(o){return this.__data__.has(o)}function jX(o,s){var p=this.__data__;if(p instanceof _o){var v=p.__data__;if(!zu||v.length<i-1)return v.push([o,s]),this.size=++p.size,this;p=this.__data__=new Wo(v)}return p.set(o,s),this.size=p.size,this}Rn.prototype.clear=HX,Rn.prototype.delete=zX,Rn.prototype.get=YX,Rn.prototype.has=QX,Rn.prototype.set=jX;function kC(o,s){var p=ot(o),v=!p&&ss(o),x=!p&&!v&&da(o),N=!p&&!v&&!x&&ul(o),M=p||v||x||N,P=M?qa(o.length,Yn):[],ie=P.length;for(var ge in o)(s||_t.call(o,ge))&&!(M&&(ge=="length"||x&&(ge=="offset"||ge=="parent")||N&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||Lo(ge,ie)))&&P.push(ge);return P}function XC(o){var s=o.length;return s?o[Pm(0,s-1)]:t}function JX(o,s){return Tp(Ar(o),rs(s,0,o.length))}function qX(o){return Tp(Ar(o))}function Om(o,s,p){(p!==t&&!En(o[s],p)||p===t&&!(s in o))&&Oo(o,s,p)}function Ju(o,s,p){var v=o[s];(!(_t.call(o,s)&&En(v,p))||p===t&&!(s in o))&&Oo(o,s,p)}function yp(o,s){for(var p=o.length;p--;)if(En(o[p][0],s))return p;return-1}function $X(o,s,p,v){return sa(o,function(x,N,M){s(v,x,p(x),M)}),v}function ZC(o,s){return o&&jn(s,Fi(s),o)}function KX(o,s){return o&&jn(s,xr(s),o)}function Oo(o,s,p){s=="__proto__"&&fp?fp(o,s,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[s]=p}function Tm(o,s){for(var p=-1,v=s.length,x=le(v),N=o==null;++p<v;)x[p]=N?t:hb(o,s[p]);return x}function rs(o,s,p){return o===o&&(p!==t&&(o=o<=p?o:p),s!==t&&(o=o>=s?o:s)),o}function rn(o,s,p,v,x,N){var M,P=s&d,ie=s&f,ge=s&m;if(p&&(M=x?p(o,v,x,N):p(o)),M!==t)return M;if(!ti(o))return o;var me=ot(o);if(me){if(M=ZZ(o),!P)return Ar(o,M)}else{var ye=Ji(o),Fe=ye==Ye||ye==Me;if(da(o))return dA(o,P);if(ye==Xe||ye==he||Fe&&!x){if(M=ie||Fe?{}:_A(o),!P)return ie?_Z(o,KX(M,o)):NZ(o,ZC(M,o))}else{if(!Ft[ye])return x?o:{};M=PZ(o,ye,P)}}N||(N=new Rn);var Ve=N.get(o);if(Ve)return Ve;N.set(o,M),o1(o)?o.forEach(function($e){M.add(rn($e,s,p,$e,o,N))}):r1(o)&&o.forEach(function($e,bt){M.set(bt,rn($e,s,p,bt,o,N))});var qe=ge?ie?Km:$m:ie?xr:Fi,ht=me?t:qe(o);return yr(ht||o,function($e,bt){ht&&(bt=$e,$e=o[bt]),Ju(M,bt,rn($e,s,p,bt,o,N))}),M}function eZ(o){var s=Fi(o);return function(p){return PC(p,o,s)}}function PC(o,s,p){var v=p.length;if(o==null)return!v;for(o=Ct(o);v--;){var x=p[v],N=s[x],M=o[x];if(M===t&&!(x in o)||!N(M))return!1}return!0}function VC(o,s,p){if(typeof o!="function")throw new Zi(n);return rc(function(){o.apply(t,p)},s)}function qu(o,s,p,v){var x=-1,N=Ya,M=!0,P=o.length,ie=[],ge=s.length;if(!P)return ie;p&&(s=Bt(s,cr(p))),v?(N=qr,M=!1):s.length>=i&&(N=di,M=!1,s=new is(s));e:for(;++x<P;){var me=o[x],ye=p==null?me:p(me);if(me=v||me!==0?me:0,M&&ye===ye){for(var Fe=ge;Fe--;)if(s[Fe]===ye)continue e;ie.push(me)}else N(s,ye,v)||ie.push(me)}return ie}var sa=mA(Qn),UC=mA(Lm,!0);function tZ(o,s){var p=!0;return sa(o,function(v,x,N){return p=!!s(v,x,N),p}),p}function Cp(o,s,p){for(var v=-1,x=o.length;++v<x;){var N=o[v],M=s(N);if(M!=null&&(P===t?M===M&&!kr(M):p(M,P)))var P=M,ie=N}return ie}function iZ(o,s,p,v){var x=o.length;for(p=dt(p),p<0&&(p=-p>x?0:x+p),v=v===t||v>x?x:dt(v),v<0&&(v+=x),v=p>v?0:s1(v);p<v;)o[p++]=s;return o}function HC(o,s){var p=[];return sa(o,function(v,x,N){s(v,x,N)&&p.push(v)}),p}function Pi(o,s,p,v,x){var N=-1,M=o.length;for(p||(p=UZ),x||(x=[]);++N<M;){var P=o[N];s>0&&p(P)?s>1?Pi(P,s-1,p,v,x):wn(x,P):v||(x[x.length]=P)}return x}var Dm=bA(),zC=bA(!0);function Qn(o,s){return o&&Dm(o,s,Fi)}function Lm(o,s){return o&&zC(o,s,Fi)}function Ap(o,s){return An(s,function(p){return Go(o[p])})}function ns(o,s){s=ua(s,o);for(var p=0,v=s.length;o!=null&&p<v;)o=o[Jn(s[p++])];return p&&p==v?o:t}function YC(o,s,p){var v=s(o);return ot(o)?v:wn(v,p(o))}function pr(o){return o==null?o===t?Qr:st:es&&es in Ct(o)?MZ(o):qZ(o)}function Gm(o,s){return o>s}function rZ(o,s){return o!=null&&_t.call(o,s)}function nZ(o,s){return o!=null&&s in Ct(o)}function oZ(o,s,p){return o>=ji(s,p)&&o<Ai(s,p)}function Bm(o,s,p){for(var v=p?qr:Ya,x=o[0].length,N=o.length,M=N,P=le(N),ie=1/0,ge=[];M--;){var me=o[M];M&&s&&(me=Bt(me,cr(s))),ie=ji(me.length,ie),P[M]=!p&&(s||x>=120&&me.length>=120)?new is(M&&me):t}me=o[0];var ye=-1,Fe=P[0];e:for(;++ye<x&&ge.length<ie;){var Ve=me[ye],qe=s?s(Ve):Ve;if(Ve=p||Ve!==0?Ve:0,!(Fe?di(Fe,qe):v(ge,qe,p))){for(M=N;--M;){var ht=P[M];if(!(ht?di(ht,qe):v(o[M],qe,p)))continue e}Fe&&Fe.push(qe),ge.push(Ve)}}return ge}function aZ(o,s,p,v){return Qn(o,function(x,N,M){s(v,p(x),N,M)}),v}function $u(o,s,p){s=ua(s,o),o=DA(o,s);var v=o==null?o:o[Jn(on(s))];return v==null?t:ur(v,o,p)}function QC(o){return ni(o)&&pr(o)==he}function sZ(o){return ni(o)&&pr(o)==Tr}function lZ(o){return ni(o)&&pr(o)==Te}function Ku(o,s,p,v,x){return o===s?!0:o==null||s==null||!ni(o)&&!ni(s)?o!==o&&s!==s:uZ(o,s,p,v,Ku,x)}function uZ(o,s,p,v,x,N){var M=ot(o),P=ot(s),ie=M?ve:Ji(o),ge=P?ve:Ji(s);ie=ie==he?Xe:ie,ge=ge==he?Xe:ge;var me=ie==Xe,ye=ge==Xe,Fe=ie==ge;if(Fe&&da(o)){if(!da(s))return!1;M=!0,me=!1}if(Fe&&!me)return N||(N=new Rn),M||ul(o)?EA(o,s,p,v,x,N):GZ(o,s,ie,p,v,x,N);if(!(p&b)){var Ve=me&&_t.call(o,"__wrapped__"),qe=ye&&_t.call(s,"__wrapped__");if(Ve||qe){var ht=Ve?o.value():o,$e=qe?s.value():s;return N||(N=new Rn),x(ht,$e,p,v,N)}}return Fe?(N||(N=new Rn),BZ(o,s,p,v,x,N)):!1}function cZ(o){return ni(o)&&Ji(o)==Ue}function Mm(o,s,p,v){var x=p.length,N=x,M=!v;if(o==null)return!N;for(o=Ct(o);x--;){var P=p[x];if(M&&P[2]?P[1]!==o[P[0]]:!(P[0]in o))return!1}for(;++x<N;){P=p[x];var ie=P[0],ge=o[ie],me=P[1];if(M&&P[2]){if(ge===t&&!(ie in o))return!1}else{var ye=new Rn;if(v)var Fe=v(ge,me,ie,o,s,ye);if(!(Fe===t?Ku(me,ge,b|C,v,ye):Fe))return!1}}return!0}function jC(o){if(!ti(o)||zZ(o))return!1;var s=Go(o)?cX:Ps;return s.test(as(o))}function dZ(o){return ni(o)&&pr(o)==$t}function pZ(o){return ni(o)&&Ji(o)==xt}function hZ(o){return ni(o)&&kp(o.length)&&!!Et[pr(o)]}function JC(o){return typeof o=="function"?o:o==null?Sr:typeof o=="object"?ot(o)?KC(o[0],o[1]):$C(o):v1(o)}function km(o){if(!ic(o))return mX(o);var s=[];for(var p in Ct(o))_t.call(o,p)&&p!="constructor"&&s.push(p);return s}function fZ(o){if(!ti(o))return JZ(o);var s=ic(o),p=[];for(var v in o)v=="constructor"&&(s||!_t.call(o,v))||p.push(v);return p}function Xm(o,s){return o<s}function qC(o,s){var p=-1,v=wr(o)?le(o.length):[];return sa(o,function(x,N,M){v[++p]=s(x,N,M)}),v}function $C(o){var s=tb(o);return s.length==1&&s[0][2]?OA(s[0][0],s[0][1]):function(p){return p===o||Mm(p,o,s)}}function KC(o,s){return rb(o)&&WA(s)?OA(Jn(o),s):function(p){var v=hb(p,o);return v===t&&v===s?fb(p,o):Ku(s,v,b|C)}}function wp(o,s,p,v,x){o!==s&&Dm(s,function(N,M){if(x||(x=new Rn),ti(N))gZ(o,s,M,p,wp,v,x);else{var P=v?v(ob(o,M),N,M+"",o,s,x):t;P===t&&(P=N),Om(o,M,P)}},xr)}function gZ(o,s,p,v,x,N,M){var P=ob(o,p),ie=ob(s,p),ge=M.get(ie);if(ge){Om(o,p,ge);return}var me=N?N(P,ie,p+"",o,s,M):t,ye=me===t;if(ye){var Fe=ot(ie),Ve=!Fe&&da(ie),qe=!Fe&&!Ve&&ul(ie);me=ie,Fe||Ve||qe?ot(P)?me=P:pi(P)?me=Ar(P):Ve?(ye=!1,me=dA(ie,!0)):qe?(ye=!1,me=pA(ie,!0)):me=[]:nc(ie)||ss(ie)?(me=P,ss(P)?me=l1(P):(!ti(P)||Go(P))&&(me=_A(ie))):ye=!1}ye&&(M.set(ie,me),x(me,ie,v,N,M),M.delete(ie)),Om(o,p,me)}function eA(o,s){var p=o.length;if(p)return s+=s<0?p:0,Lo(s,p)?o[s]:t}function tA(o,s,p){s.length?s=Bt(s,function(N){return ot(N)?function(M){return ns(M,N.length===1?N[0]:N)}:N}):s=[Sr];var v=-1;s=Bt(s,cr(je()));var x=qC(o,function(N,M,P){var ie=Bt(s,function(ge){return ge(N)});return{criteria:ie,index:++v,value:N}});return Uu(x,function(N,M){return FZ(N,M,p)})}function mZ(o,s){return iA(o,s,function(p,v){return fb(o,v)})}function iA(o,s,p){for(var v=-1,x=s.length,N={};++v<x;){var M=s[v],P=ns(o,M);p(P,M)&&ec(N,ua(M,o),P)}return N}function bZ(o){return function(s){return ns(s,o)}}function Zm(o,s,p,v){var x=v?Br:Gr,N=-1,M=s.length,P=o;for(o===s&&(s=Ar(s)),p&&(P=Bt(o,cr(p)));++N<M;)for(var ie=0,ge=s[N],me=p?p(ge):ge;(ie=x(P,me,ie,v))>-1;)P!==o&&hp.call(P,ie,1),hp.call(o,ie,1);return o}function rA(o,s){for(var p=o?s.length:0,v=p-1;p--;){var x=s[p];if(p==v||x!==N){var N=x;Lo(x)?hp.call(o,x,1):Hm(o,x)}}return o}function Pm(o,s){return o+mp(BC()*(s-o+1))}function vZ(o,s,p,v){for(var x=-1,N=Ai(gp((s-o)/(p||1)),0),M=le(N);N--;)M[v?N:++x]=o,o+=p;return M}function Vm(o,s){var p="";if(!o||s<1||s>$)return p;do s%2&&(p+=o),s=mp(s/2),s&&(o+=o);while(s);return p}function gt(o,s){return ab(TA(o,s,Sr),o+"")}function IZ(o){return XC(cl(o))}function yZ(o,s){var p=cl(o);return Tp(p,rs(s,0,p.length))}function ec(o,s,p,v){if(!ti(o))return o;s=ua(s,o);for(var x=-1,N=s.length,M=N-1,P=o;P!=null&&++x<N;){var ie=Jn(s[x]),ge=p;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return o;if(x!=M){var me=P[ie];ge=v?v(me,ie,P):t,ge===t&&(ge=ti(me)?me:Lo(s[x+1])?[]:{})}Ju(P,ie,ge),P=P[ie]}return o}var nA=bp?function(o,s){return bp.set(o,s),o}:Sr,CZ=fp?function(o,s){return fp(o,"toString",{configurable:!0,enumerable:!1,value:mb(s),writable:!0})}:Sr;function AZ(o){return Tp(cl(o))}function nn(o,s,p){var v=-1,x=o.length;s<0&&(s=-s>x?0:x+s),p=p>x?x:p,p<0&&(p+=x),x=s>p?0:p-s>>>0,s>>>=0;for(var N=le(x);++v<x;)N[v]=o[v+s];return N}function wZ(o,s){var p;return sa(o,function(v,x,N){return p=s(v,x,N),!p}),!!p}function xp(o,s,p){var v=0,x=o==null?v:o.length;if(typeof s=="number"&&s===s&&x<=ue){for(;v<x;){var N=v+x>>>1,M=o[N];M!==null&&!kr(M)&&(p?M<=s:M<s)?v=N+1:x=N}return x}return Um(o,s,Sr,p)}function Um(o,s,p,v){var x=0,N=o==null?0:o.length;if(N===0)return 0;s=p(s);for(var M=s!==s,P=s===null,ie=kr(s),ge=s===t;x<N;){var me=mp((x+N)/2),ye=p(o[me]),Fe=ye!==t,Ve=ye===null,qe=ye===ye,ht=kr(ye);if(M)var $e=v||qe;else ge?$e=qe&&(v||Fe):P?$e=qe&&Fe&&(v||!Ve):ie?$e=qe&&Fe&&!Ve&&(v||!ht):Ve||ht?$e=!1:$e=v?ye<=s:ye<s;$e?x=me+1:N=me}return ji(N,ee)}function oA(o,s){for(var p=-1,v=o.length,x=0,N=[];++p<v;){var M=o[p],P=s?s(M):M;if(!p||!En(P,ie)){var ie=P;N[x++]=M===0?0:M}}return N}function aA(o){return typeof o=="number"?o:kr(o)?J:+o}function Mr(o){if(typeof o=="string")return o;if(ot(o))return Bt(o,Mr)+"";if(kr(o))return MC?MC.call(o):"";var s=o+"";return s=="0"&&1/o==-K?"-0":s}function la(o,s,p){var v=-1,x=Ya,N=o.length,M=!0,P=[],ie=P;if(p)M=!1,x=qr;else if(N>=i){var ge=s?null:DZ(o);if(ge)return vi(ge);M=!1,x=di,ie=new is}else ie=s?[]:P;e:for(;++v<N;){var me=o[v],ye=s?s(me):me;if(me=p||me!==0?me:0,M&&ye===ye){for(var Fe=ie.length;Fe--;)if(ie[Fe]===ye)continue e;s&&ie.push(ye),P.push(me)}else x(ie,ye,p)||(ie!==P&&ie.push(ye),P.push(me))}return P}function Hm(o,s){return s=ua(s,o),o=DA(o,s),o==null||delete o[Jn(on(s))]}function sA(o,s,p,v){return ec(o,s,p(ns(o,s)),v)}function Sp(o,s,p,v){for(var x=o.length,N=v?x:-1;(v?N--:++N<x)&&s(o[N],N,o););return p?nn(o,v?0:N,v?N+1:x):nn(o,v?N+1:0,v?x:N)}function lA(o,s){var p=o;return p instanceof It&&(p=p.value()),$r(s,function(v,x){return x.func.apply(x.thisArg,wn([v],x.args))},p)}function zm(o,s,p){var v=o.length;if(v<2)return v?la(o[0]):[];for(var x=-1,N=le(v);++x<v;)for(var M=o[x],P=-1;++P<v;)P!=x&&(N[x]=qu(N[x]||M,o[P],s,p));return la(Pi(N,1),s,p)}function uA(o,s,p){for(var v=-1,x=o.length,N=s.length,M={};++v<x;){var P=v<N?s[v]:t;p(M,o[v],P)}return M}function Ym(o){return pi(o)?o:[]}function Qm(o){return typeof o=="function"?o:Sr}function ua(o,s){return ot(o)?o:rb(o,s)?[o]:MA(Rt(o))}var xZ=gt;function ca(o,s,p){var v=o.length;return p=p===t?v:p,!s&&p>=v?o:nn(o,s,p)}var cA=dX||function(o){return bi.clearTimeout(o)};function dA(o,s){if(s)return o.slice();var p=o.length,v=OC?OC(p):new o.constructor(p);return o.copy(v),v}function jm(o){var s=new o.constructor(o.byteLength);return new dp(s).set(new dp(o)),s}function SZ(o,s){var p=s?jm(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function RZ(o){var s=new o.constructor(o.source,Wu.exec(o));return s.lastIndex=o.lastIndex,s}function EZ(o){return ju?Ct(ju.call(o)):{}}function pA(o,s){var p=s?jm(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function hA(o,s){if(o!==s){var p=o!==t,v=o===null,x=o===o,N=kr(o),M=s!==t,P=s===null,ie=s===s,ge=kr(s);if(!P&&!ge&&!N&&o>s||N&&M&&ie&&!P&&!ge||v&&M&&ie||!p&&ie||!x)return 1;if(!v&&!N&&!ge&&o<s||ge&&p&&x&&!v&&!N||P&&p&&x||!M&&x||!ie)return-1}return 0}function FZ(o,s,p){for(var v=-1,x=o.criteria,N=s.criteria,M=x.length,P=p.length;++v<M;){var ie=hA(x[v],N[v]);if(ie){if(v>=P)return ie;var ge=p[v];return ie*(ge=="desc"?-1:1)}}return o.index-s.index}function fA(o,s,p,v){for(var x=-1,N=o.length,M=p.length,P=-1,ie=s.length,ge=Ai(N-M,0),me=le(ie+ge),ye=!v;++P<ie;)me[P]=s[P];for(;++x<M;)(ye||x<N)&&(me[p[x]]=o[x]);for(;ge--;)me[P++]=o[x++];return me}function gA(o,s,p,v){for(var x=-1,N=o.length,M=-1,P=p.length,ie=-1,ge=s.length,me=Ai(N-P,0),ye=le(me+ge),Fe=!v;++x<me;)ye[x]=o[x];for(var Ve=x;++ie<ge;)ye[Ve+ie]=s[ie];for(;++M<P;)(Fe||x<N)&&(ye[Ve+p[M]]=o[x++]);return ye}function Ar(o,s){var p=-1,v=o.length;for(s||(s=le(v));++p<v;)s[p]=o[p];return s}function jn(o,s,p,v){var x=!p;p||(p={});for(var N=-1,M=s.length;++N<M;){var P=s[N],ie=v?v(p[P],o[P],P,p,o):t;ie===t&&(ie=o[P]),x?Oo(p,P,ie):Ju(p,P,ie)}return p}function NZ(o,s){return jn(o,ib(o),s)}function _Z(o,s){return jn(o,FA(o),s)}function Rp(o,s){return function(p,v){var x=ot(p)?Fm:$X,N=s?s():{};return x(p,o,je(v,2),N)}}function al(o){return gt(function(s,p){var v=-1,x=p.length,N=x>1?p[x-1]:t,M=x>2?p[2]:t;for(N=o.length>3&&typeof N=="function"?(x--,N):t,M&&hr(p[0],p[1],M)&&(N=x<3?t:N,x=1),s=Ct(s);++v<x;){var P=p[v];P&&o(s,P,v,N)}return s})}function mA(o,s){return function(p,v){if(p==null)return p;if(!wr(p))return o(p,v);for(var x=p.length,N=s?x:-1,M=Ct(p);(s?N--:++N<x)&&v(M[N],N,M)!==!1;);return p}}function bA(o){return function(s,p,v){for(var x=-1,N=Ct(s),M=v(s),P=M.length;P--;){var ie=M[o?P:++x];if(p(N[ie],ie,N)===!1)break}return s}}function WZ(o,s,p){var v=s&S,x=tc(o);function N(){var M=this&&this!==bi&&this instanceof N?x:o;return M.apply(v?p:this,arguments)}return N}function vA(o){return function(s){s=Rt(s);var p=Ze(s)?Ei(s):t,v=p?p[0]:s.charAt(0),x=p?ca(p,1).join(""):s.slice(1);return v[o]()+x}}function sl(o){return function(s){return $r(m1(g1(s).replace(ip,"")),o,"")}}function tc(o){return function(){var s=arguments;switch(s.length){case 0:return new o;case 1:return new o(s[0]);case 2:return new o(s[0],s[1]);case 3:return new o(s[0],s[1],s[2]);case 4:return new o(s[0],s[1],s[2],s[3]);case 5:return new o(s[0],s[1],s[2],s[3],s[4]);case 6:return new o(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new o(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var p=ol(o.prototype),v=o.apply(p,s);return ti(v)?v:p}}function OZ(o,s,p){var v=tc(o);function x(){for(var N=arguments.length,M=le(N),P=N,ie=ll(x);P--;)M[P]=arguments[P];var ge=N<3&&M[0]!==ie&&M[N-1]!==ie?[]:St(M,ie);if(N-=ge.length,N<p)return wA(o,s,Ep,x.placeholder,t,M,ge,t,t,p-N);var me=this&&this!==bi&&this instanceof x?v:o;return ur(me,this,M)}return x}function IA(o){return function(s,p,v){var x=Ct(s);if(!wr(s)){var N=je(p,3);s=Fi(s),p=function(P){return N(x[P],P,x)}}var M=o(s,p,v);return M>-1?x[N?s[M]:M]:t}}function yA(o){return Do(function(s){var p=s.length,v=p,x=tn.prototype.thru;for(o&&s.reverse();v--;){var N=s[v];if(typeof N!="function")throw new Zi(n);if(x&&!M&&Wp(N)=="wrapper")var M=new tn([],!0)}for(v=M?v:p;++v<p;){N=s[v];var P=Wp(N),ie=P=="wrapper"?eb(N):t;ie&&nb(ie[0])&&ie[1]==(G|_|k|V)&&!ie[4].length&&ie[9]==1?M=M[Wp(ie[0])].apply(M,ie[3]):M=N.length==1&&nb(N)?M[P]():M.thru(N)}return function(){var ge=arguments,me=ge[0];if(M&&ge.length==1&&ot(me))return M.plant(me).value();for(var ye=0,Fe=p?s[ye].apply(this,ge):me;++ye<p;)Fe=s[ye].call(this,Fe);return Fe}})}function Ep(o,s,p,v,x,N,M,P,ie,ge){var me=s&G,ye=s&S,Fe=s&A,Ve=s&(_|X),qe=s&te,ht=Fe?t:tc(o);function $e(){for(var bt=arguments.length,yt=le(bt),Xr=bt;Xr--;)yt[Xr]=arguments[Xr];if(Ve)var fr=ll($e),Zr=T(yt,fr);if(v&&(yt=fA(yt,v,x,Ve)),N&&(yt=gA(yt,N,M,Ve)),bt-=Zr,Ve&&bt<ge){var hi=St(yt,fr);return wA(o,s,Ep,$e.placeholder,p,yt,hi,P,ie,ge-bt)}var Fn=ye?p:this,Mo=Fe?Fn[o]:o;return bt=yt.length,P?yt=$Z(yt,P):qe&&bt>1&&yt.reverse(),me&&ie<bt&&(yt.length=ie),this&&this!==bi&&this instanceof $e&&(Mo=ht||tc(Mo)),Mo.apply(Fn,yt)}return $e}function CA(o,s){return function(p,v){return aZ(p,o,s(v),{})}}function Fp(o,s){return function(p,v){var x;if(p===t&&v===t)return s;if(p!==t&&(x=p),v!==t){if(x===t)return v;typeof p=="string"||typeof v=="string"?(p=Mr(p),v=Mr(v)):(p=aA(p),v=aA(v)),x=o(p,v)}return x}}function Jm(o){return Do(function(s){return s=Bt(s,cr(je())),gt(function(p){var v=this;return o(s,function(x){return ur(x,v,p)})})})}function Np(o,s){s=s===t?" ":Mr(s);var p=s.length;if(p<2)return p?Vm(s,o):s;var v=Vm(s,gp(o/ri(s)));return Ze(s)?ca(Ei(v),0,o).join(""):v.slice(0,o)}function TZ(o,s,p,v){var x=s&S,N=tc(o);function M(){for(var P=-1,ie=arguments.length,ge=-1,me=v.length,ye=le(me+ie),Fe=this&&this!==bi&&this instanceof M?N:o;++ge<me;)ye[ge]=v[ge];for(;ie--;)ye[ge++]=arguments[++P];return ur(Fe,x?p:this,ye)}return M}function AA(o){return function(s,p,v){return v&&typeof v!="number"&&hr(s,p,v)&&(p=v=t),s=Bo(s),p===t?(p=s,s=0):p=Bo(p),v=v===t?s<p?1:-1:Bo(v),vZ(s,p,v,o)}}function _p(o){return function(s,p){return typeof s=="string"&&typeof p=="string"||(s=an(s),p=an(p)),o(s,p)}}function wA(o,s,p,v,x,N,M,P,ie,ge){var me=s&_,ye=me?M:t,Fe=me?t:M,Ve=me?N:t,qe=me?t:N;s|=me?k:B,s&=~(me?B:k),s&F||(s&=~(S|A));var ht=[o,s,x,Ve,ye,qe,Fe,P,ie,ge],$e=p.apply(t,ht);return nb(o)&&LA($e,ht),$e.placeholder=v,GA($e,o,s)}function qm(o){var s=Qt[o];return function(p,v){if(p=an(p),v=v==null?0:ji(dt(v),292),v&&GC(p)){var x=(Rt(p)+"e").split("e"),N=s(x[0]+"e"+(+x[1]+v));return x=(Rt(N)+"e").split("e"),+(x[0]+"e"+(+x[1]-v))}return s(p)}}var DZ=rl&&1/vi(new rl([,-0]))[1]==K?function(o){return new rl(o)}:Ib;function xA(o){return function(s){var p=Ji(s);return p==Ue?Qe(s):p==xt?dr(s):lp(s,o(s))}}function To(o,s,p,v,x,N,M,P){var ie=s&A;if(!ie&&typeof o!="function")throw new Zi(n);var ge=v?v.length:0;if(ge||(s&=~(k|B),v=x=t),M=M===t?M:Ai(dt(M),0),P=P===t?P:dt(P),ge-=x?x.length:0,s&B){var me=v,ye=x;v=x=t}var Fe=ie?t:eb(o),Ve=[o,s,p,v,x,me,ye,N,M,P];if(Fe&&jZ(Ve,Fe),o=Ve[0],s=Ve[1],p=Ve[2],v=Ve[3],x=Ve[4],P=Ve[9]=Ve[9]===t?ie?0:o.length:Ai(Ve[9]-ge,0),!P&&s&(_|X)&&(s&=~(_|X)),!s||s==S)var qe=WZ(o,s,p);else s==_||s==X?qe=OZ(o,s,P):(s==k||s==(S|k))&&!x.length?qe=TZ(o,s,p,v):qe=Ep.apply(t,Ve);var ht=Fe?nA:LA;return GA(ht(qe,Ve),o,s)}function SA(o,s,p,v){return o===t||En(o,No[p])&&!_t.call(v,p)?s:o}function RA(o,s,p,v,x,N){return ti(o)&&ti(s)&&(N.set(s,o),wp(o,s,t,RA,N),N.delete(s)),o}function LZ(o){return nc(o)?t:o}function EA(o,s,p,v,x,N){var M=p&b,P=o.length,ie=s.length;if(P!=ie&&!(M&&ie>P))return!1;var ge=N.get(o),me=N.get(s);if(ge&&me)return ge==s&&me==o;var ye=-1,Fe=!0,Ve=p&C?new is:t;for(N.set(o,s),N.set(s,o);++ye<P;){var qe=o[ye],ht=s[ye];if(v)var $e=M?v(ht,qe,ye,s,o,N):v(qe,ht,ye,o,s,N);if($e!==t){if($e)continue;Fe=!1;break}if(Ve){if(!Qa(s,function(bt,yt){if(!di(Ve,yt)&&(qe===bt||x(qe,bt,p,v,N)))return Ve.push(yt)})){Fe=!1;break}}else if(!(qe===ht||x(qe,ht,p,v,N))){Fe=!1;break}}return N.delete(o),N.delete(s),Fe}function GZ(o,s,p,v,x,N,M){switch(p){case In:if(o.byteLength!=s.byteLength||o.byteOffset!=s.byteOffset)return!1;o=o.buffer,s=s.buffer;case Tr:return!(o.byteLength!=s.byteLength||!N(new dp(o),new dp(s)));case Le:case Te:case et:return En(+o,+s);case rt:return o.name==s.name&&o.message==s.message;case $t:case Ut:return o==s+"";case Ue:var P=Qe;case xt:var ie=v&b;if(P||(P=vi),o.size!=s.size&&!ie)return!1;var ge=M.get(o);if(ge)return ge==s;v|=C,M.set(o,s);var me=EA(P(o),P(s),v,x,N,M);return M.delete(o),me;case ut:if(ju)return ju.call(o)==ju.call(s)}return!1}function BZ(o,s,p,v,x,N){var M=p&b,P=$m(o),ie=P.length,ge=$m(s),me=ge.length;if(ie!=me&&!M)return!1;for(var ye=ie;ye--;){var Fe=P[ye];if(!(M?Fe in s:_t.call(s,Fe)))return!1}var Ve=N.get(o),qe=N.get(s);if(Ve&&qe)return Ve==s&&qe==o;var ht=!0;N.set(o,s),N.set(s,o);for(var $e=M;++ye<ie;){Fe=P[ye];var bt=o[Fe],yt=s[Fe];if(v)var Xr=M?v(yt,bt,Fe,s,o,N):v(bt,yt,Fe,o,s,N);if(!(Xr===t?bt===yt||x(bt,yt,p,v,N):Xr)){ht=!1;break}$e||($e=Fe=="constructor")}if(ht&&!$e){var fr=o.constructor,Zr=s.constructor;fr!=Zr&&"constructor"in o&&"constructor"in s&&!(typeof fr=="function"&&fr instanceof fr&&typeof Zr=="function"&&Zr instanceof Zr)&&(ht=!1)}return N.delete(o),N.delete(s),ht}function Do(o){return ab(TA(o,t,PA),o+"")}function $m(o){return YC(o,Fi,ib)}function Km(o){return YC(o,xr,FA)}var eb=bp?function(o){return bp.get(o)}:Ib;function Wp(o){for(var s=o.name+"",p=nl[s],v=_t.call(nl,s)?p.length:0;v--;){var x=p[v],N=x.func;if(N==null||N==o)return x.name}return s}function ll(o){var s=_t.call(E,"placeholder")?E:o;return s.placeholder}function je(){var o=E.iteratee||bb;return o=o===bb?JC:o,arguments.length?o(arguments[0],arguments[1]):o}function Op(o,s){var p=o.__data__;return HZ(s)?p[typeof s=="string"?"string":"hash"]:p.map}function tb(o){for(var s=Fi(o),p=s.length;p--;){var v=s[p],x=o[v];s[p]=[v,x,WA(x)]}return s}function os(o,s){var p=We(o,s);return jC(p)?p:t}function MZ(o){var s=_t.call(o,es),p=o[es];try{o[es]=t;var v=!0}catch{}var x=up.call(o);return v&&(s?o[es]=p:delete o[es]),x}var ib=Nm?function(o){return o==null?[]:(o=Ct(o),An(Nm(o),function(s){return DC.call(o,s)}))}:yb,FA=Nm?function(o){for(var s=[];o;)wn(s,ib(o)),o=pp(o);return s}:yb,Ji=pr;(_m&&Ji(new _m(new ArrayBuffer(1)))!=In||zu&&Ji(new zu)!=Ue||Wm&&Ji(Wm.resolve())!=Dt||rl&&Ji(new rl)!=xt||Yu&&Ji(new Yu)!=Kt)&&(Ji=function(o){var s=pr(o),p=s==Xe?o.constructor:t,v=p?as(p):"";if(v)switch(v){case yX:return In;case CX:return Ue;case AX:return Dt;case wX:return xt;case xX:return Kt}return s});function kZ(o,s,p){for(var v=-1,x=p.length;++v<x;){var N=p[v],M=N.size;switch(N.type){case"drop":o+=M;break;case"dropRight":s-=M;break;case"take":s=ji(s,o+M);break;case"takeRight":o=Ai(o,s-M);break}}return{start:o,end:s}}function XZ(o){var s=o.match(Io);return s?s[1].split(Ma):[]}function NA(o,s,p){s=ua(s,o);for(var v=-1,x=s.length,N=!1;++v<x;){var M=Jn(s[v]);if(!(N=o!=null&&p(o,M)))break;o=o[M]}return N||++v!=x?N:(x=o==null?0:o.length,!!x&&kp(x)&&Lo(M,x)&&(ot(o)||ss(o)))}function ZZ(o){var s=o.length,p=new o.constructor(s);return s&&typeof o[0]=="string"&&_t.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function _A(o){return typeof o.constructor=="function"&&!ic(o)?ol(pp(o)):{}}function PZ(o,s,p){var v=o.constructor;switch(s){case Tr:return jm(o);case Le:case Te:return new v(+o);case In:return SZ(o,p);case qo:case bo:case mi:case pt:case Ir:case nr:case ks:case ii:case vo:return pA(o,p);case Ue:return new v;case et:case Ut:return new v(o);case $t:return RZ(o);case xt:return new v;case ut:return EZ(o)}}function VZ(o,s){var p=s.length;if(!p)return o;var v=p-1;return s[v]=(p>1?"& ":"")+s[v],s=s.join(p>2?", ":" "),o.replace(or,`{
/* [wrapped with `+s+`] */
`)}function UZ(o){return ot(o)||ss(o)||!!(LC&&o&&o[LC])}function Lo(o,s){var p=typeof o;return s=s??$,!!s&&(p=="number"||p!="symbol"&&yo.test(o))&&o>-1&&o%1==0&&o<s}function hr(o,s,p){if(!ti(p))return!1;var v=typeof s;return(v=="number"?wr(p)&&Lo(s,p.length):v=="string"&&s in p)?En(p[s],o):!1}function rb(o,s){if(ot(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||kr(o)?!0:Yd.test(o)||!zd.test(o)||s!=null&&o in Ct(s)}function HZ(o){var s=typeof o;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?o!=="__proto__":o===null}function nb(o){var s=Wp(o),p=E[s];if(typeof p!="function"||!(s in It.prototype))return!1;if(o===p)return!0;var v=eb(p);return!!v&&o===v[0]}function zZ(o){return!!WC&&WC in o}var YZ=Ka?Go:Cb;function ic(o){var s=o&&o.constructor,p=typeof s=="function"&&s.prototype||No;return o===p}function WA(o){return o===o&&!ti(o)}function OA(o,s){return function(p){return p==null?!1:p[o]===s&&(s!==t||o in Ct(p))}}function QZ(o){var s=Bp(o,function(v){return p.size===u&&p.clear(),v}),p=s.cache;return s}function jZ(o,s){var p=o[1],v=s[1],x=p|v,N=x<(S|A|G),M=v==G&&p==_||v==G&&p==V&&o[7].length<=s[8]||v==(G|V)&&s[7].length<=s[8]&&p==_;if(!(N||M))return o;v&S&&(o[2]=s[2],x|=p&S?0:F);var P=s[3];if(P){var ie=o[3];o[3]=ie?fA(ie,P,s[4]):P,o[4]=ie?St(o[3],c):s[4]}return P=s[5],P&&(ie=o[5],o[5]=ie?gA(ie,P,s[6]):P,o[6]=ie?St(o[5],c):s[6]),P=s[7],P&&(o[7]=P),v&G&&(o[8]=o[8]==null?s[8]:ji(o[8],s[8])),o[9]==null&&(o[9]=s[9]),o[0]=s[0],o[1]=x,o}function JZ(o){var s=[];if(o!=null)for(var p in Ct(o))s.push(p);return s}function qZ(o){return up.call(o)}function TA(o,s,p){return s=Ai(s===t?o.length-1:s,0),function(){for(var v=arguments,x=-1,N=Ai(v.length-s,0),M=le(N);++x<N;)M[x]=v[s+x];x=-1;for(var P=le(s+1);++x<s;)P[x]=v[x];return P[s]=p(M),ur(o,this,P)}}function DA(o,s){return s.length<2?o:ns(o,nn(s,0,-1))}function $Z(o,s){for(var p=o.length,v=ji(s.length,p),x=Ar(o);v--;){var N=s[v];o[v]=Lo(N,p)?x[N]:t}return o}function ob(o,s){if(!(s==="constructor"&&typeof o[s]=="function")&&s!="__proto__")return o[s]}var LA=BA(nA),rc=hX||function(o,s){return bi.setTimeout(o,s)},ab=BA(CZ);function GA(o,s,p){var v=s+"";return ab(o,VZ(v,KZ(XZ(v),p)))}function BA(o){var s=0,p=0;return function(){var v=bX(),x=ne-(v-p);if(p=v,x>0){if(++s>=re)return arguments[0]}else s=0;return o.apply(t,arguments)}}function Tp(o,s){var p=-1,v=o.length,x=v-1;for(s=s===t?v:s;++p<s;){var N=Pm(p,x),M=o[N];o[N]=o[p],o[p]=M}return o.length=s,o}var MA=QZ(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(Qd,function(p,v,x,N){s.push(x?N.replace(Ko,"$1"):v||p)}),s});function Jn(o){if(typeof o=="string"||kr(o))return o;var s=o+"";return s=="0"&&1/o==-K?"-0":s}function as(o){if(o!=null){try{return il.call(o)}catch{}try{return o+""}catch{}}return""}function KZ(o,s){return yr(ce,function(p){var v="_."+p[0];s&p[1]&&!Ya(o,v)&&o.push(v)}),o.sort()}function kA(o){if(o instanceof It)return o.clone();var s=new tn(o.__wrapped__,o.__chain__);return s.__actions__=Ar(o.__actions__),s.__index__=o.__index__,s.__values__=o.__values__,s}function eP(o,s,p){(p?hr(o,s,p):s===t)?s=1:s=Ai(dt(s),0);var v=o==null?0:o.length;if(!v||s<1)return[];for(var x=0,N=0,M=le(gp(v/s));x<v;)M[N++]=nn(o,x,x+=s);return M}function tP(o){for(var s=-1,p=o==null?0:o.length,v=0,x=[];++s<p;){var N=o[s];N&&(x[v++]=N)}return x}function iP(){var o=arguments.length;if(!o)return[];for(var s=le(o-1),p=arguments[0],v=o;v--;)s[v-1]=arguments[v];return wn(ot(p)?Ar(p):[p],Pi(s,1))}var rP=gt(function(o,s){return pi(o)?qu(o,Pi(s,1,pi,!0)):[]}),nP=gt(function(o,s){var p=on(s);return pi(p)&&(p=t),pi(o)?qu(o,Pi(s,1,pi,!0),je(p,2)):[]}),oP=gt(function(o,s){var p=on(s);return pi(p)&&(p=t),pi(o)?qu(o,Pi(s,1,pi,!0),t,p):[]});function aP(o,s,p){var v=o==null?0:o.length;return v?(s=p||s===t?1:dt(s),nn(o,s<0?0:s,v)):[]}function sP(o,s,p){var v=o==null?0:o.length;return v?(s=p||s===t?1:dt(s),s=v-s,nn(o,0,s<0?0:s)):[]}function lP(o,s){return o&&o.length?Sp(o,je(s,3),!0,!0):[]}function uP(o,s){return o&&o.length?Sp(o,je(s,3),!0):[]}function cP(o,s,p,v){var x=o==null?0:o.length;return x?(p&&typeof p!="number"&&hr(o,s,p)&&(p=0,v=x),iZ(o,s,p,v)):[]}function XA(o,s,p){var v=o==null?0:o.length;if(!v)return-1;var x=p==null?0:dt(p);return x<0&&(x=Ai(v+x,0)),ra(o,je(s,3),x)}function ZA(o,s,p){var v=o==null?0:o.length;if(!v)return-1;var x=v-1;return p!==t&&(x=dt(p),x=p<0?Ai(v+x,0):ji(x,v-1)),ra(o,je(s,3),x,!0)}function PA(o){var s=o==null?0:o.length;return s?Pi(o,1):[]}function dP(o){var s=o==null?0:o.length;return s?Pi(o,K):[]}function pP(o,s){var p=o==null?0:o.length;return p?(s=s===t?1:dt(s),Pi(o,s)):[]}function hP(o){for(var s=-1,p=o==null?0:o.length,v={};++s<p;){var x=o[s];v[x[0]]=x[1]}return v}function VA(o){return o&&o.length?o[0]:t}function fP(o,s,p){var v=o==null?0:o.length;if(!v)return-1;var x=p==null?0:dt(p);return x<0&&(x=Ai(v+x,0)),Gr(o,s,x)}function gP(o){var s=o==null?0:o.length;return s?nn(o,0,-1):[]}var mP=gt(function(o){var s=Bt(o,Ym);return s.length&&s[0]===o[0]?Bm(s):[]}),bP=gt(function(o){var s=on(o),p=Bt(o,Ym);return s===on(p)?s=t:p.pop(),p.length&&p[0]===o[0]?Bm(p,je(s,2)):[]}),vP=gt(function(o){var s=on(o),p=Bt(o,Ym);return s=typeof s=="function"?s:t,s&&p.pop(),p.length&&p[0]===o[0]?Bm(p,t,s):[]});function IP(o,s){return o==null?"":gX.call(o,s)}function on(o){var s=o==null?0:o.length;return s?o[s-1]:t}function yP(o,s,p){var v=o==null?0:o.length;if(!v)return-1;var x=v;return p!==t&&(x=dt(p),x=x<0?Ai(v+x,0):ji(x,v-1)),s===s?Yt(o,s,x):ra(o,Ro,x,!0)}function CP(o,s){return o&&o.length?eA(o,dt(s)):t}var AP=gt(UA);function UA(o,s){return o&&o.length&&s&&s.length?Zm(o,s):o}function wP(o,s,p){return o&&o.length&&s&&s.length?Zm(o,s,je(p,2)):o}function xP(o,s,p){return o&&o.length&&s&&s.length?Zm(o,s,t,p):o}var SP=Do(function(o,s){var p=o==null?0:o.length,v=Tm(o,s);return rA(o,Bt(s,function(x){return Lo(x,p)?+x:x}).sort(hA)),v});function RP(o,s){var p=[];if(!(o&&o.length))return p;var v=-1,x=[],N=o.length;for(s=je(s,3);++v<N;){var M=o[v];s(M,v,o)&&(p.push(M),x.push(v))}return rA(o,x),p}function sb(o){return o==null?o:IX.call(o)}function EP(o,s,p){var v=o==null?0:o.length;return v?(p&&typeof p!="number"&&hr(o,s,p)?(s=0,p=v):(s=s==null?0:dt(s),p=p===t?v:dt(p)),nn(o,s,p)):[]}function FP(o,s){return xp(o,s)}function NP(o,s,p){return Um(o,s,je(p,2))}function _P(o,s){var p=o==null?0:o.length;if(p){var v=xp(o,s);if(v<p&&En(o[v],s))return v}return-1}function WP(o,s){return xp(o,s,!0)}function OP(o,s,p){return Um(o,s,je(p,2),!0)}function TP(o,s){var p=o==null?0:o.length;if(p){var v=xp(o,s,!0)-1;if(En(o[v],s))return v}return-1}function DP(o){return o&&o.length?oA(o):[]}function LP(o,s){return o&&o.length?oA(o,je(s,2)):[]}function GP(o){var s=o==null?0:o.length;return s?nn(o,1,s):[]}function BP(o,s,p){return o&&o.length?(s=p||s===t?1:dt(s),nn(o,0,s<0?0:s)):[]}function MP(o,s,p){var v=o==null?0:o.length;return v?(s=p||s===t?1:dt(s),s=v-s,nn(o,s<0?0:s,v)):[]}function kP(o,s){return o&&o.length?Sp(o,je(s,3),!1,!0):[]}function XP(o,s){return o&&o.length?Sp(o,je(s,3)):[]}var ZP=gt(function(o){return la(Pi(o,1,pi,!0))}),PP=gt(function(o){var s=on(o);return pi(s)&&(s=t),la(Pi(o,1,pi,!0),je(s,2))}),VP=gt(function(o){var s=on(o);return s=typeof s=="function"?s:t,la(Pi(o,1,pi,!0),t,s)});function UP(o){return o&&o.length?la(o):[]}function HP(o,s){return o&&o.length?la(o,je(s,2)):[]}function zP(o,s){return s=typeof s=="function"?s:t,o&&o.length?la(o,t,s):[]}function lb(o){if(!(o&&o.length))return[];var s=0;return o=An(o,function(p){if(pi(p))return s=Ai(p.length,s),!0}),qa(s,function(p){return Bt(o,Ja(p))})}function HA(o,s){if(!(o&&o.length))return[];var p=lb(o);return s==null?p:Bt(p,function(v){return ur(s,t,v)})}var YP=gt(function(o,s){return pi(o)?qu(o,s):[]}),QP=gt(function(o){return zm(An(o,pi))}),jP=gt(function(o){var s=on(o);return pi(s)&&(s=t),zm(An(o,pi),je(s,2))}),JP=gt(function(o){var s=on(o);return s=typeof s=="function"?s:t,zm(An(o,pi),t,s)}),qP=gt(lb);function $P(o,s){return uA(o||[],s||[],Ju)}function KP(o,s){return uA(o||[],s||[],ec)}var e5=gt(function(o){var s=o.length,p=s>1?o[s-1]:t;return p=typeof p=="function"?(o.pop(),p):t,HA(o,p)});function zA(o){var s=E(o);return s.__chain__=!0,s}function t5(o,s){return s(o),o}function Dp(o,s){return s(o)}var i5=Do(function(o){var s=o.length,p=s?o[0]:0,v=this.__wrapped__,x=function(N){return Tm(N,o)};return s>1||this.__actions__.length||!(v instanceof It)||!Lo(p)?this.thru(x):(v=v.slice(p,+p+(s?1:0)),v.__actions__.push({func:Dp,args:[x],thisArg:t}),new tn(v,this.__chain__).thru(function(N){return s&&!N.length&&N.push(t),N}))});function r5(){return zA(this)}function n5(){return new tn(this.value(),this.__chain__)}function o5(){this.__values__===t&&(this.__values__=a1(this.value()));var o=this.__index__>=this.__values__.length,s=o?t:this.__values__[this.__index__++];return{done:o,value:s}}function a5(){return this}function s5(o){for(var s,p=this;p instanceof Ip;){var v=kA(p);v.__index__=0,v.__values__=t,s?x.__wrapped__=v:s=v;var x=v;p=p.__wrapped__}return x.__wrapped__=o,s}function l5(){var o=this.__wrapped__;if(o instanceof It){var s=o;return this.__actions__.length&&(s=new It(this)),s=s.reverse(),s.__actions__.push({func:Dp,args:[sb],thisArg:t}),new tn(s,this.__chain__)}return this.thru(sb)}function u5(){return lA(this.__wrapped__,this.__actions__)}var c5=Rp(function(o,s,p){_t.call(o,p)?++o[p]:Oo(o,p,1)});function d5(o,s,p){var v=ot(o)?za:tZ;return p&&hr(o,s,p)&&(s=t),v(o,je(s,3))}function p5(o,s){var p=ot(o)?An:HC;return p(o,je(s,3))}var h5=IA(XA),f5=IA(ZA);function g5(o,s){return Pi(Lp(o,s),1)}function m5(o,s){return Pi(Lp(o,s),K)}function b5(o,s,p){return p=p===t?1:dt(p),Pi(Lp(o,s),p)}function YA(o,s){var p=ot(o)?yr:sa;return p(o,je(s,3))}function QA(o,s){var p=ot(o)?Ha:UC;return p(o,je(s,3))}var v5=Rp(function(o,s,p){_t.call(o,p)?o[p].push(s):Oo(o,p,[s])});function I5(o,s,p,v){o=wr(o)?o:cl(o),p=p&&!v?dt(p):0;var x=o.length;return p<0&&(p=Ai(x+p,0)),Xp(o)?p<=x&&o.indexOf(s,p)>-1:!!x&&Gr(o,s,p)>-1}var y5=gt(function(o,s,p){var v=-1,x=typeof s=="function",N=wr(o)?le(o.length):[];return sa(o,function(M){N[++v]=x?ur(s,M,p):$u(M,s,p)}),N}),C5=Rp(function(o,s,p){Oo(o,p,s)});function Lp(o,s){var p=ot(o)?Bt:qC;return p(o,je(s,3))}function A5(o,s,p,v){return o==null?[]:(ot(s)||(s=s==null?[]:[s]),p=v?t:p,ot(p)||(p=p==null?[]:[p]),tA(o,s,p))}var w5=Rp(function(o,s,p){o[p?0:1].push(s)},function(){return[[],[]]});function x5(o,s,p){var v=ot(o)?$r:$s,x=arguments.length<3;return v(o,je(s,4),p,x,sa)}function S5(o,s,p){var v=ot(o)?Pu:$s,x=arguments.length<3;return v(o,je(s,4),p,x,UC)}function R5(o,s){var p=ot(o)?An:HC;return p(o,Mp(je(s,3)))}function E5(o){var s=ot(o)?XC:IZ;return s(o)}function F5(o,s,p){(p?hr(o,s,p):s===t)?s=1:s=dt(s);var v=ot(o)?JX:yZ;return v(o,s)}function N5(o){var s=ot(o)?qX:AZ;return s(o)}function _5(o){if(o==null)return 0;if(wr(o))return Xp(o)?ri(o):o.length;var s=Ji(o);return s==Ue||s==xt?o.size:km(o).length}function W5(o,s,p){var v=ot(o)?Qa:wZ;return p&&hr(o,s,p)&&(s=t),v(o,je(s,3))}var O5=gt(function(o,s){if(o==null)return[];var p=s.length;return p>1&&hr(o,s[0],s[1])?s=[]:p>2&&hr(s[0],s[1],s[2])&&(s=[s[0]]),tA(o,Pi(s,1),[])}),Gp=pX||function(){return bi.Date.now()};function T5(o,s){if(typeof s!="function")throw new Zi(n);return o=dt(o),function(){if(--o<1)return s.apply(this,arguments)}}function jA(o,s,p){return s=p?t:s,s=o&&s==null?o.length:s,To(o,G,t,t,t,t,s)}function JA(o,s){var p;if(typeof s!="function")throw new Zi(n);return o=dt(o),function(){return--o>0&&(p=s.apply(this,arguments)),o<=1&&(s=t),p}}var ub=gt(function(o,s,p){var v=S;if(p.length){var x=St(p,ll(ub));v|=k}return To(o,v,s,p,x)}),qA=gt(function(o,s,p){var v=S|A;if(p.length){var x=St(p,ll(qA));v|=k}return To(s,v,o,p,x)});function $A(o,s,p){s=p?t:s;var v=To(o,_,t,t,t,t,t,s);return v.placeholder=$A.placeholder,v}function KA(o,s,p){s=p?t:s;var v=To(o,X,t,t,t,t,t,s);return v.placeholder=KA.placeholder,v}function e1(o,s,p){var v,x,N,M,P,ie,ge=0,me=!1,ye=!1,Fe=!0;if(typeof o!="function")throw new Zi(n);s=an(s)||0,ti(p)&&(me=!!p.leading,ye="maxWait"in p,N=ye?Ai(an(p.maxWait)||0,s):N,Fe="trailing"in p?!!p.trailing:Fe);function Ve(hi){var Fn=v,Mo=x;return v=x=t,ge=hi,M=o.apply(Mo,Fn),M}function qe(hi){return ge=hi,P=rc(bt,s),me?Ve(hi):M}function ht(hi){var Fn=hi-ie,Mo=hi-ge,I1=s-Fn;return ye?ji(I1,N-Mo):I1}function $e(hi){var Fn=hi-ie,Mo=hi-ge;return ie===t||Fn>=s||Fn<0||ye&&Mo>=N}function bt(){var hi=Gp();if($e(hi))return yt(hi);P=rc(bt,ht(hi))}function yt(hi){return P=t,Fe&&v?Ve(hi):(v=x=t,M)}function Xr(){P!==t&&cA(P),ge=0,v=ie=x=P=t}function fr(){return P===t?M:yt(Gp())}function Zr(){var hi=Gp(),Fn=$e(hi);if(v=arguments,x=this,ie=hi,Fn){if(P===t)return qe(ie);if(ye)return cA(P),P=rc(bt,s),Ve(ie)}return P===t&&(P=rc(bt,s)),M}return Zr.cancel=Xr,Zr.flush=fr,Zr}var D5=gt(function(o,s){return VC(o,1,s)}),L5=gt(function(o,s,p){return VC(o,an(s)||0,p)});function G5(o){return To(o,te)}function Bp(o,s){if(typeof o!="function"||s!=null&&typeof s!="function")throw new Zi(n);var p=function(){var v=arguments,x=s?s.apply(this,v):v[0],N=p.cache;if(N.has(x))return N.get(x);var M=o.apply(this,v);return p.cache=N.set(x,M)||N,M};return p.cache=new(Bp.Cache||Wo),p}Bp.Cache=Wo;function Mp(o){if(typeof o!="function")throw new Zi(n);return function(){var s=arguments;switch(s.length){case 0:return!o.call(this);case 1:return!o.call(this,s[0]);case 2:return!o.call(this,s[0],s[1]);case 3:return!o.call(this,s[0],s[1],s[2])}return!o.apply(this,s)}}function B5(o){return JA(2,o)}var M5=xZ(function(o,s){s=s.length==1&&ot(s[0])?Bt(s[0],cr(je())):Bt(Pi(s,1),cr(je()));var p=s.length;return gt(function(v){for(var x=-1,N=ji(v.length,p);++x<N;)v[x]=s[x].call(this,v[x]);return ur(o,this,v)})}),cb=gt(function(o,s){var p=St(s,ll(cb));return To(o,k,t,s,p)}),t1=gt(function(o,s){var p=St(s,ll(t1));return To(o,B,t,s,p)}),k5=Do(function(o,s){return To(o,V,t,t,t,s)});function X5(o,s){if(typeof o!="function")throw new Zi(n);return s=s===t?s:dt(s),gt(o,s)}function Z5(o,s){if(typeof o!="function")throw new Zi(n);return s=s==null?0:Ai(dt(s),0),gt(function(p){var v=p[s],x=ca(p,0,s);return v&&wn(x,v),ur(o,this,x)})}function P5(o,s,p){var v=!0,x=!0;if(typeof o!="function")throw new Zi(n);return ti(p)&&(v="leading"in p?!!p.leading:v,x="trailing"in p?!!p.trailing:x),e1(o,s,{leading:v,maxWait:s,trailing:x})}function V5(o){return jA(o,1)}function U5(o,s){return cb(Qm(s),o)}function H5(){if(!arguments.length)return[];var o=arguments[0];return ot(o)?o:[o]}function z5(o){return rn(o,m)}function Y5(o,s){return s=typeof s=="function"?s:t,rn(o,m,s)}function Q5(o){return rn(o,d|m)}function j5(o,s){return s=typeof s=="function"?s:t,rn(o,d|m,s)}function J5(o,s){return s==null||PC(o,s,Fi(s))}function En(o,s){return o===s||o!==o&&s!==s}var q5=_p(Gm),$5=_p(function(o,s){return o>=s}),ss=QC(function(){return arguments}())?QC:function(o){return ni(o)&&_t.call(o,"callee")&&!DC.call(o,"callee")},ot=le.isArray,K5=zn?cr(zn):sZ;function wr(o){return o!=null&&kp(o.length)&&!Go(o)}function pi(o){return ni(o)&&wr(o)}function eV(o){return o===!0||o===!1||ni(o)&&pr(o)==Le}var da=fX||Cb,tV=Js?cr(Js):lZ;function iV(o){return ni(o)&&o.nodeType===1&&!nc(o)}function rV(o){if(o==null)return!0;if(wr(o)&&(ot(o)||typeof o=="string"||typeof o.splice=="function"||da(o)||ul(o)||ss(o)))return!o.length;var s=Ji(o);if(s==Ue||s==xt)return!o.size;if(ic(o))return!km(o).length;for(var p in o)if(_t.call(o,p))return!1;return!0}function nV(o,s){return Ku(o,s)}function oV(o,s,p){p=typeof p=="function"?p:t;var v=p?p(o,s):t;return v===t?Ku(o,s,t,p):!!v}function db(o){if(!ni(o))return!1;var s=pr(o);return s==rt||s==He||typeof o.message=="string"&&typeof o.name=="string"&&!nc(o)}function aV(o){return typeof o=="number"&&GC(o)}function Go(o){if(!ti(o))return!1;var s=pr(o);return s==Ye||s==Me||s==Oe||s==Li}function i1(o){return typeof o=="number"&&o==dt(o)}function kp(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=$}function ti(o){var s=typeof o;return o!=null&&(s=="object"||s=="function")}function ni(o){return o!=null&&typeof o=="object"}var r1=ia?cr(ia):cZ;function sV(o,s){return o===s||Mm(o,s,tb(s))}function lV(o,s,p){return p=typeof p=="function"?p:t,Mm(o,s,tb(s),p)}function uV(o){return n1(o)&&o!=+o}function cV(o){if(YZ(o))throw new Je(r);return jC(o)}function dV(o){return o===null}function pV(o){return o==null}function n1(o){return typeof o=="number"||ni(o)&&pr(o)==et}function nc(o){if(!ni(o)||pr(o)!=Xe)return!1;var s=pp(o);if(s===null)return!0;var p=_t.call(s,"constructor")&&s.constructor;return typeof p=="function"&&p instanceof p&&il.call(p)==lX}var pb=sp?cr(sp):dZ;function hV(o){return i1(o)&&o>=-$&&o<=$}var o1=Jr?cr(Jr):pZ;function Xp(o){return typeof o=="string"||!ot(o)&&ni(o)&&pr(o)==Ut}function kr(o){return typeof o=="symbol"||ni(o)&&pr(o)==ut}var ul=Yi?cr(Yi):hZ;function fV(o){return o===t}function gV(o){return ni(o)&&Ji(o)==Kt}function mV(o){return ni(o)&&pr(o)==mo}var bV=_p(Xm),vV=_p(function(o,s){return o<=s});function a1(o){if(!o)return[];if(wr(o))return Xp(o)?Ei(o):Ar(o);if(Hu&&o[Hu])return ft(o[Hu]());var s=Ji(o),p=s==Ue?Qe:s==xt?vi:cl;return p(o)}function Bo(o){if(!o)return o===0?o:0;if(o=an(o),o===K||o===-K){var s=o<0?-1:1;return s*fe}return o===o?o:0}function dt(o){var s=Bo(o),p=s%1;return s===s?p?s-p:s:0}function s1(o){return o?rs(dt(o),0,Z):0}function an(o){if(typeof o=="number")return o;if(kr(o))return J;if(ti(o)){var s=typeof o.valueOf=="function"?o.valueOf():o;o=ti(s)?s+"":s}if(typeof o!="string")return o===0?o:+o;o=$a(o);var p=Jd.test(o);return p||Hi.test(o)?Rm(o.slice(2),p?2:8):Ou.test(o)?J:+o}function l1(o){return jn(o,xr(o))}function IV(o){return o?rs(dt(o),-$,$):o===0?o:0}function Rt(o){return o==null?"":Mr(o)}var yV=al(function(o,s){if(ic(s)||wr(s)){jn(s,Fi(s),o);return}for(var p in s)_t.call(s,p)&&Ju(o,p,s[p])}),u1=al(function(o,s){jn(s,xr(s),o)}),Zp=al(function(o,s,p,v){jn(s,xr(s),o,v)}),CV=al(function(o,s,p,v){jn(s,Fi(s),o,v)}),AV=Do(Tm);function wV(o,s){var p=ol(o);return s==null?p:ZC(p,s)}var xV=gt(function(o,s){o=Ct(o);var p=-1,v=s.length,x=v>2?s[2]:t;for(x&&hr(s[0],s[1],x)&&(v=1);++p<v;)for(var N=s[p],M=xr(N),P=-1,ie=M.length;++P<ie;){var ge=M[P],me=o[ge];(me===t||En(me,No[ge])&&!_t.call(o,ge))&&(o[ge]=N[ge])}return o}),SV=gt(function(o){return o.push(t,RA),ur(c1,t,o)});function RV(o,s){return ki(o,je(s,3),Qn)}function EV(o,s){return ki(o,je(s,3),Lm)}function FV(o,s){return o==null?o:Dm(o,je(s,3),xr)}function NV(o,s){return o==null?o:zC(o,je(s,3),xr)}function _V(o,s){return o&&Qn(o,je(s,3))}function WV(o,s){return o&&Lm(o,je(s,3))}function OV(o){return o==null?[]:Ap(o,Fi(o))}function TV(o){return o==null?[]:Ap(o,xr(o))}function hb(o,s,p){var v=o==null?t:ns(o,s);return v===t?p:v}function DV(o,s){return o!=null&&NA(o,s,rZ)}function fb(o,s){return o!=null&&NA(o,s,nZ)}var LV=CA(function(o,s,p){s!=null&&typeof s.toString!="function"&&(s=up.call(s)),o[s]=p},mb(Sr)),GV=CA(function(o,s,p){s!=null&&typeof s.toString!="function"&&(s=up.call(s)),_t.call(o,s)?o[s].push(p):o[s]=[p]},je),BV=gt($u);function Fi(o){return wr(o)?kC(o):km(o)}function xr(o){return wr(o)?kC(o,!0):fZ(o)}function MV(o,s){var p={};return s=je(s,3),Qn(o,function(v,x,N){Oo(p,s(v,x,N),v)}),p}function kV(o,s){var p={};return s=je(s,3),Qn(o,function(v,x,N){Oo(p,x,s(v,x,N))}),p}var XV=al(function(o,s,p){wp(o,s,p)}),c1=al(function(o,s,p,v){wp(o,s,p,v)}),ZV=Do(function(o,s){var p={};if(o==null)return p;var v=!1;s=Bt(s,function(N){return N=ua(N,o),v||(v=N.length>1),N}),jn(o,Km(o),p),v&&(p=rn(p,d|f|m,LZ));for(var x=s.length;x--;)Hm(p,s[x]);return p});function PV(o,s){return d1(o,Mp(je(s)))}var VV=Do(function(o,s){return o==null?{}:mZ(o,s)});function d1(o,s){if(o==null)return{};var p=Bt(Km(o),function(v){return[v]});return s=je(s),iA(o,p,function(v,x){return s(v,x[0])})}function UV(o,s,p){s=ua(s,o);var v=-1,x=s.length;for(x||(x=1,o=t);++v<x;){var N=o==null?t:o[Jn(s[v])];N===t&&(v=x,N=p),o=Go(N)?N.call(o):N}return o}function HV(o,s,p){return o==null?o:ec(o,s,p)}function zV(o,s,p,v){return v=typeof v=="function"?v:t,o==null?o:ec(o,s,p,v)}var p1=xA(Fi),h1=xA(xr);function YV(o,s,p){var v=ot(o),x=v||da(o)||ul(o);if(s=je(s,4),p==null){var N=o&&o.constructor;x?p=v?new N:[]:ti(o)?p=Go(N)?ol(pp(o)):{}:p={}}return(x?yr:Qn)(o,function(M,P,ie){return s(p,M,P,ie)}),p}function QV(o,s){return o==null?!0:Hm(o,s)}function jV(o,s,p){return o==null?o:sA(o,s,Qm(p))}function JV(o,s,p,v){return v=typeof v=="function"?v:t,o==null?o:sA(o,s,Qm(p),v)}function cl(o){return o==null?[]:Cr(o,Fi(o))}function qV(o){return o==null?[]:Cr(o,xr(o))}function $V(o,s,p){return p===t&&(p=s,s=t),p!==t&&(p=an(p),p=p===p?p:0),s!==t&&(s=an(s),s=s===s?s:0),rs(an(o),s,p)}function KV(o,s,p){return s=Bo(s),p===t?(p=s,s=0):p=Bo(p),o=an(o),oZ(o,s,p)}function eU(o,s,p){if(p&&typeof p!="boolean"&&hr(o,s,p)&&(s=p=t),p===t&&(typeof s=="boolean"?(p=s,s=t):typeof o=="boolean"&&(p=o,o=t)),o===t&&s===t?(o=0,s=1):(o=Bo(o),s===t?(s=o,o=0):s=Bo(s)),o>s){var v=o;o=s,s=v}if(p||o%1||s%1){var x=BC();return ji(o+x*(s-o+Sm("1e-"+((x+"").length-1))),s)}return Pm(o,s)}var tU=sl(function(o,s,p){return s=s.toLowerCase(),o+(p?f1(s):s)});function f1(o){return gb(Rt(o).toLowerCase())}function g1(o){return o=Rt(o),o&&o.replace(zi,O).replace(rp,"")}function iU(o,s,p){o=Rt(o),s=Mr(s);var v=o.length;p=p===t?v:rs(dt(p),0,v);var x=p;return p-=s.length,p>=0&&o.slice(p,x)==s}function rU(o){return o=Rt(o),o&&Eu.test(o)?o.replace(Su,ae):o}function nU(o){return o=Rt(o),o&&vm.test(o)?o.replace(Fu,"\\$&"):o}var oU=sl(function(o,s,p){return o+(p?"-":"")+s.toLowerCase()}),aU=sl(function(o,s,p){return o+(p?" ":"")+s.toLowerCase()}),sU=vA("toLowerCase");function lU(o,s,p){o=Rt(o),s=dt(s);var v=s?ri(o):0;if(!s||v>=s)return o;var x=(s-v)/2;return Np(mp(x),p)+o+Np(gp(x),p)}function uU(o,s,p){o=Rt(o),s=dt(s);var v=s?ri(o):0;return s&&v<s?o+Np(s-v,p):o}function cU(o,s,p){o=Rt(o),s=dt(s);var v=s?ri(o):0;return s&&v<s?Np(s-v,p)+o:o}function dU(o,s,p){return p||s==null?s=0:s&&(s=+s),vX(Rt(o).replace(Nu,""),s||0)}function pU(o,s,p){return(p?hr(o,s,p):s===t)?s=1:s=dt(s),Vm(Rt(o),s)}function hU(){var o=arguments,s=Rt(o[0]);return o.length<3?s:s.replace(o[1],o[2])}var fU=sl(function(o,s,p){return o+(p?"_":"")+s.toLowerCase()});function gU(o,s,p){return p&&typeof p!="number"&&hr(o,s,p)&&(s=p=t),p=p===t?Z:p>>>0,p?(o=Rt(o),o&&(typeof s=="string"||s!=null&&!pb(s))&&(s=Mr(s),!s&&Ze(o))?ca(Ei(o),0,p):o.split(s,p)):[]}var mU=sl(function(o,s,p){return o+(p?" ":"")+gb(s)});function bU(o,s,p){return o=Rt(o),p=p==null?0:rs(dt(p),0,o.length),s=Mr(s),o.slice(p,p+s.length)==s}function vU(o,s,p){var v=E.templateSettings;p&&hr(o,s,p)&&(s=t),o=Rt(o),s=Zp({},s,v,SA);var x=Zp({},s.imports,v.imports,SA),N=Fi(x),M=Cr(x,N),P,ie,ge=0,me=s.interpolate||ci,ye="__p += '",Fe=Xi((s.escape||ci).source+"|"+me.source+"|"+(me===Zs?Im:ci).source+"|"+(s.evaluate||ci).source+"|$","g"),Ve="//# sourceURL="+(_t.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++js+"]")+`
`;o.replace(Fe,function($e,bt,yt,Xr,fr,Zr){return yt||(yt=Xr),ye+=o.slice(ge,Zr).replace(Co,Ae),bt&&(P=!0,ye+=`' +
__e(`+bt+`) +
'`),fr&&(ie=!0,ye+=`';
`+fr+`;
__p += '`),yt&&(ye+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),ge=Zr+$e.length,$e}),ye+=`';
`;var qe=_t.call(s,"variable")&&s.variable;if(!qe)ye=`with (obj) {
`+ye+`
}
`;else if(ka.test(qe))throw new Je(a);ye=(ie?ye.replace($o,""):ye).replace(Xs,"$1").replace(xu,"$1;"),ye="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(P?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var ht=b1(function(){return mt(N,Ve+"return "+ye).apply(t,M)});if(ht.source=ye,db(ht))throw ht;return ht}function IU(o){return Rt(o).toLowerCase()}function yU(o){return Rt(o).toUpperCase()}function CU(o,s,p){if(o=Rt(o),o&&(p||s===t))return $a(o);if(!o||!(s=Mr(s)))return o;var v=Ei(o),x=Ei(s),N=I(v,x),M=W(v,x)+1;return ca(v,N,M).join("")}function AU(o,s,p){if(o=Rt(o),o&&(p||s===t))return o.slice(0,na(o)+1);if(!o||!(s=Mr(s)))return o;var v=Ei(o),x=W(v,Ei(s))+1;return ca(v,0,x).join("")}function wU(o,s,p){if(o=Rt(o),o&&(p||s===t))return o.replace(Nu,"");if(!o||!(s=Mr(s)))return o;var v=Ei(o),x=I(v,Ei(s));return ca(v,x).join("")}function xU(o,s){var p=D,v=z;if(ti(s)){var x="separator"in s?s.separator:x;p="length"in s?dt(s.length):p,v="omission"in s?Mr(s.omission):v}o=Rt(o);var N=o.length;if(Ze(o)){var M=Ei(o);N=M.length}if(p>=N)return o;var P=p-ri(v);if(P<1)return v;var ie=M?ca(M,0,P).join(""):o.slice(0,P);if(x===t)return ie+v;if(M&&(P+=ie.length-P),pb(x)){if(o.slice(P).search(x)){var ge,me=ie;for(x.global||(x=Xi(x.source,Rt(Wu.exec(x))+"g")),x.lastIndex=0;ge=x.exec(me);)var ye=ge.index;ie=ie.slice(0,ye===t?P:ye)}}else if(o.indexOf(Mr(x),P)!=P){var Fe=ie.lastIndexOf(x);Fe>-1&&(ie=ie.slice(0,Fe))}return ie+v}function SU(o){return o=Rt(o),o&&Ru.test(o)?o.replace(Gi,Ks):o}var RU=sl(function(o,s,p){return o+(p?" ":"")+s.toUpperCase()}),gb=vA("toUpperCase");function m1(o,s,p){return o=Rt(o),s=p?t:s,s===t?_e(o)?en(o):Vu(o):o.match(s)||[]}var b1=gt(function(o,s){try{return ur(o,t,s)}catch(p){return db(p)?p:new Je(p)}}),EU=Do(function(o,s){return yr(s,function(p){p=Jn(p),Oo(o,p,ub(o[p],o))}),o});function FU(o){var s=o==null?0:o.length,p=je();return o=s?Bt(o,function(v){if(typeof v[1]!="function")throw new Zi(n);return[p(v[0]),v[1]]}):[],gt(function(v){for(var x=-1;++x<s;){var N=o[x];if(ur(N[0],this,v))return ur(N[1],this,v)}})}function NU(o){return eZ(rn(o,d))}function mb(o){return function(){return o}}function _U(o,s){return o==null||o!==o?s:o}var WU=yA(),OU=yA(!0);function Sr(o){return o}function bb(o){return JC(typeof o=="function"?o:rn(o,d))}function TU(o){return $C(rn(o,d))}function DU(o,s){return KC(o,rn(s,d))}var LU=gt(function(o,s){return function(p){return $u(p,o,s)}}),GU=gt(function(o,s){return function(p){return $u(o,p,s)}});function vb(o,s,p){var v=Fi(s),x=Ap(s,v);p==null&&!(ti(s)&&(x.length||!v.length))&&(p=s,s=o,o=this,x=Ap(s,Fi(s)));var N=!(ti(p)&&"chain"in p)||!!p.chain,M=Go(o);return yr(x,function(P){var ie=s[P];o[P]=ie,M&&(o.prototype[P]=function(){var ge=this.__chain__;if(N||ge){var me=o(this.__wrapped__),ye=me.__actions__=Ar(this.__actions__);return ye.push({func:ie,args:arguments,thisArg:o}),me.__chain__=ge,me}return ie.apply(o,wn([this.value()],arguments))})}),o}function BU(){return bi._===this&&(bi._=uX),this}function Ib(){}function MU(o){return o=dt(o),gt(function(s){return eA(s,o)})}var kU=Jm(Bt),XU=Jm(za),ZU=Jm(Qa);function v1(o){return rb(o)?Ja(Jn(o)):bZ(o)}function PU(o){return function(s){return o==null?t:ns(o,s)}}var VU=AA(),UU=AA(!0);function yb(){return[]}function Cb(){return!1}function HU(){return{}}function zU(){return""}function YU(){return!0}function QU(o,s){if(o=dt(o),o<1||o>$)return[];var p=Z,v=ji(o,Z);s=je(s),o-=Z;for(var x=qa(v,s);++p<o;)s(p);return x}function jU(o){return ot(o)?Bt(o,Jn):kr(o)?[o]:Ar(MA(Rt(o)))}function JU(o){var s=++sX;return Rt(o)+s}var qU=Fp(function(o,s){return o+s},0),$U=qm("ceil"),KU=Fp(function(o,s){return o/s},1),eH=qm("floor");function tH(o){return o&&o.length?Cp(o,Sr,Gm):t}function iH(o,s){return o&&o.length?Cp(o,je(s,2),Gm):t}function rH(o){return Kr(o,Sr)}function nH(o,s){return Kr(o,je(s,2))}function oH(o){return o&&o.length?Cp(o,Sr,Xm):t}function aH(o,s){return o&&o.length?Cp(o,je(s,2),Xm):t}var sH=Fp(function(o,s){return o*s},1),lH=qm("round"),uH=Fp(function(o,s){return o-s},0);function cH(o){return o&&o.length?xn(o,Sr):0}function dH(o,s){return o&&o.length?xn(o,je(s,2)):0}return E.after=T5,E.ary=jA,E.assign=yV,E.assignIn=u1,E.assignInWith=Zp,E.assignWith=CV,E.at=AV,E.before=JA,E.bind=ub,E.bindAll=EU,E.bindKey=qA,E.castArray=H5,E.chain=zA,E.chunk=eP,E.compact=tP,E.concat=iP,E.cond=FU,E.conforms=NU,E.constant=mb,E.countBy=c5,E.create=wV,E.curry=$A,E.curryRight=KA,E.debounce=e1,E.defaults=xV,E.defaultsDeep=SV,E.defer=D5,E.delay=L5,E.difference=rP,E.differenceBy=nP,E.differenceWith=oP,E.drop=aP,E.dropRight=sP,E.dropRightWhile=lP,E.dropWhile=uP,E.fill=cP,E.filter=p5,E.flatMap=g5,E.flatMapDeep=m5,E.flatMapDepth=b5,E.flatten=PA,E.flattenDeep=dP,E.flattenDepth=pP,E.flip=G5,E.flow=WU,E.flowRight=OU,E.fromPairs=hP,E.functions=OV,E.functionsIn=TV,E.groupBy=v5,E.initial=gP,E.intersection=mP,E.intersectionBy=bP,E.intersectionWith=vP,E.invert=LV,E.invertBy=GV,E.invokeMap=y5,E.iteratee=bb,E.keyBy=C5,E.keys=Fi,E.keysIn=xr,E.map=Lp,E.mapKeys=MV,E.mapValues=kV,E.matches=TU,E.matchesProperty=DU,E.memoize=Bp,E.merge=XV,E.mergeWith=c1,E.method=LU,E.methodOf=GU,E.mixin=vb,E.negate=Mp,E.nthArg=MU,E.omit=ZV,E.omitBy=PV,E.once=B5,E.orderBy=A5,E.over=kU,E.overArgs=M5,E.overEvery=XU,E.overSome=ZU,E.partial=cb,E.partialRight=t1,E.partition=w5,E.pick=VV,E.pickBy=d1,E.property=v1,E.propertyOf=PU,E.pull=AP,E.pullAll=UA,E.pullAllBy=wP,E.pullAllWith=xP,E.pullAt=SP,E.range=VU,E.rangeRight=UU,E.rearg=k5,E.reject=R5,E.remove=RP,E.rest=X5,E.reverse=sb,E.sampleSize=F5,E.set=HV,E.setWith=zV,E.shuffle=N5,E.slice=EP,E.sortBy=O5,E.sortedUniq=DP,E.sortedUniqBy=LP,E.split=gU,E.spread=Z5,E.tail=GP,E.take=BP,E.takeRight=MP,E.takeRightWhile=kP,E.takeWhile=XP,E.tap=t5,E.throttle=P5,E.thru=Dp,E.toArray=a1,E.toPairs=p1,E.toPairsIn=h1,E.toPath=jU,E.toPlainObject=l1,E.transform=YV,E.unary=V5,E.union=ZP,E.unionBy=PP,E.unionWith=VP,E.uniq=UP,E.uniqBy=HP,E.uniqWith=zP,E.unset=QV,E.unzip=lb,E.unzipWith=HA,E.update=jV,E.updateWith=JV,E.values=cl,E.valuesIn=qV,E.without=YP,E.words=m1,E.wrap=U5,E.xor=QP,E.xorBy=jP,E.xorWith=JP,E.zip=qP,E.zipObject=$P,E.zipObjectDeep=KP,E.zipWith=e5,E.entries=p1,E.entriesIn=h1,E.extend=u1,E.extendWith=Zp,vb(E,E),E.add=qU,E.attempt=b1,E.camelCase=tU,E.capitalize=f1,E.ceil=$U,E.clamp=$V,E.clone=z5,E.cloneDeep=Q5,E.cloneDeepWith=j5,E.cloneWith=Y5,E.conformsTo=J5,E.deburr=g1,E.defaultTo=_U,E.divide=KU,E.endsWith=iU,E.eq=En,E.escape=rU,E.escapeRegExp=nU,E.every=d5,E.find=h5,E.findIndex=XA,E.findKey=RV,E.findLast=f5,E.findLastIndex=ZA,E.findLastKey=EV,E.floor=eH,E.forEach=YA,E.forEachRight=QA,E.forIn=FV,E.forInRight=NV,E.forOwn=_V,E.forOwnRight=WV,E.get=hb,E.gt=q5,E.gte=$5,E.has=DV,E.hasIn=fb,E.head=VA,E.identity=Sr,E.includes=I5,E.indexOf=fP,E.inRange=KV,E.invoke=BV,E.isArguments=ss,E.isArray=ot,E.isArrayBuffer=K5,E.isArrayLike=wr,E.isArrayLikeObject=pi,E.isBoolean=eV,E.isBuffer=da,E.isDate=tV,E.isElement=iV,E.isEmpty=rV,E.isEqual=nV,E.isEqualWith=oV,E.isError=db,E.isFinite=aV,E.isFunction=Go,E.isInteger=i1,E.isLength=kp,E.isMap=r1,E.isMatch=sV,E.isMatchWith=lV,E.isNaN=uV,E.isNative=cV,E.isNil=pV,E.isNull=dV,E.isNumber=n1,E.isObject=ti,E.isObjectLike=ni,E.isPlainObject=nc,E.isRegExp=pb,E.isSafeInteger=hV,E.isSet=o1,E.isString=Xp,E.isSymbol=kr,E.isTypedArray=ul,E.isUndefined=fV,E.isWeakMap=gV,E.isWeakSet=mV,E.join=IP,E.kebabCase=oU,E.last=on,E.lastIndexOf=yP,E.lowerCase=aU,E.lowerFirst=sU,E.lt=bV,E.lte=vV,E.max=tH,E.maxBy=iH,E.mean=rH,E.meanBy=nH,E.min=oH,E.minBy=aH,E.stubArray=yb,E.stubFalse=Cb,E.stubObject=HU,E.stubString=zU,E.stubTrue=YU,E.multiply=sH,E.nth=CP,E.noConflict=BU,E.noop=Ib,E.now=Gp,E.pad=lU,E.padEnd=uU,E.padStart=cU,E.parseInt=dU,E.random=eU,E.reduce=x5,E.reduceRight=S5,E.repeat=pU,E.replace=hU,E.result=UV,E.round=lH,E.runInContext=Y,E.sample=E5,E.size=_5,E.snakeCase=fU,E.some=W5,E.sortedIndex=FP,E.sortedIndexBy=NP,E.sortedIndexOf=_P,E.sortedLastIndex=WP,E.sortedLastIndexBy=OP,E.sortedLastIndexOf=TP,E.startCase=mU,E.startsWith=bU,E.subtract=uH,E.sum=cH,E.sumBy=dH,E.template=vU,E.times=QU,E.toFinite=Bo,E.toInteger=dt,E.toLength=s1,E.toLower=IU,E.toNumber=an,E.toSafeInteger=IV,E.toString=Rt,E.toUpper=yU,E.trim=CU,E.trimEnd=AU,E.trimStart=wU,E.truncate=xU,E.unescape=SU,E.uniqueId=JU,E.upperCase=RU,E.upperFirst=gb,E.each=YA,E.eachRight=QA,E.first=VA,vb(E,function(){var o={};return Qn(E,function(s,p){_t.call(E.prototype,p)||(o[p]=s)}),o}(),{chain:!1}),E.VERSION=e,yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){E[o].placeholder=E}),yr(["drop","take"],function(o,s){It.prototype[o]=function(p){p=p===t?1:Ai(dt(p),0);var v=this.__filtered__&&!s?new It(this):this.clone();return v.__filtered__?v.__takeCount__=ji(p,v.__takeCount__):v.__views__.push({size:ji(p,Z),type:o+(v.__dir__<0?"Right":"")}),v},It.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),yr(["filter","map","takeWhile"],function(o,s){var p=s+1,v=p==q||p==Q;It.prototype[o]=function(x){var N=this.clone();return N.__iteratees__.push({iteratee:je(x,3),type:p}),N.__filtered__=N.__filtered__||v,N}}),yr(["head","last"],function(o,s){var p="take"+(s?"Right":"");It.prototype[o]=function(){return this[p](1).value()[0]}}),yr(["initial","tail"],function(o,s){var p="drop"+(s?"":"Right");It.prototype[o]=function(){return this.__filtered__?new It(this):this[p](1)}}),It.prototype.compact=function(){return this.filter(Sr)},It.prototype.find=function(o){return this.filter(o).head()},It.prototype.findLast=function(o){return this.reverse().find(o)},It.prototype.invokeMap=gt(function(o,s){return typeof o=="function"?new It(this):this.map(function(p){return $u(p,o,s)})}),It.prototype.reject=function(o){return this.filter(Mp(je(o)))},It.prototype.slice=function(o,s){o=dt(o);var p=this;return p.__filtered__&&(o>0||s<0)?new It(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),s!==t&&(s=dt(s),p=s<0?p.dropRight(-s):p.take(s-o)),p)},It.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},It.prototype.toArray=function(){return this.take(Z)},Qn(It.prototype,function(o,s){var p=/^(?:filter|find|map|reject)|While$/.test(s),v=/^(?:head|last)$/.test(s),x=E[v?"take"+(s=="last"?"Right":""):s],N=v||/^find/.test(s);x&&(E.prototype[s]=function(){var M=this.__wrapped__,P=v?[1]:arguments,ie=M instanceof It,ge=P[0],me=ie||ot(M),ye=function(bt){var yt=x.apply(E,wn([bt],P));return v&&Fe?yt[0]:yt};me&&p&&typeof ge=="function"&&ge.length!=1&&(ie=me=!1);var Fe=this.__chain__,Ve=!!this.__actions__.length,qe=N&&!Fe,ht=ie&&!Ve;if(!N&&me){M=ht?M:new It(this);var $e=o.apply(M,P);return $e.__actions__.push({func:Dp,args:[ye],thisArg:t}),new tn($e,Fe)}return qe&&ht?o.apply(this,P):($e=this.thru(ye),qe?v?$e.value()[0]:$e.value():$e)})}),yr(["pop","push","shift","sort","splice","unshift"],function(o){var s=Sn[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",v=/^(?:pop|shift)$/.test(o);E.prototype[o]=function(){var x=arguments;if(v&&!this.__chain__){var N=this.value();return s.apply(ot(N)?N:[],x)}return this[p](function(M){return s.apply(ot(M)?M:[],x)})}}),Qn(It.prototype,function(o,s){var p=E[s];if(p){var v=p.name+"";_t.call(nl,v)||(nl[v]=[]),nl[v].push({name:s,func:p})}}),nl[Ep(t,A).name]=[{name:"wrapper",func:t}],It.prototype.clone=SX,It.prototype.reverse=RX,It.prototype.value=EX,E.prototype.at=i5,E.prototype.chain=r5,E.prototype.commit=n5,E.prototype.next=o5,E.prototype.plant=s5,E.prototype.reverse=l5,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=u5,E.prototype.first=E.prototype.head,Hu&&(E.prototype[Hu]=a5),E},Qi=oa();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(bi._=Qi,define(function(){return Qi})):lr?((lr.exports=Qi)._=Qi,Xu._=Qi):bi._=Qi}).call(bl)});var H={};jt(H,{closest:()=>fS,collapseOptions:()=>Tt,constrain:()=>qz,contentIsIndexable:()=>Zz,convertTransformIntoMatrixStyleString:()=>Uz,decompose:()=>Ah,deviceType:()=>Il,easeInOutCubic:()=>Hz,easeInOutSine:()=>Yz,easeOutCubic:()=>zz,filterZoomLinks:()=>Kz,getCSSValueAndUnit:()=>bv,getHeight:()=>Jz,getWidth:()=>jz,isAdminEdit:()=>Ez,isChrome:()=>Lz,isDevEnv:()=>Sz,isEdge:()=>Gz,isFirefox:()=>Tz,isIE:()=>hS,isIE8:()=>Bz,isIOS:()=>Mz,isIOSWebView:()=>kz,isLocalEnv:()=>uS,isMac:()=>Oz,isMobile:()=>_z,isMobileWindowSize:()=>Pz,isProduction:()=>mv,isPromoCodeTransitionPeriod:()=>$z,isSafari:()=>Dz,isServer:()=>vl,isServerRendered:()=>Rz,isSitePreview:()=>Fz,mergeRefs:()=>Qz,parseMatrixStyleString:()=>Vz,sitePreviewHostname:()=>Nz,stringReplaceMultiple:()=>Xz,viewportOrientation:()=>Wz});var lS,uS,Sz,mv,vl,Rz,cS,Ez,dS,pS,Fz,Nz,_z,Wz,Il,Oz,Tz,Dz,Lz,hS,Gz,Bz,Mz,kz,Xz,Zz,Pz,Vz,Uz,Ah,bv,Hz,zz,Yz,Tt,Qz,jz,Jz,fS,qz,$z,Kz,oi=R(()=>{lS=de(Ie()),uS=/^local.*/.test("production"),Sz=/^local.*/.test("production"),mv=!0,vl=!(typeof window<"u"&&window.document&&window.document.createElement),Rz=!vl&&window.hasOwnProperty("__PRELOADED_STATE__"),cS=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(cS=!0)}catch{(!vl||!uS)&&console.log("Unable to determine if in admin.")}Ez=cS,dS=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let t=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);t?.groups?.hostname&&(pS=t.groups?.hostname,dS=!0)}}catch{console.log("Unable to determine if in site preview")}Fz=dS,Nz=pS,_z=function(){if(vl)return!1;var t=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(e),t=t||!t&&/(android)/i.test(e.substr(0,40)),t}(),Wz=()=>{let t=window.matchMedia("(max-aspect-ratio: 1:1)");return vl?!1:t?"portrait":"landscape"},Il=()=>{if(vl)return"mouse";let t=window.matchMedia("(hover:hover)"),e=window.matchMedia("(hover:none)"),i=window.matchMedia("(any-pointer:fine)"),r=window.matchMedia("(pointer:coarse)"),n=window.matchMedia("(pointer:none)");if(e.matches&&r.matches)return"touch";if(t.matches&&i.matches)return"mouse"},Oz=()=>navigator?.userAgent?.includes("Mac"),Tz=()=>/Firefox\/\d+\.\d+/.test(navigator.userAgent),Dz=()=>navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,Lz=()=>window.chrome!==null&&navigator.userAgent.indexOf("Chrome")!=-1&&navigator.vendor==="Google Inc."&&typeof window.opr>"u"&&navigator.userAgent.indexOf("Edg")==-1,hS=()=>/MSIE (\d+\.\d+);/.test(navigator.userAgent),Gz=()=>/Edge/.test(navigator.userAgent),Bz=()=>{var t=-1;if(hS()){var e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");e.exec(navigator.userAgent)!=null&&(t=parseFloat(RegExp.$1))}return t<9&&t>0},Mz=()=>!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),kz=()=>{var t=window.navigator.standalone,e=window.navigator.userAgent.toLowerCase(),i=/safari/.test(e),r=/iphone|ipod|ipad/.test(e);if(r){if(!t&&i)return!1;if(t&&!i)return!1;if(!t&&!i)return!0}return!1},Xz=(t,e)=>{for(var i in e)t=t.replace(new RegExp(i,"g"),e[i]);return t},Zz=t=>t?t.page_type==="set"?!0:!(t.display===!1||t.pin):!1,Pz=t=>t<770,Vz=t=>{let e=t.indexOf("matrix(")>-1,i=t.indexOf("matrix3d(")>-1,r,n;return e?(r=t.replace("matrix(","").replace(")").split(", ").map(a=>parseFloat(a)),n=Ah(r[0],r[1],r[2],r[3],r[4],r[5],!1)):i?(r=t.replace("matrix3d(","").replace(")").split(", ").map(a=>parseFloat(a)),n=Ah(r[0],r[1],r[4],r[5],r[12],r[13],!1),n.translate.z=r[14]):n=Ah(0,0,0,0,0,0,!1),n},Uz=t=>{let e=t.hasOwnProperty("translate"),i=t.hasOwnProperty("scale"),r=i&&t.scale.x||1,n=i&&t.scale.y||1,a=e&&t.translate.x||0,l=e&&t.translate.y||0,u=e&&t.translate.z||0,c=t.rotation||0,d=e&&t.translate.hasOwnProperty("z"),f;if(d){let m=[Math.cos(c)/r,-Math.sin(c),0,a,Math.sin(c),Math.cos(c)/n,0,l,0,0,1,u,0,0,0,1];f=`matrix3d(${m[0]}, ${m[4]}, ${m[8]}, ${m[12]}, ${m[1]}, ${m[5]}, ${m[9]}, ${m[13]}, ${m[2]}, ${m[6]}, ${m[10]}, ${m[14]}, ${m[3]}, ${m[7]}, ${m[11]}, ${m[15]})`}else{let m=[Math.cos(c)/r,-Math.sin(c),a,Math.sin(c),Math.cos(c)/n,l,0,0,1];f=`matrix(${m[0]}, ${m[3]}, ${m[1]}, ${m[4]}, ${m[2]}, ${m[5]})`}return f},Ah=(t=0,e=0,i=0,r=0,n=0,a=0,l=!1)=>{var u=Math.acos,c=Math.atan,d=Math.sqrt,f=Math.PI,m={x:n,y:a},b=0,C={x:1,y:1},S={x:0,y:0},A=t*r-e*i;if(l)t?(S={x:c(i/t),y:c(e/t)},C={x:t,y:A/t}):e?(b=f*.5,C={x:e,y:A/e},S.x=c(r/e)):(C={x:i,y:r},S.x=f*.25);else if(t||e){var F=d(t*t+e*e);b=e>0?u(t/F):-u(t/F),C={x:F,y:A/F},S.x=c((t*i+e*r)/(F*F))}else if(i||r){var _=d(i*i+r*r);b=f*.5-(r>0?u(-i/_):-u(i/_)),C={x:A/_,y:_},S.y=c((t*i+e*r)/(_*_))}else C={x:0,y:0};return{scale:C,translate:m,rotation:b,skew:S}},bv=(t,e)=>{t=t?.toString()||"",t=t.replace(/^\.(\d+)/,"0.$1");let i=parseFloat(t.replace(/[^\d.-]/g,"")),r=t.replace(i+"","").trim();return r===""&&e!==void 0?r=e:(r.indexOf("var(")>-1||r.indexOf("calc(")>-1)&&(i="",r=t),[i,r]},Hz=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,zz=t=>1-Math.pow(-1*t+1,3),Yz=t=>t>=1?1:-(Math.cos(Math.PI*t)-1)/2,Tt=t=>{let e={},i=r=>{r.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(a=>{e[a.name]=a.value}):n.type=="checkbox-color"&&i([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(l=>l.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let a;n.defaultUnit!==void 0&&(a=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[a]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[a]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[a]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&i([n.toggle]),n.children&&i(n.children)})};return i(t),e},Qz=(...t)=>{let e=t.filter(Boolean);return e.length?e.length===0?e[0]:i=>{for(let r of e)typeof r=="function"?r(i):r&&(r.current=i)}:null},jz=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.width)-((parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0)):parseFloat(e.width)},Jz=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.height)-((parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)):parseFloat(e.height)},fS=(t,e)=>{var i=t&&(e(t)?t:fS(t.parentNode,e));return i||null},qz=(t,e,i)=>t>i?i:t<e?e:t,$z=t=>{let e=new Date,r=new Date(t).getTime()-e.getTime(),n=Math.floor(r/(1e3*60*60*24));return n>0&&n<=15},Kz=t=>(t=lS.default.filter(t,e=>{var i=e.getAttribute("href");return!(i&&(i===""||i=="#"||i.indexOf("mailto:")==0||i.indexOf("tel:")==0))}),t)});var e9,gS,mS=R(()=>{Ee();oi();e9=de(Ie());j();gS=Ge.createContext({children:null,innerUI:null,event:null,type:null,offset:null,onOpen:()=>null,onConfirm:()=>null,onClose:t=>null})});var bS=R(()=>{Ee();oi();j()});var vS=R(()=>{aS();sS();mS();bS()});var IS=R(()=>{});var yS=R(()=>{IS()});var CS=R(()=>{});var t9,AS,wS=R(()=>{Ee();Ee();t9=de(Ie());CS();j();AS=Ge.createContext({innerText:null,shortcutText:null,icon:null,onOpen:()=>null,onClose:()=>null})});var xS=R(()=>{wS()});var SS=R(()=>{});var RS=R(()=>{});var ES=R(()=>{});var FS=R(()=>{});var NS=R(()=>{});var _S=R(()=>{SS();RS();ES();FS();NS()});var WS=R(()=>{});var OS=R(()=>{});var vv=R(()=>{WS();OS()});function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}var Iv=R(()=>{});function yv(t,e){if(Ia(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ia(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TS=R(()=>{Iv()});function Cv(t){var e=yv(t,"string");return Ia(e)==="symbol"?e:String(e)}var DS=R(()=>{Iv();TS()});function Av(t,e,i){return e=Cv(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var LS=R(()=>{DS()});function GS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function wh(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(i),!0).forEach(function(r){Av(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):GS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var BS=R(()=>{LS()});var XS={};jt(XS,{__DO_NOT_USE__ActionTypes:()=>Dc,applyMiddleware:()=>xv,bindActionCreators:()=>wt,combineReducers:()=>Wn,compose:()=>xh,createStore:()=>Lc,legacy_createStore:()=>r9});function Vi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}function i9(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Lc(t,e,i){var r;if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Vi(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Vi(1));return i(Lc)(t,e)}if(typeof t!="function")throw new Error(Vi(2));var n=t,a=e,l=[],u=l,c=!1;function d(){u===l&&(u=l.slice())}function f(){if(c)throw new Error(Vi(3));return a}function m(A){if(typeof A!="function")throw new Error(Vi(4));if(c)throw new Error(Vi(5));var F=!0;return d(),u.push(A),function(){if(F){if(c)throw new Error(Vi(6));F=!1,d();var X=u.indexOf(A);u.splice(X,1),l=null}}}function b(A){if(!i9(A))throw new Error(Vi(7));if(typeof A.type>"u")throw new Error(Vi(8));if(c)throw new Error(Vi(9));try{c=!0,a=n(a,A)}finally{c=!1}for(var F=l=u,_=0;_<F.length;_++){var X=F[_];X()}return A}function C(A){if(typeof A!="function")throw new Error(Vi(10));n=A,b({type:Dc.REPLACE})}function S(){var A,F=m;return A={subscribe:function(X){if(typeof X!="object"||X===null)throw new Error(Vi(11));function k(){X.next&&X.next(f())}k();var B=F(k);return{unsubscribe:B}}},A[MS]=function(){return this},A}return b({type:Dc.INIT}),r={dispatch:b,subscribe:m,getState:f,replaceReducer:C},r[MS]=S,r}function n9(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:Dc.INIT});if(typeof r>"u")throw new Error(Vi(12));if(typeof i(void 0,{type:Dc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vi(13))})}function Wn(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var n=e[r];typeof t[n]=="function"&&(i[n]=t[n])}var a=Object.keys(i),l,u;try{n9(i)}catch(c){u=c}return function(d,f){if(d===void 0&&(d={}),u)throw u;if(!1)var m;for(var b=!1,C={},S=0;S<a.length;S++){var A=a[S],F=i[A],_=d[A],X=F(_,f);if(typeof X>"u"){var k=f&&f.type;throw new Error(Vi(14))}C[A]=X,b=b||X!==_}return b=b||a.length!==Object.keys(d).length,b?C:d}}function kS(t,e){return function(){return e(t.apply(this,arguments))}}function wt(t,e){if(typeof t=="function")return kS(t,e);if(typeof t!="object"||t===null)throw new Error(Vi(16));var i={};for(var r in t){var n=t[r];typeof n=="function"&&(i[r]=kS(n,e))}return i}function xh(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function xv(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return function(){var n=r.apply(void 0,arguments),a=function(){throw new Error(Vi(15))},l={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},u=e.map(function(c){return c(l)});return a=xh.apply(void 0,u)(n.dispatch),wh(wh({},n),{},{dispatch:a})}}}var MS,wv,Dc,r9,ai=R(()=>{BS();MS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Dc={INIT:"@@redux/INIT"+wv(),REPLACE:"@@redux/REPLACE"+wv(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wv()}};r9=Lc});var US=U((ide,VS)=>{"use strict";var ZS=Array.isArray,PS=Object.keys,o9=Object.prototype.hasOwnProperty,a9=typeof Element<"u";function Sv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=ZS(t),r=ZS(e),n,a,l;if(i&&r){if(a=t.length,a!=e.length)return!1;for(n=a;n--!==0;)if(!Sv(t[n],e[n]))return!1;return!0}if(i!=r)return!1;var u=t instanceof Date,c=e instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,f=e instanceof RegExp;if(d!=f)return!1;if(d&&f)return t.toString()==e.toString();var m=PS(t);if(a=m.length,a!==PS(e).length)return!1;for(n=a;n--!==0;)if(!o9.call(e,m[n]))return!1;if(a9&&t instanceof Element&&e instanceof Element)return t===e;for(n=a;n--!==0;)if(l=m[n],!(l==="_owner"&&t.$$typeof)&&!Sv(t[l],e[l]))return!1;return!0}return t!==t&&e!==e}VS.exports=function(e,i){try{return Sv(e,i)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}});function l9(t){return!!t&&typeof t=="object"}function u9(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||p9(t)}function p9(t){return t.$$typeof===d9}function h9(t){return Array.isArray(t)?[]:{}}function Sh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Rh(h9(t),t,e):t}function f9(t,e,i){return t.concat(e).map(function(r){return Sh(r,i)})}function g9(t,e,i){var r={};return i.isMergeableObject(t)&&Object.keys(t).forEach(function(n){r[n]=Sh(t[n],i)}),Object.keys(e).forEach(function(n){!i.isMergeableObject(e[n])||!t[n]?r[n]=Sh(e[n],i):r[n]=Rh(t[n],e[n],i)}),r}function Rh(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||f9,i.isMergeableObject=i.isMergeableObject||s9;var r=Array.isArray(e),n=Array.isArray(t),a=r===n;return a?r?i.arrayMerge(t,e,i):g9(t,e,i):Sh(e,i)}var s9,c9,d9,HS=R(()=>{s9=function(e){return l9(e)&&!u9(e)};c9=typeof Symbol=="function"&&Symbol.for,d9=c9?Symbol.for("react.element"):60103;Rh.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,n){return Rh(r,n,i)},{})}});var m9,Eh,Rv=R(()=>{m9=typeof global=="object"&&global&&global.Object===Object&&global,Eh=m9});var b9,v9,yi,On=R(()=>{Rv();b9=typeof self=="object"&&self&&self.Object===Object&&self,v9=Eh||b9||Function("return this")(),yi=v9});var I9,hn,Gc=R(()=>{On();I9=yi.Symbol,hn=I9});function A9(t){var e=y9.call(t,Bc),i=t[Bc];try{t[Bc]=void 0;var r=!0}catch{}var n=C9.call(t);return r&&(e?t[Bc]=i:delete t[Bc]),n}var zS,y9,C9,Bc,YS,QS=R(()=>{Gc();zS=Object.prototype,y9=zS.hasOwnProperty,C9=zS.toString,Bc=hn?hn.toStringTag:void 0;YS=A9});function S9(t){return x9.call(t)}var w9,x9,jS,JS=R(()=>{w9=Object.prototype,x9=w9.toString;jS=S9});function F9(t){return t==null?t===void 0?E9:R9:qS&&qS in Object(t)?YS(t):jS(t)}var R9,E9,qS,Tn,yl=R(()=>{Gc();QS();JS();R9="[object Null]",E9="[object Undefined]",qS=hn?hn.toStringTag:void 0;Tn=F9});function N9(t,e){return function(i){return t(e(i))}}var Fh,Ev=R(()=>{Fh=N9});var _9,Nh,Fv=R(()=>{Ev();_9=Fh(Object.getPrototypeOf,Object),Nh=_9});function W9(t){return t!=null&&typeof t=="object"}var fn,gs=R(()=>{fn=W9});function O9(){this.__data__=[],this.size=0}var $S,KS=R(()=>{$S=O9});function T9(t,e){return t===e||t!==t&&e!==e}var _h,Nv=R(()=>{_h=T9});function D9(t,e){for(var i=t.length;i--;)if(_h(t[i][0],e))return i;return-1}var ya,Mc=R(()=>{Nv();ya=D9});function B9(t){var e=this.__data__,i=ya(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():G9.call(e,i,1),--this.size,!0}var L9,G9,eR,tR=R(()=>{Mc();L9=Array.prototype,G9=L9.splice;eR=B9});function M9(t){var e=this.__data__,i=ya(e,t);return i<0?void 0:e[i][1]}var iR,rR=R(()=>{Mc();iR=M9});function k9(t){return ya(this.__data__,t)>-1}var nR,oR=R(()=>{Mc();nR=k9});function X9(t,e){var i=this.__data__,r=ya(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var aR,sR=R(()=>{Mc();aR=X9});function Cl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ca,kc=R(()=>{KS();tR();rR();oR();sR();Cl.prototype.clear=$S;Cl.prototype.delete=eR;Cl.prototype.get=iR;Cl.prototype.has=nR;Cl.prototype.set=aR;Ca=Cl});function Z9(){this.__data__=new Ca,this.size=0}var lR,uR=R(()=>{kc();lR=Z9});function P9(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var cR,dR=R(()=>{cR=P9});function V9(t){return this.__data__.get(t)}var pR,hR=R(()=>{pR=V9});function U9(t){return this.__data__.has(t)}var fR,gR=R(()=>{fR=U9});function H9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $n,Al=R(()=>{$n=H9});function J9(t){if(!$n(t))return!1;var e=Tn(t);return e==Y9||e==Q9||e==z9||e==j9}var z9,Y9,Q9,j9,Wh,_v=R(()=>{yl();Al();z9="[object AsyncFunction]",Y9="[object Function]",Q9="[object GeneratorFunction]",j9="[object Proxy]";Wh=J9});var q9,Oh,mR=R(()=>{On();q9=yi["__core-js_shared__"],Oh=q9});function $9(t){return!!bR&&bR in t}var bR,vR,IR=R(()=>{mR();bR=function(){var t=/[^.]+$/.exec(Oh&&Oh.keys&&Oh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();vR=$9});function t4(t){if(t!=null){try{return e4.call(t)}catch{}try{return t+""}catch{}}return""}var K9,e4,Zo,Wv=R(()=>{K9=Function.prototype,e4=K9.toString;Zo=t4});function u4(t){if(!$n(t)||vR(t))return!1;var e=Wh(t)?l4:r4;return e.test(Zo(t))}var i4,r4,n4,o4,a4,s4,l4,yR,CR=R(()=>{_v();IR();Al();Wv();i4=/[\\^$.*+?()[\]{}|]/g,r4=/^\[object .+?Constructor\]$/,n4=Function.prototype,o4=Object.prototype,a4=n4.toString,s4=o4.hasOwnProperty,l4=RegExp("^"+a4.call(s4).replace(i4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");yR=u4});function c4(t,e){return t?.[e]}var AR,wR=R(()=>{AR=c4});function d4(t,e){var i=AR(t,e);return yR(i)?i:void 0}var Fr,Aa=R(()=>{CR();wR();Fr=d4});var p4,wa,Th=R(()=>{Aa();On();p4=Fr(yi,"Map"),wa=p4});var h4,Po,Xc=R(()=>{Aa();h4=Fr(Object,"create"),Po=h4});function f4(){this.__data__=Po?Po(null):{},this.size=0}var xR,SR=R(()=>{Xc();xR=f4});function g4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RR,ER=R(()=>{RR=g4});function I4(t){var e=this.__data__;if(Po){var i=e[t];return i===m4?void 0:i}return v4.call(e,t)?e[t]:void 0}var m4,b4,v4,FR,NR=R(()=>{Xc();m4="__lodash_hash_undefined__",b4=Object.prototype,v4=b4.hasOwnProperty;FR=I4});function A4(t){var e=this.__data__;return Po?e[t]!==void 0:C4.call(e,t)}var y4,C4,_R,WR=R(()=>{Xc();y4=Object.prototype,C4=y4.hasOwnProperty;_R=A4});function x4(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Po&&e===void 0?w4:e,this}var w4,OR,TR=R(()=>{Xc();w4="__lodash_hash_undefined__";OR=x4});function wl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ov,DR=R(()=>{SR();ER();NR();WR();TR();wl.prototype.clear=xR;wl.prototype.delete=RR;wl.prototype.get=FR;wl.prototype.has=_R;wl.prototype.set=OR;Ov=wl});function S4(){this.size=0,this.__data__={hash:new Ov,map:new(wa||Ca),string:new Ov}}var LR,GR=R(()=>{DR();kc();Th();LR=S4});function R4(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var BR,MR=R(()=>{BR=R4});function E4(t,e){var i=t.__data__;return BR(e)?i[typeof e=="string"?"string":"hash"]:i.map}var xa,Zc=R(()=>{MR();xa=E4});function F4(t){var e=xa(this,t).delete(t);return this.size-=e?1:0,e}var kR,XR=R(()=>{Zc();kR=F4});function N4(t){return xa(this,t).get(t)}var ZR,PR=R(()=>{Zc();ZR=N4});function _4(t){return xa(this,t).has(t)}var VR,UR=R(()=>{Zc();VR=_4});function W4(t,e){var i=xa(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var HR,zR=R(()=>{Zc();HR=W4});function xl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Pc,Tv=R(()=>{GR();XR();PR();UR();zR();xl.prototype.clear=LR;xl.prototype.delete=kR;xl.prototype.get=ZR;xl.prototype.has=VR;xl.prototype.set=HR;Pc=xl});function T4(t,e){var i=this.__data__;if(i instanceof Ca){var r=i.__data__;if(!wa||r.length<O4-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new Pc(r)}return i.set(t,e),this.size=i.size,this}var O4,YR,QR=R(()=>{kc();Th();Tv();O4=200;YR=T4});function Sl(t){var e=this.__data__=new Ca(t);this.size=e.size}var jR,JR=R(()=>{kc();uR();dR();hR();gR();QR();Sl.prototype.clear=lR;Sl.prototype.delete=cR;Sl.prototype.get=pR;Sl.prototype.has=fR;Sl.prototype.set=YR;jR=Sl});function D4(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var qR,$R=R(()=>{qR=D4});var L4,Dv,KR=R(()=>{Aa();L4=function(){try{var t=Fr(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Dv=L4});function G4(t,e,i){e=="__proto__"&&Dv?Dv(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Dh,Lv=R(()=>{KR();Dh=G4});function k4(t,e,i){var r=t[e];(!(M4.call(t,e)&&_h(r,i))||i===void 0&&!(e in t))&&Dh(t,e,i)}var B4,M4,Lh,Gv=R(()=>{Lv();Nv();B4=Object.prototype,M4=B4.hasOwnProperty;Lh=k4});function X4(t,e,i,r){var n=!i;i||(i={});for(var a=-1,l=e.length;++a<l;){var u=e[a],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?Dh(i,u,c):Lh(i,u,c)}return i}var Sa,Vc=R(()=>{Gv();Lv();Sa=X4});function Z4(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var eE,tE=R(()=>{eE=Z4});function V4(t){return fn(t)&&Tn(t)==P4}var P4,Bv,iE=R(()=>{yl();gs();P4="[object Arguments]";Bv=V4});var rE,U4,H4,z4,nE,oE=R(()=>{iE();gs();rE=Object.prototype,U4=rE.hasOwnProperty,H4=rE.propertyIsEnumerable,z4=Bv(function(){return arguments}())?Bv:function(t){return fn(t)&&U4.call(t,"callee")&&!H4.call(t,"callee")},nE=z4});var Y4,Kn,Rl=R(()=>{Y4=Array.isArray,Kn=Y4});function Q4(){return!1}var aE,sE=R(()=>{aE=Q4});var cE,lE,j4,uE,J4,q4,Gh,Mv=R(()=>{On();sE();cE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lE=cE&&typeof module=="object"&&module&&!module.nodeType&&module,j4=lE&&lE.exports===cE,uE=j4?yi.Buffer:void 0,J4=uE?uE.isBuffer:void 0,q4=J4||aE,Gh=q4});function eY(t,e){var i=typeof t;return e=e??$4,!!e&&(i=="number"||i!="symbol"&&K4.test(t))&&t>-1&&t%1==0&&t<e}var $4,K4,dE,pE=R(()=>{$4=9007199254740991,K4=/^(?:0|[1-9]\d*)$/;dE=eY});function iY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tY}var tY,Bh,kv=R(()=>{tY=9007199254740991;Bh=iY});function EY(t){return fn(t)&&Bh(t.length)&&!!Ht[Tn(t)]}var rY,nY,oY,aY,sY,lY,uY,cY,dY,pY,hY,fY,gY,mY,bY,vY,IY,yY,CY,AY,wY,xY,SY,RY,Ht,hE,fE=R(()=>{yl();kv();gs();rY="[object Arguments]",nY="[object Array]",oY="[object Boolean]",aY="[object Date]",sY="[object Error]",lY="[object Function]",uY="[object Map]",cY="[object Number]",dY="[object Object]",pY="[object RegExp]",hY="[object Set]",fY="[object String]",gY="[object WeakMap]",mY="[object ArrayBuffer]",bY="[object DataView]",vY="[object Float32Array]",IY="[object Float64Array]",yY="[object Int8Array]",CY="[object Int16Array]",AY="[object Int32Array]",wY="[object Uint8Array]",xY="[object Uint8ClampedArray]",SY="[object Uint16Array]",RY="[object Uint32Array]",Ht={};Ht[vY]=Ht[IY]=Ht[yY]=Ht[CY]=Ht[AY]=Ht[wY]=Ht[xY]=Ht[SY]=Ht[RY]=!0;Ht[rY]=Ht[nY]=Ht[mY]=Ht[oY]=Ht[bY]=Ht[aY]=Ht[sY]=Ht[lY]=Ht[uY]=Ht[cY]=Ht[dY]=Ht[pY]=Ht[hY]=Ht[fY]=Ht[gY]=!1;hE=EY});function FY(t){return function(e){return t(e)}}var El,Mh=R(()=>{El=FY});var gE,Uc,NY,Xv,_Y,Vo,kh=R(()=>{Rv();gE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Uc=gE&&typeof module=="object"&&module&&!module.nodeType&&module,NY=Uc&&Uc.exports===gE,Xv=NY&&Eh.process,_Y=function(){try{var t=Uc&&Uc.require&&Uc.require("util").types;return t||Xv&&Xv.binding&&Xv.binding("util")}catch{}}(),Vo=_Y});var mE,WY,bE,vE=R(()=>{fE();Mh();kh();mE=Vo&&Vo.isTypedArray,WY=mE?El(mE):hE,bE=WY});function DY(t,e){var i=Kn(t),r=!i&&nE(t),n=!i&&!r&&Gh(t),a=!i&&!r&&!n&&bE(t),l=i||r||n||a,u=l?eE(t.length,String):[],c=u.length;for(var d in t)(e||TY.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||dE(d,c)))&&u.push(d);return u}var OY,TY,Xh,Zv=R(()=>{tE();oE();Rl();Mv();pE();vE();OY=Object.prototype,TY=OY.hasOwnProperty;Xh=DY});function GY(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||LY;return t===i}var LY,Fl,Zh=R(()=>{LY=Object.prototype;Fl=GY});var BY,IE,yE=R(()=>{Ev();BY=Fh(Object.keys,Object),IE=BY});function XY(t){if(!Fl(t))return IE(t);var e=[];for(var i in Object(t))kY.call(t,i)&&i!="constructor"&&e.push(i);return e}var MY,kY,CE,AE=R(()=>{Zh();yE();MY=Object.prototype,kY=MY.hasOwnProperty;CE=XY});function ZY(t){return t!=null&&Bh(t.length)&&!Wh(t)}var Ph,Pv=R(()=>{_v();kv();Ph=ZY});function PY(t){return Ph(t)?Xh(t):CE(t)}var Nl,Vh=R(()=>{Zv();AE();Pv();Nl=PY});function VY(t,e){return t&&Sa(e,Nl(e),t)}var wE,xE=R(()=>{Vc();Vh();wE=VY});function UY(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var SE,RE=R(()=>{SE=UY});function YY(t){if(!$n(t))return SE(t);var e=Fl(t),i=[];for(var r in t)r=="constructor"&&(e||!zY.call(t,r))||i.push(r);return i}var HY,zY,EE,FE=R(()=>{Al();Zh();RE();HY=Object.prototype,zY=HY.hasOwnProperty;EE=YY});function QY(t){return Ph(t)?Xh(t,!0):EE(t)}var _l,Uh=R(()=>{Zv();FE();Pv();_l=QY});function jY(t,e){return t&&Sa(e,_l(e),t)}var NE,_E=R(()=>{Vc();Uh();NE=jY});function qY(t,e){if(e)return t.slice();var i=t.length,r=TE?TE(i):new t.constructor(i);return t.copy(r),r}var DE,WE,JY,OE,TE,LE,GE=R(()=>{On();DE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WE=DE&&typeof module=="object"&&module&&!module.nodeType&&module,JY=WE&&WE.exports===DE,OE=JY?yi.Buffer:void 0,TE=OE?OE.allocUnsafe:void 0;LE=qY});function $Y(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var Hh,Vv=R(()=>{Hh=$Y});function KY(t,e){for(var i=-1,r=t==null?0:t.length,n=0,a=[];++i<r;){var l=t[i];e(l,i,t)&&(a[n++]=l)}return a}var BE,ME=R(()=>{BE=KY});function e7(){return[]}var zh,Uv=R(()=>{zh=e7});var t7,i7,kE,r7,Wl,Yh=R(()=>{ME();Uv();t7=Object.prototype,i7=t7.propertyIsEnumerable,kE=Object.getOwnPropertySymbols,r7=kE?function(t){return t==null?[]:(t=Object(t),BE(kE(t),function(e){return i7.call(t,e)}))}:zh,Wl=r7});function n7(t,e){return Sa(t,Wl(t),e)}var XE,ZE=R(()=>{Vc();Yh();XE=n7});function o7(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var Qh,Hv=R(()=>{Qh=o7});var a7,s7,jh,zv=R(()=>{Hv();Fv();Yh();Uv();a7=Object.getOwnPropertySymbols,s7=a7?function(t){for(var e=[];t;)Qh(e,Wl(t)),t=Nh(t);return e}:zh,jh=s7});function l7(t,e){return Sa(t,jh(t),e)}var PE,VE=R(()=>{Vc();zv();PE=l7});function u7(t,e,i){var r=e(t);return Kn(t)?r:Qh(r,i(t))}var Jh,Yv=R(()=>{Hv();Rl();Jh=u7});function c7(t){return Jh(t,Nl,Wl)}var UE,HE=R(()=>{Yv();Yh();Vh();UE=c7});function d7(t){return Jh(t,_l,jh)}var zE,YE=R(()=>{Yv();zv();Uh();zE=d7});var p7,qh,QE=R(()=>{Aa();On();p7=Fr(yi,"DataView"),qh=p7});var h7,$h,jE=R(()=>{Aa();On();h7=Fr(yi,"Promise"),$h=h7});var f7,Kh,JE=R(()=>{Aa();On();f7=Fr(yi,"Set"),Kh=f7});var g7,ef,qE=R(()=>{Aa();On();g7=Fr(yi,"WeakMap"),ef=g7});var $E,m7,KE,eF,tF,iF,b7,v7,I7,y7,C7,ms,Ol,tf=R(()=>{QE();Th();jE();JE();qE();yl();Wv();$E="[object Map]",m7="[object Object]",KE="[object Promise]",eF="[object Set]",tF="[object WeakMap]",iF="[object DataView]",b7=Zo(qh),v7=Zo(wa),I7=Zo($h),y7=Zo(Kh),C7=Zo(ef),ms=Tn;(qh&&ms(new qh(new ArrayBuffer(1)))!=iF||wa&&ms(new wa)!=$E||$h&&ms($h.resolve())!=KE||Kh&&ms(new Kh)!=eF||ef&&ms(new ef)!=tF)&&(ms=function(t){var e=Tn(t),i=e==m7?t.constructor:void 0,r=i?Zo(i):"";if(r)switch(r){case b7:return iF;case v7:return $E;case I7:return KE;case y7:return eF;case C7:return tF}return e});Ol=ms});function x7(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&w7.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var A7,w7,rF,nF=R(()=>{A7=Object.prototype,w7=A7.hasOwnProperty;rF=x7});var S7,Qv,oF=R(()=>{On();S7=yi.Uint8Array,Qv=S7});function R7(t){var e=new t.constructor(t.byteLength);return new Qv(e).set(new Qv(t)),e}var Tl,rf=R(()=>{oF();Tl=R7});function E7(t,e){var i=e?Tl(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var aF,sF=R(()=>{rf();aF=E7});function N7(t){var e=new t.constructor(t.source,F7.exec(t));return e.lastIndex=t.lastIndex,e}var F7,lF,uF=R(()=>{F7=/\w*$/;lF=N7});function _7(t){return dF?Object(dF.call(t)):{}}var cF,dF,pF,hF=R(()=>{Gc();cF=hn?hn.prototype:void 0,dF=cF?cF.valueOf:void 0;pF=_7});function W7(t,e){var i=e?Tl(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var fF,gF=R(()=>{rf();fF=W7});function q7(t,e,i){var r=t.constructor;switch(e){case X7:return Tl(t);case O7:case T7:return new r(+t);case Z7:return aF(t,i);case P7:case V7:case U7:case H7:case z7:case Y7:case Q7:case j7:case J7:return fF(t,i);case D7:return new r;case L7:case M7:return new r(t);case G7:return lF(t);case B7:return new r;case k7:return pF(t)}}var O7,T7,D7,L7,G7,B7,M7,k7,X7,Z7,P7,V7,U7,H7,z7,Y7,Q7,j7,J7,mF,bF=R(()=>{rf();sF();uF();hF();gF();O7="[object Boolean]",T7="[object Date]",D7="[object Map]",L7="[object Number]",G7="[object RegExp]",B7="[object Set]",M7="[object String]",k7="[object Symbol]",X7="[object ArrayBuffer]",Z7="[object DataView]",P7="[object Float32Array]",V7="[object Float64Array]",U7="[object Int8Array]",H7="[object Int16Array]",z7="[object Int32Array]",Y7="[object Uint8Array]",Q7="[object Uint8ClampedArray]",j7="[object Uint16Array]",J7="[object Uint32Array]";mF=q7});var vF,$7,IF,yF=R(()=>{Al();vF=Object.create,$7=function(){function t(){}return function(e){if(!$n(e))return{};if(vF)return vF(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),IF=$7});function K7(t){return typeof t.constructor=="function"&&!Fl(t)?IF(Nh(t)):{}}var CF,AF=R(()=>{yF();Fv();Zh();CF=K7});function tQ(t){return fn(t)&&Ol(t)==eQ}var eQ,wF,xF=R(()=>{tf();gs();eQ="[object Map]";wF=tQ});var SF,iQ,RF,EF=R(()=>{xF();Mh();kh();SF=Vo&&Vo.isMap,iQ=SF?El(SF):wF,RF=iQ});function nQ(t){return fn(t)&&Ol(t)==rQ}var rQ,FF,NF=R(()=>{tf();gs();rQ="[object Set]";FF=nQ});var _F,oQ,WF,OF=R(()=>{NF();Mh();kh();_F=Vo&&Vo.isSet,oQ=_F?El(_F):FF,WF=oQ});function nf(t,e,i,r,n,a){var l,u=e&aQ,c=e&sQ,d=e&lQ;if(i&&(l=n?i(t,r,n,a):i(t)),l!==void 0)return l;if(!$n(t))return t;var f=Kn(t);if(f){if(l=rF(t),!u)return Hh(t,l)}else{var m=Ol(t),b=m==DF||m==hQ;if(Gh(t))return LE(t,u);if(m==LF||m==TF||b&&!n){if(l=c||b?{}:CF(t),!u)return c?PE(t,NE(l,t)):XE(t,wE(l,t))}else{if(!Zt[m])return n?t:{};l=mF(t,m,u)}}a||(a=new jR);var C=a.get(t);if(C)return C;a.set(t,l),WF(t)?t.forEach(function(F){l.add(nf(F,e,i,F,t,a))}):RF(t)&&t.forEach(function(F,_){l.set(_,nf(F,e,i,_,t,a))});var S=d?c?zE:UE:c?_l:Nl,A=f?void 0:S(t);return qR(A||t,function(F,_){A&&(_=F,F=t[_]),Lh(l,_,nf(F,e,i,_,t,a))}),l}var aQ,sQ,lQ,TF,uQ,cQ,dQ,pQ,DF,hQ,fQ,gQ,LF,mQ,bQ,vQ,IQ,yQ,CQ,AQ,wQ,xQ,SQ,RQ,EQ,FQ,NQ,_Q,WQ,Zt,of,jv=R(()=>{JR();$R();Gv();xE();_E();GE();Vv();ZE();VE();HE();YE();tf();nF();bF();AF();Rl();Mv();EF();Al();OF();Vh();Uh();aQ=1,sQ=2,lQ=4,TF="[object Arguments]",uQ="[object Array]",cQ="[object Boolean]",dQ="[object Date]",pQ="[object Error]",DF="[object Function]",hQ="[object GeneratorFunction]",fQ="[object Map]",gQ="[object Number]",LF="[object Object]",mQ="[object RegExp]",bQ="[object Set]",vQ="[object String]",IQ="[object Symbol]",yQ="[object WeakMap]",CQ="[object ArrayBuffer]",AQ="[object DataView]",wQ="[object Float32Array]",xQ="[object Float64Array]",SQ="[object Int8Array]",RQ="[object Int16Array]",EQ="[object Int32Array]",FQ="[object Uint8Array]",NQ="[object Uint8ClampedArray]",_Q="[object Uint16Array]",WQ="[object Uint32Array]",Zt={};Zt[TF]=Zt[uQ]=Zt[CQ]=Zt[AQ]=Zt[cQ]=Zt[dQ]=Zt[wQ]=Zt[xQ]=Zt[SQ]=Zt[RQ]=Zt[EQ]=Zt[fQ]=Zt[gQ]=Zt[LF]=Zt[mQ]=Zt[bQ]=Zt[vQ]=Zt[IQ]=Zt[FQ]=Zt[NQ]=Zt[_Q]=Zt[WQ]=!0;Zt[pQ]=Zt[DF]=Zt[yQ]=!1;of=nf});function TQ(t){return of(t,OQ)}var OQ,Jv,GF=R(()=>{jv();OQ=4;Jv=TQ});function DQ(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var af,qv=R(()=>{af=DQ});function GQ(t){return typeof t=="symbol"||fn(t)&&Tn(t)==LQ}var LQ,Dl,sf=R(()=>{yl();gs();LQ="[object Symbol]";Dl=GQ});function $v(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BQ);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],a=i.cache;if(a.has(n))return a.get(n);var l=t.apply(this,r);return i.cache=a.set(n,l)||a,l};return i.cache=new($v.Cache||Pc),i}var BQ,BF,MF=R(()=>{Tv();BQ="Expected a function";$v.Cache=Pc;BF=$v});function kQ(t){var e=BF(t,function(r){return i.size===MQ&&i.clear(),r}),i=e.cache;return e}var MQ,kF,XF=R(()=>{MF();MQ=500;kF=kQ});var XQ,ZQ,PQ,ZF,PF=R(()=>{XF();XQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZQ=/\\(\\)?/g,PQ=kF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XQ,function(i,r,n,a){e.push(n?a.replace(ZQ,"$1"):r||i)}),e}),ZF=PQ});function UQ(t){if(typeof t=="string"||Dl(t))return t;var e=t+"";return e=="0"&&1/t==-VQ?"-0":e}var VQ,VF,UF=R(()=>{sf();VQ=1/0;VF=UQ});function YF(t){if(typeof t=="string")return t;if(Kn(t))return af(t,YF)+"";if(Dl(t))return zF?zF.call(t):"";var e=t+"";return e=="0"&&1/t==-HQ?"-0":e}var HQ,HF,zF,QF,jF=R(()=>{Gc();qv();Rl();sf();HQ=1/0,HF=hn?hn.prototype:void 0,zF=HF?HF.toString:void 0;QF=YF});function zQ(t){return t==null?"":QF(t)}var JF,qF=R(()=>{jF();JF=zQ});function YQ(t){return Kn(t)?af(t,VF):Dl(t)?[t]:Hh(ZF(JF(t)))}var Kv,$F=R(()=>{qv();Vv();Rl();sf();PF();UF();qF();Kv=YQ});function JQ(t){return of(t,QQ|jQ)}var QQ,jQ,KF,e2=R(()=>{jv();QQ=1,jQ=4;KF=JQ});function Hc(){return Hc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Hc.apply(this,arguments)}function qQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function o2(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function t2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ll(t,e,i,r){r===void 0&&(r=0);for(var n=Kv(e);t&&r<n.length;)t=t[n[r++]];return t===void 0?i:t}function e0(t,e,i){for(var r=Jv(t),n=r,a=0,l=Kv(e);a<l.length-1;a++){var u=l[a],c=Ll(t,l.slice(0,a+1));if(c&&(KQ(c)||Array.isArray(c)))n=n[u]=Jv(c);else{var d=l[a+1];n=n[u]=e6(d)&&Number(d)>=0?[]:{}}}return(a===0?t:n)[l[a]]===i?t:(i===void 0?delete n[l[a]]:n[l[a]]=i,a===0&&i===void 0&&delete r[l[a]],r)}function r6(){var t=un(lf);return t||nv(!1),t}function s2(t){var e=function(n){return At(i6,null,function(a){return a||nv(!1),At(t,Object.assign({},n,{formik:a}))})},i=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+i+")",(0,n2.default)(e,t)}var r2,n2,i2,$Q,KQ,e6,t6,lf,cbe,i6,dbe,a2,n6,o6,t0,a6,Gl,s6,uf=R(()=>{Ee();r2=de(US());HS();GF();$F();_x();n2=de(lh());e2();i2=function(e){return Array.isArray(e)&&e.length===0},$Q=function(e){return typeof e=="function"},KQ=function(e){return e!==null&&typeof e=="object"},e6=function(e){return String(Math.floor(Number(e)))===e},t6=function(e){return hc.count(e)===0};lf=sn(void 0);lf.displayName="FormikContext";cbe=lf.Provider,i6=lf.Consumer;dbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ln:gr,a2=cn(function(t,e){var i=t.action,r=o2(t,["action"]),n=i??"#",a=r6(),l=a.handleReset,u=a.handleSubmit;return At("form",Object.assign({onSubmit:u,ref:e,onReset:l,action:n},r))});a2.displayName="Form";n6=function(e,i,r){var n=Gl(e),a=n[i];return n.splice(i,1),n.splice(r,0,a),n},o6=function(e,i,r){var n=Gl(e),a=n[i];return n[i]=n[r],n[r]=a,n},t0=function(e,i,r){var n=Gl(e);return n.splice(i,0,r),n},a6=function(e,i,r){var n=Gl(e);return n[i]=r,n},Gl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var i=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,n){return n>r?n:r},0);return Array.from(Hc({},e,{length:i+1}))}else return[]},s6=function(t){qQ(e,t);function e(r){var n;return n=t.call(this,r)||this,n.updateArrayField=function(a,l,u){var c=n.props,d=c.name,f=c.formik.setFormikState;f(function(m){var b=typeof u=="function"?u:a,C=typeof l=="function"?l:a,S=e0(m.values,d,a(Ll(m.values,d))),A=u?b(Ll(m.errors,d)):void 0,F=l?C(Ll(m.touched,d)):void 0;return i2(A)&&(A=void 0),i2(F)&&(F=void 0),Hc({},m,{values:S,errors:u?e0(m.errors,d,A):m.errors,touched:l?e0(m.touched,d,F):m.touched})})},n.push=function(a){return n.updateArrayField(function(l){return[].concat(Gl(l),[KF(a)])},!1,!1)},n.handlePush=function(a){return function(){return n.push(a)}},n.swap=function(a,l){return n.updateArrayField(function(u){return o6(u,a,l)},!0,!0)},n.handleSwap=function(a,l){return function(){return n.swap(a,l)}},n.move=function(a,l){return n.updateArrayField(function(u){return n6(u,a,l)},!0,!0)},n.handleMove=function(a,l){return function(){return n.move(a,l)}},n.insert=function(a,l){return n.updateArrayField(function(u){return t0(u,a,l)},function(u){return t0(u,a,null)},function(u){return t0(u,a,null)})},n.handleInsert=function(a,l){return function(){return n.insert(a,l)}},n.replace=function(a,l){return n.updateArrayField(function(u){return a6(u,a,l)},!1,!1)},n.handleReplace=function(a,l){return function(){return n.replace(a,l)}},n.unshift=function(a){var l=-1;return n.updateArrayField(function(u){var c=u?[a].concat(u):[a];return l<0&&(l=c.length),c},function(u){var c=u?[null].concat(u):[null];return l<0&&(l=c.length),c},function(u){var c=u?[null].concat(u):[null];return l<0&&(l=c.length),c}),l},n.handleUnshift=function(a){return function(){return n.unshift(a)}},n.handleRemove=function(a){return function(){return n.remove(a)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(t2(n)),n.pop=n.pop.bind(t2(n)),n}var i=e.prototype;return i.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,r2.default)(Ll(n.formik.values,n.name),Ll(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(n){var a;return this.updateArrayField(function(l){var u=l?Gl(l):[];return a||(a=u[n]),$Q(u.splice)&&u.splice(n,1),u},!0,!0),a},i.pop=function(){var n;return this.updateArrayField(function(a){var l=a;return n||(n=l&&l.pop&&l.pop()),l},!0,!0),n},i.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},a=this.props,l=a.component,u=a.render,c=a.children,d=a.name,f=a.formik,m=o2(f,["validate","validationSchema"]),b=Hc({},n,{form:m,name:d});return l?At(l,b):u?u(b):c?typeof c=="function"?c(b):t6(c)?null:hc.only(c):null},e}(se);s6.defaultProps={validateOnChange:!0}});var u2=U((hbe,l2)=>{function l6(){this.__data__=[],this.size=0}l2.exports=l6});var Bl=U((fbe,c2)=>{function u6(t,e){return t===e||t!==t&&e!==e}c2.exports=u6});var zc=U((gbe,d2)=>{var c6=Bl();function d6(t,e){for(var i=t.length;i--;)if(c6(t[i][0],e))return i;return-1}d2.exports=d6});var h2=U((mbe,p2)=>{var p6=zc(),h6=Array.prototype,f6=h6.splice;function g6(t){var e=this.__data__,i=p6(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():f6.call(e,i,1),--this.size,!0}p2.exports=g6});var g2=U((bbe,f2)=>{var m6=zc();function b6(t){var e=this.__data__,i=m6(e,t);return i<0?void 0:e[i][1]}f2.exports=b6});var b2=U((vbe,m2)=>{var v6=zc();function I6(t){return v6(this.__data__,t)>-1}m2.exports=I6});var I2=U((Ibe,v2)=>{var y6=zc();function C6(t,e){var i=this.__data__,r=y6(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}v2.exports=C6});var Yc=U((ybe,y2)=>{var A6=u2(),w6=h2(),x6=g2(),S6=b2(),R6=I2();function Ml(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Ml.prototype.clear=A6;Ml.prototype.delete=w6;Ml.prototype.get=x6;Ml.prototype.has=S6;Ml.prototype.set=R6;y2.exports=Ml});var A2=U((Cbe,C2)=>{var E6=Yc();function F6(){this.__data__=new E6,this.size=0}C2.exports=F6});var x2=U((Abe,w2)=>{function N6(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}w2.exports=N6});var R2=U((wbe,S2)=>{function _6(t){return this.__data__.get(t)}S2.exports=_6});var F2=U((xbe,E2)=>{function W6(t){return this.__data__.has(t)}E2.exports=W6});var i0=U((Sbe,N2)=>{var O6=typeof global=="object"&&global&&global.Object===Object&&global;N2.exports=O6});var Dn=U((Rbe,_2)=>{var T6=i0(),D6=typeof self=="object"&&self&&self.Object===Object&&self,L6=T6||D6||Function("return this")();_2.exports=L6});var Qc=U((Ebe,W2)=>{var G6=Dn(),B6=G6.Symbol;W2.exports=B6});var L2=U((Fbe,D2)=>{var O2=Qc(),T2=Object.prototype,M6=T2.hasOwnProperty,k6=T2.toString,jc=O2?O2.toStringTag:void 0;function X6(t){var e=M6.call(t,jc),i=t[jc];try{t[jc]=void 0;var r=!0}catch{}var n=k6.call(t);return r&&(e?t[jc]=i:delete t[jc]),n}D2.exports=X6});var B2=U((Nbe,G2)=>{var Z6=Object.prototype,P6=Z6.toString;function V6(t){return P6.call(t)}G2.exports=V6});var bs=U((_be,X2)=>{var M2=Qc(),U6=L2(),H6=B2(),z6="[object Null]",Y6="[object Undefined]",k2=M2?M2.toStringTag:void 0;function Q6(t){return t==null?t===void 0?Y6:z6:k2&&k2 in Object(t)?U6(t):H6(t)}X2.exports=Q6});var eo=U((Wbe,Z2)=>{function j6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Z2.exports=j6});var cf=U((Obe,P2)=>{var J6=bs(),q6=eo(),$6="[object AsyncFunction]",K6="[object Function]",ej="[object GeneratorFunction]",tj="[object Proxy]";function ij(t){if(!q6(t))return!1;var e=J6(t);return e==K6||e==ej||e==$6||e==tj}P2.exports=ij});var U2=U((Tbe,V2)=>{var rj=Dn(),nj=rj["__core-js_shared__"];V2.exports=nj});var Y2=U((Dbe,z2)=>{var r0=U2(),H2=function(){var t=/[^.]+$/.exec(r0&&r0.keys&&r0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oj(t){return!!H2&&H2 in t}z2.exports=oj});var n0=U((Lbe,Q2)=>{var aj=Function.prototype,sj=aj.toString;function lj(t){if(t!=null){try{return sj.call(t)}catch{}try{return t+""}catch{}}return""}Q2.exports=lj});var J2=U((Gbe,j2)=>{var uj=cf(),cj=Y2(),dj=eo(),pj=n0(),hj=/[\\^$.*+?()[\]{}|]/g,fj=/^\[object .+?Constructor\]$/,gj=Function.prototype,mj=Object.prototype,bj=gj.toString,vj=mj.hasOwnProperty,Ij=RegExp("^"+bj.call(vj).replace(hj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yj(t){if(!dj(t)||cj(t))return!1;var e=uj(t)?Ij:fj;return e.test(pj(t))}j2.exports=yj});var $2=U((Bbe,q2)=>{function Cj(t,e){return t?.[e]}q2.exports=Cj});var Ra=U((Mbe,K2)=>{var Aj=J2(),wj=$2();function xj(t,e){var i=wj(t,e);return Aj(i)?i:void 0}K2.exports=xj});var df=U((kbe,eN)=>{var Sj=Ra(),Rj=Dn(),Ej=Sj(Rj,"Map");eN.exports=Ej});var Jc=U((Xbe,tN)=>{var Fj=Ra(),Nj=Fj(Object,"create");tN.exports=Nj});var nN=U((Zbe,rN)=>{var iN=Jc();function _j(){this.__data__=iN?iN(null):{},this.size=0}rN.exports=_j});var aN=U((Pbe,oN)=>{function Wj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}oN.exports=Wj});var lN=U((Vbe,sN)=>{var Oj=Jc(),Tj="__lodash_hash_undefined__",Dj=Object.prototype,Lj=Dj.hasOwnProperty;function Gj(t){var e=this.__data__;if(Oj){var i=e[t];return i===Tj?void 0:i}return Lj.call(e,t)?e[t]:void 0}sN.exports=Gj});var cN=U((Ube,uN)=>{var Bj=Jc(),Mj=Object.prototype,kj=Mj.hasOwnProperty;function Xj(t){var e=this.__data__;return Bj?e[t]!==void 0:kj.call(e,t)}uN.exports=Xj});var pN=U((Hbe,dN)=>{var Zj=Jc(),Pj="__lodash_hash_undefined__";function Vj(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Zj&&e===void 0?Pj:e,this}dN.exports=Vj});var fN=U((zbe,hN)=>{var Uj=nN(),Hj=aN(),zj=lN(),Yj=cN(),Qj=pN();function kl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}kl.prototype.clear=Uj;kl.prototype.delete=Hj;kl.prototype.get=zj;kl.prototype.has=Yj;kl.prototype.set=Qj;hN.exports=kl});var bN=U((Ybe,mN)=>{var gN=fN(),jj=Yc(),Jj=df();function qj(){this.size=0,this.__data__={hash:new gN,map:new(Jj||jj),string:new gN}}mN.exports=qj});var IN=U((Qbe,vN)=>{function $j(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}vN.exports=$j});var qc=U((jbe,yN)=>{var Kj=IN();function eJ(t,e){var i=t.__data__;return Kj(e)?i[typeof e=="string"?"string":"hash"]:i.map}yN.exports=eJ});var AN=U((Jbe,CN)=>{var tJ=qc();function iJ(t){var e=tJ(this,t).delete(t);return this.size-=e?1:0,e}CN.exports=iJ});var xN=U((qbe,wN)=>{var rJ=qc();function nJ(t){return rJ(this,t).get(t)}wN.exports=nJ});var RN=U(($be,SN)=>{var oJ=qc();function aJ(t){return oJ(this,t).has(t)}SN.exports=aJ});var FN=U((Kbe,EN)=>{var sJ=qc();function lJ(t,e){var i=sJ(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}EN.exports=lJ});var pf=U((eve,NN)=>{var uJ=bN(),cJ=AN(),dJ=xN(),pJ=RN(),hJ=FN();function Xl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Xl.prototype.clear=uJ;Xl.prototype.delete=cJ;Xl.prototype.get=dJ;Xl.prototype.has=pJ;Xl.prototype.set=hJ;NN.exports=Xl});var WN=U((tve,_N)=>{var fJ=Yc(),gJ=df(),mJ=pf(),bJ=200;function vJ(t,e){var i=this.__data__;if(i instanceof fJ){var r=i.__data__;if(!gJ||r.length<bJ-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new mJ(r)}return i.set(t,e),this.size=i.size,this}_N.exports=vJ});var hf=U((ive,ON)=>{var IJ=Yc(),yJ=A2(),CJ=x2(),AJ=R2(),wJ=F2(),xJ=WN();function Zl(t){var e=this.__data__=new IJ(t);this.size=e.size}Zl.prototype.clear=yJ;Zl.prototype.delete=CJ;Zl.prototype.get=AJ;Zl.prototype.has=wJ;Zl.prototype.set=xJ;ON.exports=Zl});var DN=U((rve,TN)=>{var SJ="__lodash_hash_undefined__";function RJ(t){return this.__data__.set(t,SJ),this}TN.exports=RJ});var GN=U((nve,LN)=>{function EJ(t){return this.__data__.has(t)}LN.exports=EJ});var MN=U((ove,BN)=>{var FJ=pf(),NJ=DN(),_J=GN();function ff(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new FJ;++e<i;)this.add(t[e])}ff.prototype.add=ff.prototype.push=NJ;ff.prototype.has=_J;BN.exports=ff});var XN=U((ave,kN)=>{function WJ(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}kN.exports=WJ});var PN=U((sve,ZN)=>{function OJ(t,e){return t.has(e)}ZN.exports=OJ});var o0=U((lve,VN)=>{var TJ=MN(),DJ=XN(),LJ=PN(),GJ=1,BJ=2;function MJ(t,e,i,r,n,a){var l=i&GJ,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var m=-1,b=!0,C=i&BJ?new TJ:void 0;for(a.set(t,e),a.set(e,t);++m<u;){var S=t[m],A=e[m];if(r)var F=l?r(A,S,m,e,t,a):r(S,A,m,t,e,a);if(F!==void 0){if(F)continue;b=!1;break}if(C){if(!DJ(e,function(_,X){if(!LJ(C,X)&&(S===_||n(S,_,i,r,a)))return C.push(X)})){b=!1;break}}else if(!(S===A||n(S,A,i,r,a))){b=!1;break}}return a.delete(t),a.delete(e),b}VN.exports=MJ});var a0=U((uve,UN)=>{var kJ=Dn(),XJ=kJ.Uint8Array;UN.exports=XJ});var zN=U((cve,HN)=>{function ZJ(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}HN.exports=ZJ});var QN=U((dve,YN)=>{function PJ(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}YN.exports=PJ});var KN=U((pve,$N)=>{var jN=Qc(),JN=a0(),VJ=Bl(),UJ=o0(),HJ=zN(),zJ=QN(),YJ=1,QJ=2,jJ="[object Boolean]",JJ="[object Date]",qJ="[object Error]",$J="[object Map]",KJ="[object Number]",e8="[object RegExp]",t8="[object Set]",i8="[object String]",r8="[object Symbol]",n8="[object ArrayBuffer]",o8="[object DataView]",qN=jN?jN.prototype:void 0,s0=qN?qN.valueOf:void 0;function a8(t,e,i,r,n,a,l){switch(i){case o8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case n8:return!(t.byteLength!=e.byteLength||!a(new JN(t),new JN(e)));case jJ:case JJ:case KJ:return VJ(+t,+e);case qJ:return t.name==e.name&&t.message==e.message;case e8:case i8:return t==e+"";case $J:var u=HJ;case t8:var c=r&YJ;if(u||(u=zJ),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;r|=QJ,l.set(t,e);var f=UJ(u(t),u(e),r,n,a,l);return l.delete(t),f;case r8:if(s0)return s0.call(t)==s0.call(e)}return!1}$N.exports=a8});var l0=U((hve,e_)=>{function s8(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}e_.exports=s8});var to=U((fve,t_)=>{var l8=Array.isArray;t_.exports=l8});var u0=U((gve,i_)=>{var u8=l0(),c8=to();function d8(t,e,i){var r=e(t);return c8(t)?r:u8(r,i(t))}i_.exports=d8});var n_=U((mve,r_)=>{function p8(t,e){for(var i=-1,r=t==null?0:t.length,n=0,a=[];++i<r;){var l=t[i];e(l,i,t)&&(a[n++]=l)}return a}r_.exports=p8});var c0=U((bve,o_)=>{function h8(){return[]}o_.exports=h8});var d0=U((vve,s_)=>{var f8=n_(),g8=c0(),m8=Object.prototype,b8=m8.propertyIsEnumerable,a_=Object.getOwnPropertySymbols,v8=a_?function(t){return t==null?[]:(t=Object(t),f8(a_(t),function(e){return b8.call(t,e)}))}:g8;s_.exports=v8});var u_=U((Ive,l_)=>{function I8(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}l_.exports=I8});var Ea=U((yve,c_)=>{function y8(t){return t!=null&&typeof t=="object"}c_.exports=y8});var p_=U((Cve,d_)=>{var C8=bs(),A8=Ea(),w8="[object Arguments]";function x8(t){return A8(t)&&C8(t)==w8}d_.exports=x8});var gf=U((Ave,g_)=>{var h_=p_(),S8=Ea(),f_=Object.prototype,R8=f_.hasOwnProperty,E8=f_.propertyIsEnumerable,F8=h_(function(){return arguments}())?h_:function(t){return S8(t)&&R8.call(t,"callee")&&!E8.call(t,"callee")};g_.exports=F8});var b_=U((wve,m_)=>{function N8(){return!1}m_.exports=N8});var mf=U(($c,Pl)=>{var _8=Dn(),W8=b_(),y_=typeof $c=="object"&&$c&&!$c.nodeType&&$c,v_=y_&&typeof Pl=="object"&&Pl&&!Pl.nodeType&&Pl,O8=v_&&v_.exports===y_,I_=O8?_8.Buffer:void 0,T8=I_?I_.isBuffer:void 0,D8=T8||W8;Pl.exports=D8});var Kc=U((xve,C_)=>{var L8=9007199254740991,G8=/^(?:0|[1-9]\d*)$/;function B8(t,e){var i=typeof t;return e=e??L8,!!e&&(i=="number"||i!="symbol"&&G8.test(t))&&t>-1&&t%1==0&&t<e}C_.exports=B8});var bf=U((Sve,A_)=>{var M8=9007199254740991;function k8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=M8}A_.exports=k8});var x_=U((Rve,w_)=>{var X8=bs(),Z8=bf(),P8=Ea(),V8="[object Arguments]",U8="[object Array]",H8="[object Boolean]",z8="[object Date]",Y8="[object Error]",Q8="[object Function]",j8="[object Map]",J8="[object Number]",q8="[object Object]",$8="[object RegExp]",K8="[object Set]",eq="[object String]",tq="[object WeakMap]",iq="[object ArrayBuffer]",rq="[object DataView]",nq="[object Float32Array]",oq="[object Float64Array]",aq="[object Int8Array]",sq="[object Int16Array]",lq="[object Int32Array]",uq="[object Uint8Array]",cq="[object Uint8ClampedArray]",dq="[object Uint16Array]",pq="[object Uint32Array]",zt={};zt[nq]=zt[oq]=zt[aq]=zt[sq]=zt[lq]=zt[uq]=zt[cq]=zt[dq]=zt[pq]=!0;zt[V8]=zt[U8]=zt[iq]=zt[H8]=zt[rq]=zt[z8]=zt[Y8]=zt[Q8]=zt[j8]=zt[J8]=zt[q8]=zt[$8]=zt[K8]=zt[eq]=zt[tq]=!1;function hq(t){return P8(t)&&Z8(t.length)&&!!zt[X8(t)]}w_.exports=hq});var R_=U((Eve,S_)=>{function fq(t){return function(e){return t(e)}}S_.exports=fq});var F_=U((ed,Vl)=>{var gq=i0(),E_=typeof ed=="object"&&ed&&!ed.nodeType&&ed,td=E_&&typeof Vl=="object"&&Vl&&!Vl.nodeType&&Vl,mq=td&&td.exports===E_,p0=mq&&gq.process,bq=function(){try{var t=td&&td.require&&td.require("util").types;return t||p0&&p0.binding&&p0.binding("util")}catch{}}();Vl.exports=bq});var vf=U((Fve,W_)=>{var vq=x_(),Iq=R_(),N_=F_(),__=N_&&N_.isTypedArray,yq=__?Iq(__):vq;W_.exports=yq});var h0=U((Nve,O_)=>{var Cq=u_(),Aq=gf(),wq=to(),xq=mf(),Sq=Kc(),Rq=vf(),Eq=Object.prototype,Fq=Eq.hasOwnProperty;function Nq(t,e){var i=wq(t),r=!i&&Aq(t),n=!i&&!r&&xq(t),a=!i&&!r&&!n&&Rq(t),l=i||r||n||a,u=l?Cq(t.length,String):[],c=u.length;for(var d in t)(e||Fq.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Sq(d,c)))&&u.push(d);return u}O_.exports=Nq});var If=U((_ve,T_)=>{var _q=Object.prototype;function Wq(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||_q;return t===i}T_.exports=Wq});var f0=U((Wve,D_)=>{function Oq(t,e){return function(i){return t(e(i))}}D_.exports=Oq});var G_=U((Ove,L_)=>{var Tq=f0(),Dq=Tq(Object.keys,Object);L_.exports=Dq});var M_=U((Tve,B_)=>{var Lq=If(),Gq=G_(),Bq=Object.prototype,Mq=Bq.hasOwnProperty;function kq(t){if(!Lq(t))return Gq(t);var e=[];for(var i in Object(t))Mq.call(t,i)&&i!="constructor"&&e.push(i);return e}B_.exports=kq});var id=U((Dve,k_)=>{var Xq=cf(),Zq=bf();function Pq(t){return t!=null&&Zq(t.length)&&!Xq(t)}k_.exports=Pq});var g0=U((Lve,X_)=>{var Vq=h0(),Uq=M_(),Hq=id();function zq(t){return Hq(t)?Vq(t):Uq(t)}X_.exports=zq});var P_=U((Gve,Z_)=>{var Yq=u0(),Qq=d0(),jq=g0();function Jq(t){return Yq(t,jq,Qq)}Z_.exports=Jq});var H_=U((Bve,U_)=>{var V_=P_(),qq=1,$q=Object.prototype,Kq=$q.hasOwnProperty;function e$(t,e,i,r,n,a){var l=i&qq,u=V_(t),c=u.length,d=V_(e),f=d.length;if(c!=f&&!l)return!1;for(var m=c;m--;){var b=u[m];if(!(l?b in e:Kq.call(e,b)))return!1}var C=a.get(t),S=a.get(e);if(C&&S)return C==e&&S==t;var A=!0;a.set(t,e),a.set(e,t);for(var F=l;++m<c;){b=u[m];var _=t[b],X=e[b];if(r)var k=l?r(X,_,b,e,t,a):r(_,X,b,t,e,a);if(!(k===void 0?_===X||n(_,X,i,r,a):k)){A=!1;break}F||(F=b=="constructor")}if(A&&!F){var B=t.constructor,G=e.constructor;B!=G&&"constructor"in t&&"constructor"in e&&!(typeof B=="function"&&B instanceof B&&typeof G=="function"&&G instanceof G)&&(A=!1)}return a.delete(t),a.delete(e),A}U_.exports=e$});var Y_=U((Mve,z_)=>{var t$=Ra(),i$=Dn(),r$=t$(i$,"DataView");z_.exports=r$});var j_=U((kve,Q_)=>{var n$=Ra(),o$=Dn(),a$=n$(o$,"Promise");Q_.exports=a$});var q_=U((Xve,J_)=>{var s$=Ra(),l$=Dn(),u$=s$(l$,"Set");J_.exports=u$});var K_=U((Zve,$_)=>{var c$=Ra(),d$=Dn(),p$=c$(d$,"WeakMap");$_.exports=p$});var sW=U((Pve,aW)=>{var m0=Y_(),b0=df(),v0=j_(),I0=q_(),y0=K_(),oW=bs(),Ul=n0(),eW="[object Map]",h$="[object Object]",tW="[object Promise]",iW="[object Set]",rW="[object WeakMap]",nW="[object DataView]",f$=Ul(m0),g$=Ul(b0),m$=Ul(v0),b$=Ul(I0),v$=Ul(y0),vs=oW;(m0&&vs(new m0(new ArrayBuffer(1)))!=nW||b0&&vs(new b0)!=eW||v0&&vs(v0.resolve())!=tW||I0&&vs(new I0)!=iW||y0&&vs(new y0)!=rW)&&(vs=function(t){var e=oW(t),i=e==h$?t.constructor:void 0,r=i?Ul(i):"";if(r)switch(r){case f$:return nW;case g$:return eW;case m$:return tW;case b$:return iW;case v$:return rW}return e});aW.exports=vs});var gW=U((Vve,fW)=>{var C0=hf(),I$=o0(),y$=KN(),C$=H_(),lW=sW(),uW=to(),cW=mf(),A$=vf(),w$=1,dW="[object Arguments]",pW="[object Array]",yf="[object Object]",x$=Object.prototype,hW=x$.hasOwnProperty;function S$(t,e,i,r,n,a){var l=uW(t),u=uW(e),c=l?pW:lW(t),d=u?pW:lW(e);c=c==dW?yf:c,d=d==dW?yf:d;var f=c==yf,m=d==yf,b=c==d;if(b&&cW(t)){if(!cW(e))return!1;l=!0,f=!1}if(b&&!f)return a||(a=new C0),l||A$(t)?I$(t,e,i,r,n,a):y$(t,e,c,i,r,n,a);if(!(i&w$)){var C=f&&hW.call(t,"__wrapped__"),S=m&&hW.call(e,"__wrapped__");if(C||S){var A=C?t.value():t,F=S?e.value():e;return a||(a=new C0),n(A,F,i,r,a)}}return b?(a||(a=new C0),C$(t,e,i,r,n,a)):!1}fW.exports=S$});var A0=U((Uve,vW)=>{var R$=gW(),mW=Ea();function bW(t,e,i,r,n){return t===e?!0:t==null||e==null||!mW(t)&&!mW(e)?t!==t&&e!==e:R$(t,e,i,r,bW,n)}vW.exports=bW});var yW=U((Hve,IW)=>{var E$=hf(),F$=A0(),N$=1,_$=2;function W$(t,e,i,r){var n=i.length,a=n,l=!r;if(t==null)return!a;for(t=Object(t);n--;){var u=i[n];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++n<a;){u=i[n];var c=u[0],d=t[c],f=u[1];if(l&&u[2]){if(d===void 0&&!(c in t))return!1}else{var m=new E$;if(r)var b=r(d,f,c,t,e,m);if(!(b===void 0?F$(f,d,N$|_$,r,m):b))return!1}}return!0}IW.exports=W$});var w0=U((zve,CW)=>{var O$=eo();function T$(t){return t===t&&!O$(t)}CW.exports=T$});var wW=U((Yve,AW)=>{var D$=w0(),L$=g0();function G$(t){for(var e=L$(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,D$(n)]}return e}AW.exports=G$});var x0=U((Qve,xW)=>{function B$(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}xW.exports=B$});var RW=U((jve,SW)=>{var M$=yW(),k$=wW(),X$=x0();function Z$(t){var e=k$(t);return e.length==1&&e[0][2]?X$(e[0][0],e[0][1]):function(i){return i===t||M$(i,t,e)}}SW.exports=Z$});var Cf=U((Jve,EW)=>{var P$=bs(),V$=Ea(),U$="[object Symbol]";function H$(t){return typeof t=="symbol"||V$(t)&&P$(t)==U$}EW.exports=H$});var Af=U((qve,FW)=>{var z$=to(),Y$=Cf(),Q$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j$=/^\w*$/;function J$(t,e){if(z$(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||Y$(t)?!0:j$.test(t)||!Q$.test(t)||e!=null&&t in Object(e)}FW.exports=J$});var WW=U(($ve,_W)=>{var NW=pf(),q$="Expected a function";function S0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(q$);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],a=i.cache;if(a.has(n))return a.get(n);var l=t.apply(this,r);return i.cache=a.set(n,l)||a,l};return i.cache=new(S0.Cache||NW),i}S0.Cache=NW;_W.exports=S0});var TW=U((Kve,OW)=>{var $$=WW(),K$=500;function eK(t){var e=$$(t,function(r){return i.size===K$&&i.clear(),r}),i=e.cache;return e}OW.exports=eK});var LW=U((e0e,DW)=>{var tK=TW(),iK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rK=/\\(\\)?/g,nK=tK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iK,function(i,r,n,a){e.push(n?a.replace(rK,"$1"):r||i)}),e});DW.exports=nK});var R0=U((t0e,GW)=>{function oK(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}GW.exports=oK});var PW=U((i0e,ZW)=>{var BW=Qc(),aK=R0(),sK=to(),lK=Cf(),uK=1/0,MW=BW?BW.prototype:void 0,kW=MW?MW.toString:void 0;function XW(t){if(typeof t=="string")return t;if(sK(t))return aK(t,XW)+"";if(lK(t))return kW?kW.call(t):"";var e=t+"";return e=="0"&&1/t==-uK?"-0":e}ZW.exports=XW});var UW=U((r0e,VW)=>{var cK=PW();function dK(t){return t==null?"":cK(t)}VW.exports=dK});var rd=U((n0e,HW)=>{var pK=to(),hK=Af(),fK=LW(),gK=UW();function mK(t,e){return pK(t)?t:hK(t,e)?[t]:fK(gK(t))}HW.exports=mK});var Hl=U((o0e,zW)=>{var bK=Cf(),vK=1/0;function IK(t){if(typeof t=="string"||bK(t))return t;var e=t+"";return e=="0"&&1/t==-vK?"-0":e}zW.exports=IK});var wf=U((a0e,YW)=>{var yK=rd(),CK=Hl();function AK(t,e){e=yK(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[CK(e[i++])];return i&&i==r?t:void 0}YW.exports=AK});var jW=U((s0e,QW)=>{var wK=wf();function xK(t,e,i){var r=t==null?void 0:wK(t,e);return r===void 0?i:r}QW.exports=xK});var qW=U((l0e,JW)=>{function SK(t,e){return t!=null&&e in Object(t)}JW.exports=SK});var KW=U((u0e,$W)=>{var RK=rd(),EK=gf(),FK=to(),NK=Kc(),_K=bf(),WK=Hl();function OK(t,e,i){e=RK(e,t);for(var r=-1,n=e.length,a=!1;++r<n;){var l=WK(e[r]);if(!(a=t!=null&&i(t,l)))break;t=t[l]}return a||++r!=n?a:(n=t==null?0:t.length,!!n&&_K(n)&&NK(l,n)&&(FK(t)||EK(t)))}$W.exports=OK});var tO=U((c0e,eO)=>{var TK=qW(),DK=KW();function LK(t,e){return t!=null&&DK(t,e,TK)}eO.exports=LK});var rO=U((d0e,iO)=>{var GK=A0(),BK=jW(),MK=tO(),kK=Af(),XK=w0(),ZK=x0(),PK=Hl(),VK=1,UK=2;function HK(t,e){return kK(t)&&XK(e)?ZK(PK(t),e):function(i){var r=BK(i,t);return r===void 0&&r===e?MK(i,t):GK(e,r,VK|UK)}}iO.exports=HK});var xf=U((p0e,nO)=>{function zK(t){return t}nO.exports=zK});var aO=U((h0e,oO)=>{function YK(t){return function(e){return e?.[t]}}oO.exports=YK});var lO=U((f0e,sO)=>{var QK=wf();function jK(t){return function(e){return QK(e,t)}}sO.exports=jK});var cO=U((g0e,uO)=>{var JK=aO(),qK=lO(),$K=Af(),KK=Hl();function eee(t){return $K(t)?JK(KK(t)):qK(t)}uO.exports=eee});var E0=U((m0e,dO)=>{var tee=RW(),iee=rO(),ree=xf(),nee=to(),oee=cO();function aee(t){return typeof t=="function"?t:t==null?ree:typeof t=="object"?nee(t)?iee(t[0],t[1]):tee(t):oee(t)}dO.exports=aee});var hO=U((b0e,pO)=>{var see="Expected a function";function lee(t){if(typeof t!="function")throw new TypeError(see);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}pO.exports=lee});var F0=U((v0e,fO)=>{var uee=Ra(),cee=function(){try{var t=uee(Object,"defineProperty");return t({},"",{}),t}catch{}}();fO.exports=cee});var Sf=U((I0e,mO)=>{var gO=F0();function dee(t,e,i){e=="__proto__"&&gO?gO(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}mO.exports=dee});var N0=U((y0e,bO)=>{var pee=Sf(),hee=Bl(),fee=Object.prototype,gee=fee.hasOwnProperty;function mee(t,e,i){var r=t[e];(!(gee.call(t,e)&&hee(r,i))||i===void 0&&!(e in t))&&pee(t,e,i)}bO.exports=mee});var yO=U((C0e,IO)=>{var bee=N0(),vee=rd(),Iee=Kc(),vO=eo(),yee=Hl();function Cee(t,e,i,r){if(!vO(t))return t;e=vee(e,t);for(var n=-1,a=e.length,l=a-1,u=t;u!=null&&++n<a;){var c=yee(e[n]),d=i;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(n!=l){var f=u[c];d=r?r(f,c,u):void 0,d===void 0&&(d=vO(f)?f:Iee(e[n+1])?[]:{})}bee(u,c,d),u=u[c]}return t}IO.exports=Cee});var AO=U((A0e,CO)=>{var Aee=wf(),wee=yO(),xee=rd();function See(t,e,i){for(var r=-1,n=e.length,a={};++r<n;){var l=e[r],u=Aee(t,l);i(u,l)&&wee(a,xee(l,t),u)}return a}CO.exports=See});var Rf=U((w0e,wO)=>{var Ree=f0(),Eee=Ree(Object.getPrototypeOf,Object);wO.exports=Eee});var SO=U((x0e,xO)=>{var Fee=l0(),Nee=Rf(),_ee=d0(),Wee=c0(),Oee=Object.getOwnPropertySymbols,Tee=Oee?function(t){for(var e=[];t;)Fee(e,_ee(t)),t=Nee(t);return e}:Wee;xO.exports=Tee});var EO=U((S0e,RO)=>{function Dee(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}RO.exports=Dee});var NO=U((R0e,FO)=>{var Lee=eo(),Gee=If(),Bee=EO(),Mee=Object.prototype,kee=Mee.hasOwnProperty;function Xee(t){if(!Lee(t))return Bee(t);var e=Gee(t),i=[];for(var r in t)r=="constructor"&&(e||!kee.call(t,r))||i.push(r);return i}FO.exports=Xee});var Ef=U((E0e,_O)=>{var Zee=h0(),Pee=NO(),Vee=id();function Uee(t){return Vee(t)?Zee(t,!0):Pee(t)}_O.exports=Uee});var OO=U((F0e,WO)=>{var Hee=u0(),zee=SO(),Yee=Ef();function Qee(t){return Hee(t,Yee,zee)}WO.exports=Qee});var DO=U((N0e,TO)=>{var jee=R0(),Jee=E0(),qee=AO(),$ee=OO();function Kee(t,e){if(t==null)return{};var i=jee($ee(t),function(r){return[r]});return e=Jee(e),qee(t,i,function(r,n){return e(r,n[0])})}TO.exports=Kee});var GO=U((_0e,LO)=>{var ete=E0(),tte=hO(),ite=DO();function rte(t,e){return ite(t,tte(ete(e)))}LO.exports=rte});var BO,MO,_0,W0,Ff=R(()=>{Ee();uf();BO=de(GO()),MO=de(Ie()),_0=class extends Ge.Component{render(){return null}componentDidUpdate(e){if(!MO.default.isEqual(e.formik.initialValues,this.props.formik.initialValues))return;let i=(0,BO.default)(this.props.formik.values,function(r,n){return e.formik.values[n]===r});Object.keys(i).length>0&&this.props.onChange(i,this.props.formik)}},W0=s2(_0)});var O0=U((D0e,kO)=>{"use strict";kO.exports=function(e,i){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(i,n)}}});var Wi=U((L0e,PO)=>{"use strict";var nte=O0(),D0=Object.prototype.toString,L0=function(t){return function(e){var i=D0.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function Is(t){return t=t.toLowerCase(),function(i){return L0(i)===t}}function G0(t){return Array.isArray(t)}function _f(t){return typeof t>"u"}function ote(t){return t!==null&&!_f(t)&&t.constructor!==null&&!_f(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var XO=Is("ArrayBuffer");function ate(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&XO(t.buffer),e}function ste(t){return typeof t=="string"}function lte(t){return typeof t=="number"}function ZO(t){return t!==null&&typeof t=="object"}function Nf(t){if(L0(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var ute=Is("Date"),cte=Is("File"),dte=Is("Blob"),pte=Is("FileList");function B0(t){return D0.call(t)==="[object Function]"}function hte(t){return ZO(t)&&B0(t.pipe)}function fte(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||D0.call(t)===e||B0(t.toString)&&t.toString()===e)}var gte=Is("URLSearchParams");function mte(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function bte(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function M0(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),G0(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function T0(){var t={};function e(n,a){Nf(t[a])&&Nf(n)?t[a]=T0(t[a],n):Nf(n)?t[a]=T0({},n):G0(n)?t[a]=n.slice():t[a]=n}for(var i=0,r=arguments.length;i<r;i++)M0(arguments[i],e);return t}function vte(t,e,i){return M0(e,function(n,a){i&&typeof n=="function"?t[a]=nte(n,i):t[a]=n}),t}function Ite(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function yte(t,e,i,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,i&&Object.assign(t.prototype,i)}function Cte(t,e,i){var r,n,a,l={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)a=r[n],l[a]||(e[a]=t[a],l[a]=!0);t=Object.getPrototypeOf(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e}function Ate(t,e,i){t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;var r=t.indexOf(e,i);return r!==-1&&r===i}function wte(t){if(!t)return null;var e=t.length;if(_f(e))return null;for(var i=new Array(e);e-- >0;)i[e]=t[e];return i}var xte=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));PO.exports={isArray:G0,isArrayBuffer:XO,isBuffer:ote,isFormData:fte,isArrayBufferView:ate,isString:ste,isNumber:lte,isObject:ZO,isPlainObject:Nf,isUndefined:_f,isDate:ute,isFile:cte,isBlob:dte,isFunction:B0,isStream:hte,isURLSearchParams:gte,isStandardBrowserEnv:bte,forEach:M0,merge:T0,extend:vte,trim:mte,stripBOM:Ite,inherits:yte,toFlatObject:Cte,kindOf:L0,kindOfTest:Is,endsWith:Ate,toArray:wte,isTypedArray:xte,isFileList:pte}});var k0=U((G0e,UO)=>{"use strict";var zl=Wi();function VO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}UO.exports=function(e,i,r){if(!i)return e;var n;if(r)n=r(i);else if(zl.isURLSearchParams(i))n=i.toString();else{var a=[];zl.forEach(i,function(c,d){c===null||typeof c>"u"||(zl.isArray(c)?d=d+"[]":c=[c],zl.forEach(c,function(m){zl.isDate(m)?m=m.toISOString():zl.isObject(m)&&(m=JSON.stringify(m)),a.push(VO(d)+"="+VO(m))}))}),n=a.join("&")}if(n){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var zO=U((B0e,HO)=>{"use strict";var Ste=Wi();function Wf(){this.handlers=[]}Wf.prototype.use=function(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Wf.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Wf.prototype.forEach=function(e){Ste.forEach(this.handlers,function(r){r!==null&&e(r)})};HO.exports=Wf});var QO=U((M0e,YO)=>{"use strict";var Rte=Wi();YO.exports=function(e,i){Rte.forEach(e,function(n,a){a!==i&&a.toUpperCase()===i.toUpperCase()&&(e[i]=n,delete e[a])})}});var ys=U((k0e,$O)=>{"use strict";var jO=Wi();function Yl(t,e,i,r,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}jO.inherits(Yl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var JO=Yl.prototype,qO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){qO[t]={value:t}});Object.defineProperties(Yl,qO);Object.defineProperty(JO,"isAxiosError",{value:!0});Yl.from=function(t,e,i,r,n,a){var l=Object.create(JO);return jO.toFlatObject(t,l,function(c){return c!==Error.prototype}),Yl.call(l,t.message,e,i,r,n),l.name=t.name,a&&Object.assign(l,a),l};$O.exports=Yl});var X0=U((X0e,KO)=>{"use strict";KO.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var Z0=U((Z0e,eT)=>{"use strict";var Ln=Wi();function Ete(t,e){e=e||new FormData;var i=[];function r(a){return a===null?"":Ln.isDate(a)?a.toISOString():Ln.isArrayBuffer(a)||Ln.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function n(a,l){if(Ln.isPlainObject(a)||Ln.isArray(a)){if(i.indexOf(a)!==-1)throw Error("Circular reference detected in "+l);i.push(a),Ln.forEach(a,function(c,d){if(!Ln.isUndefined(c)){var f=l?l+"."+d:d,m;if(c&&!l&&typeof c=="object"){if(Ln.endsWith(d,"{}"))c=JSON.stringify(c);else if(Ln.endsWith(d,"[]")&&(m=Ln.toArray(c))){m.forEach(function(b){!Ln.isUndefined(b)&&e.append(f,r(b))});return}}n(c,f)}}),i.pop()}else e.append(l,r(a))}return n(t),e}eT.exports=Ete});var iT=U((P0e,tT)=>{"use strict";var P0=ys();tT.exports=function(e,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):i(new P0("Request failed with status code "+r.status,[P0.ERR_BAD_REQUEST,P0.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var nT=U((V0e,rT)=>{"use strict";var Of=Wi();rT.exports=Of.isStandardBrowserEnv()?function(){return{write:function(i,r,n,a,l,u){var c=[];c.push(i+"="+encodeURIComponent(r)),Of.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Of.isString(a)&&c.push("path="+a),Of.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var aT=U((U0e,oT)=>{"use strict";oT.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var lT=U((H0e,sT)=>{"use strict";sT.exports=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}});var V0=U((z0e,uT)=>{"use strict";var Fte=aT(),Nte=lT();uT.exports=function(e,i){return e&&!Fte(i)?Nte(e,i):i}});var dT=U((Y0e,cT)=>{"use strict";var U0=Wi(),_te=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];cT.exports=function(e){var i={},r,n,a;return e&&U0.forEach(e.split(`
`),function(u){if(a=u.indexOf(":"),r=U0.trim(u.substr(0,a)).toLowerCase(),n=U0.trim(u.substr(a+1)),r){if(i[r]&&_te.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i}});var fT=U((Q0e,hT)=>{"use strict";var pT=Wi();hT.exports=pT.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(a){var l=a;return e&&(i.setAttribute("href",l),l=i.href),i.setAttribute("href",l),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(l){var u=pT.isString(l)?n(l):l;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}()});var nd=U((j0e,mT)=>{"use strict";var H0=ys(),Wte=Wi();function gT(t){H0.call(this,t??"canceled",H0.ERR_CANCELED),this.name="CanceledError"}Wte.inherits(gT,H0,{__CANCEL__:!0});mT.exports=gT});var vT=U((J0e,bT)=>{"use strict";bT.exports=function(e){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}});var z0=U((q0e,IT)=>{"use strict";var od=Wi(),Ote=iT(),Tte=nT(),Dte=k0(),Lte=V0(),Gte=dT(),Bte=fT(),Mte=X0(),Uo=ys(),kte=nd(),Xte=vT();IT.exports=function(e){return new Promise(function(r,n){var a=e.data,l=e.headers,u=e.responseType,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}od.isFormData(a)&&od.isStandardBrowserEnv()&&delete l["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(m+":"+b)}var C=Lte(e.baseURL,e.url);f.open(e.method.toUpperCase(),Dte(C,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function S(){if(f){var _="getAllResponseHeaders"in f?Gte(f.getAllResponseHeaders()):null,X=!u||u==="text"||u==="json"?f.responseText:f.response,k={data:X,status:f.status,statusText:f.statusText,headers:_,config:e,request:f};Ote(function(G){r(G),d()},function(G){n(G),d()},k),f=null}}if("onloadend"in f?f.onloadend=S:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(S)},f.onabort=function(){f&&(n(new Uo("Request aborted",Uo.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Uo("Network Error",Uo.ERR_NETWORK,e,f,f)),f=null},f.ontimeout=function(){var X=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",k=e.transitional||Mte;e.timeoutErrorMessage&&(X=e.timeoutErrorMessage),n(new Uo(X,k.clarifyTimeoutError?Uo.ETIMEDOUT:Uo.ECONNABORTED,e,f)),f=null},od.isStandardBrowserEnv()){var A=(e.withCredentials||Bte(C))&&e.xsrfCookieName?Tte.read(e.xsrfCookieName):void 0;A&&(l[e.xsrfHeaderName]=A)}"setRequestHeader"in f&&od.forEach(l,function(X,k){typeof a>"u"&&k.toLowerCase()==="content-type"?delete l[k]:f.setRequestHeader(k,X)}),od.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),u&&u!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(_){f&&(n(!_||_&&_.type?new kte:_),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),a||(a=null);var F=Xte(C);if(F&&["http","https","file"].indexOf(F)===-1){n(new Uo("Unsupported protocol "+F+":",Uo.ERR_BAD_REQUEST,e));return}f.send(a)})}});var CT=U(($0e,yT)=>{yT.exports=null});var Df=U((K0e,ST)=>{"use strict";var Oi=Wi(),AT=QO(),wT=ys(),Zte=X0(),Pte=Z0(),Vte={"Content-Type":"application/x-www-form-urlencoded"};function xT(t,e){!Oi.isUndefined(t)&&Oi.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Ute(){var t;return typeof XMLHttpRequest<"u"?t=z0():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=z0()),t}function Hte(t,e,i){if(Oi.isString(t))try{return(e||JSON.parse)(t),Oi.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}var Tf={transitional:Zte,adapter:Ute(),transformRequest:[function(e,i){if(AT(i,"Accept"),AT(i,"Content-Type"),Oi.isFormData(e)||Oi.isArrayBuffer(e)||Oi.isBuffer(e)||Oi.isStream(e)||Oi.isFile(e)||Oi.isBlob(e))return e;if(Oi.isArrayBufferView(e))return e.buffer;if(Oi.isURLSearchParams(e))return xT(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Oi.isObject(e),n=i&&i["Content-Type"],a;if((a=Oi.isFileList(e))||r&&n==="multipart/form-data"){var l=this.env&&this.env.FormData;return Pte(a?{"files[]":e}:e,l&&new l)}else if(r||n==="application/json")return xT(i,"application/json"),Hte(e);return e}],transformResponse:[function(e){var i=this.transitional||Tf.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,a=!r&&this.responseType==="json";if(a||n&&Oi.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?wT.from(l,wT.ERR_BAD_RESPONSE,this,null,this.response):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:CT()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Oi.forEach(["delete","get","head"],function(e){Tf.headers[e]={}});Oi.forEach(["post","put","patch"],function(e){Tf.headers[e]=Oi.merge(Vte)});ST.exports=Tf});var ET=U((eIe,RT)=>{"use strict";var zte=Wi(),Yte=Df();RT.exports=function(e,i,r){var n=this||Yte;return zte.forEach(r,function(l){e=l.call(n,e,i)}),e}});var Y0=U((tIe,FT)=>{"use strict";FT.exports=function(e){return!!(e&&e.__CANCEL__)}});var WT=U((iIe,_T)=>{"use strict";var NT=Wi(),Q0=ET(),Qte=Y0(),jte=Df(),Jte=nd();function j0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jte}_T.exports=function(e){j0(e),e.headers=e.headers||{},e.data=Q0.call(e,e.data,e.headers,e.transformRequest),e.headers=NT.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),NT.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var i=e.adapter||jte.adapter;return i(e).then(function(n){return j0(e),n.data=Q0.call(e,n.data,n.headers,e.transformResponse),n},function(n){return Qte(n)||(j0(e),n&&n.response&&(n.response.data=Q0.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var J0=U((rIe,OT)=>{"use strict";var Vr=Wi();OT.exports=function(e,i){i=i||{};var r={};function n(f,m){return Vr.isPlainObject(f)&&Vr.isPlainObject(m)?Vr.merge(f,m):Vr.isPlainObject(m)?Vr.merge({},m):Vr.isArray(m)?m.slice():m}function a(f){if(Vr.isUndefined(i[f])){if(!Vr.isUndefined(e[f]))return n(void 0,e[f])}else return n(e[f],i[f])}function l(f){if(!Vr.isUndefined(i[f]))return n(void 0,i[f])}function u(f){if(Vr.isUndefined(i[f])){if(!Vr.isUndefined(e[f]))return n(void 0,e[f])}else return n(void 0,i[f])}function c(f){if(f in i)return n(e[f],i[f]);if(f in e)return n(void 0,e[f])}var d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return Vr.forEach(Object.keys(e).concat(Object.keys(i)),function(m){var b=d[m]||a,C=b(m);Vr.isUndefined(C)&&b!==c||(r[m]=C)}),r}});var q0=U((nIe,TT)=>{TT.exports={version:"0.27.2"}});var GT=U((oIe,LT)=>{"use strict";var qte=q0().version,Fa=ys(),$0={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){$0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var DT={};$0.transitional=function(e,i,r){function n(a,l){return"[Axios v"+qte+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return function(a,l,u){if(e===!1)throw new Fa(n(l," has been removed"+(i?" in "+i:"")),Fa.ERR_DEPRECATED);return i&&!DT[l]&&(DT[l]=!0,console.warn(n(l," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(a,l,u):!0}};function $te(t,e,i){if(typeof t!="object")throw new Fa("options must be an object",Fa.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),n=r.length;n-- >0;){var a=r[n],l=e[a];if(l){var u=t[a],c=u===void 0||l(u,a,t);if(c!==!0)throw new Fa("option "+a+" must be "+c,Fa.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Fa("Unknown option "+a,Fa.ERR_BAD_OPTION)}}LT.exports={assertOptions:$te,validators:$0}});var PT=U((aIe,ZT)=>{"use strict";var kT=Wi(),Kte=k0(),BT=zO(),MT=WT(),Lf=J0(),eie=V0(),XT=GT(),Ql=XT.validators;function jl(t){this.defaults=t,this.interceptors={request:new BT,response:new BT}}jl.prototype.request=function(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Lf(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&XT.assertOptions(r,{silentJSONParsing:Ql.transitional(Ql.boolean),forcedJSONParsing:Ql.transitional(Ql.boolean),clarifyTimeoutError:Ql.transitional(Ql.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(i)===!1||(a=a&&C.synchronous,n.unshift(C.fulfilled,C.rejected))});var l=[];this.interceptors.response.forEach(function(C){l.push(C.fulfilled,C.rejected)});var u;if(!a){var c=[MT,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(l),u=Promise.resolve(i);c.length;)u=u.then(c.shift(),c.shift());return u}for(var d=i;n.length;){var f=n.shift(),m=n.shift();try{d=f(d)}catch(b){m(b);break}}try{u=MT(d)}catch(b){return Promise.reject(b)}for(;l.length;)u=u.then(l.shift(),l.shift());return u};jl.prototype.getUri=function(e){e=Lf(this.defaults,e);var i=eie(e.baseURL,e.url);return Kte(i,e.params,e.paramsSerializer)};kT.forEach(["delete","get","head","options"],function(e){jl.prototype[e]=function(i,r){return this.request(Lf(r||{},{method:e,url:i,data:(r||{}).data}))}});kT.forEach(["post","put","patch"],function(e){function i(r){return function(a,l,u){return this.request(Lf(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}jl.prototype[e]=i(),jl.prototype[e+"Form"]=i(!0)});ZT.exports=jl});var UT=U((sIe,VT)=>{"use strict";var tie=nd();function Jl(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var i=this;this.promise.then(function(r){if(i._listeners){var n,a=i._listeners.length;for(n=0;n<a;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,a=new Promise(function(l){i.subscribe(l),n=l}).then(r);return a.cancel=function(){i.unsubscribe(n)},a},t(function(n){i.reason||(i.reason=new tie(n),e(i.reason))})}Jl.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Jl.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Jl.prototype.unsubscribe=function(e){if(this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};Jl.source=function(){var e,i=new Jl(function(n){e=n});return{token:i,cancel:e}};VT.exports=Jl});var zT=U((lIe,HT)=>{"use strict";HT.exports=function(e){return function(r){return e.apply(null,r)}}});var jT=U((uIe,QT)=>{"use strict";var iie=Wi();QT.exports=function(e){return iie.isObject(e)&&e.isAxiosError===!0}});var $T=U((cIe,K0)=>{"use strict";var JT=Wi(),rie=O0(),Gf=PT(),nie=J0(),oie=Df();function qT(t){var e=new Gf(t),i=rie(Gf.prototype.request,e);return JT.extend(i,Gf.prototype,e),JT.extend(i,e),i.create=function(n){return qT(nie(t,n))},i}var Nr=qT(oie);Nr.Axios=Gf;Nr.CanceledError=nd();Nr.CancelToken=UT();Nr.isCancel=Y0();Nr.VERSION=q0().version;Nr.toFormData=Z0();Nr.AxiosError=ys();Nr.Cancel=Nr.CanceledError;Nr.all=function(e){return Promise.all(e)};Nr.spread=zT();Nr.isAxiosError=jT();K0.exports=Nr;K0.exports.default=Nr});var Ur=U((dIe,KT)=>{KT.exports=$T()});var Bf,eD,tD=R(()=>{Bf=()=>new Map,eD=(t,e,i)=>{let r=t.get(e);return r===void 0&&t.set(e,r=i()),r}});var iD,rD=R(()=>{iD=()=>new Set});var nD,pIe,oD=R(()=>{nD=Array.from,pIe=Array.isArray});var ql,eI=R(()=>{tD();rD();oD();ql=class{constructor(){this._observers=Bf()}on(e,i){eD(this._observers,e,iD).add(i)}once(e,i){let r=(...n)=>{this.off(e,r),i(...n)};this.on(e,r)}off(e,i){let r=this._observers.get(e);r!==void 0&&(r.delete(i),r.size===0&&this._observers.delete(e))}emit(e,i){return nD((this._observers.get(e)||Bf()).values()).forEach(r=>r(...i))}destroy(){this._observers=Bf()}}});var uie,Mf,ad,tI,cie,aD=R(()=>{eI();uie=typeof window<"u"&&window.fetch,Mf=null,ad=async(t,e,i)=>{i.headers=i.headers||{},i.headers.Accept="application/json, text/plain, */*",i.withCredentials&&!i.hasOwnProperty("credentials")&&(delete i.withCredentials,i.credentials="include"),t.hasAuthorization()&&(i.headers.Authorization="Bearer "+Mf);let r;try{r=await uie(e,i)}catch(n){throw t.emit("error",[n]),n}if(i.responseType==="blob")r.data=await r.blob();else{let n=await r.text();try{r.data=JSON.parse(n)}catch{r.data=n}}if(r.status<200||r.status>=300)throw t.emit("rejected",[r]),r;return r},tI=class extends ql{setAuthorization=e=>{Mf=e};hasAuthorization=()=>typeof Mf=="string"&&Mf.length>0;get=(e,i={})=>(i.method="GET",ad(this,e,i));post=(e,i,r={})=>{if(r.method="POST",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return ad(this,e,r)};put=(e,i,r={})=>{if(r.method="PUT",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return ad(this,e,r)};patch=(e,i,r={})=>{if(r.method="PATCH",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return ad(this,e,r)};delete=(e,i,r={})=>{if(r.method="DELETE",i)try{r.body=typeof i=="string"?i:JSON.stringify(i),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"}catch(n){console.error(n)}return ad(this,e,r)}},cie=new tI});var sD=R(()=>{});var lD=R(()=>{Ee();sD();j()});var uD=R(()=>{});var io,sd=R(()=>{Ee();uD();j();io=({customStyle:t,className:e})=>g("div",{style:t,className:`caution-processing${e?" "+e:""}`})});var cD,kf,dD=R(()=>{Ee();cD=de(Ie());lD();sd();j();kf=class extends se{constructor(e){super(e),this.ref=Ge.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(cD.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return g("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[g("span",{className:"slide-message",children:this.props.slideMessage}),g("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),g("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?g(io,{className:"accent"}):null]})}}});var pD=R(()=>{});var iI,ld,Xf,Zf=R(()=>{Ee();iI=de(Ie());dD();sd();pD();j();ld=Ge.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null}),Xf=class extends se{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=Ge.createRef(),this.inputRef=Ge.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let i=iI.default.defaults(e,this.modalDefaults),r=new Event("openAlertModal");window.dispatchEvent(r),i.onOpen&&i.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),i.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),window.addEventListener("keydown",this.onTabKeyDown),i.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...i},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),i.frontendData&&i.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let i=iI.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current)this.state.onConfirm&&this.state.onConfirm(this.inputRef.current.value);else{let i={};i.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(i)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventCancel||this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let i=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&i&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",i=this.state.denyButton||"Cancel",r=this.state.header&&g("div",{className:"header",children:this.state.header}),n=this.state.message&&g("div",{className:"sub-message",children:this.state.message}),a=this.state.htmlHeader&&g("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),l=this.state.htmlMessage&&g("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),u=this.state.placeholder?this.state.placeholder:"",c=this.state.existingValue?this.state.existingValue:"",d=this.state.confirmButton!==!1&&g("button",{className:"confirm rounded",onClick:_=>this.confirmModal(_,null),children:[e,this.state.processConfirm?g(io,{className:"default-border-radius"}):""]}),f=!this.state.preventCancel&&g("button",{className:"deny rounded",onClick:this.denyModal,children:i}),m=this.state.children&&!this.state.wrapperlessChildren?g("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,b=()=>g(oe,{children:[g("div",{className:"message",children:[r,n]}),g("div",{className:"opt-buttons",children:[f,d]})]}),C=()=>g(oe,{children:[g("div",{className:"message",children:[r,n,a,l]}),g("div",{className:"input"}),g("div",{className:"buttons",children:d})]}),S=()=>g(oe,{children:[g("div",{className:"message",children:[r,a,n,l]}),m,g("div",{className:"input"}),g("div",{className:"buttons",children:[f,d]})]}),A=()=>g(oe,{children:[g("div",{className:"message",children:[r,n]}),g("div",{className:"input",children:this.state.maxInputLength?g("input",{type:"text",maxLength:this.state.maxInputLength,placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef}):g("input",{type:"text",placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef})}),g("div",{className:"buttons",children:[g("button",{className:"deny rounded",onClick:this.denyModal,children:"Cancel"}),g("button",{className:"confirm rounded",onClick:_=>this.confirmModal(_,null),children:"OK"})]})]}),F=()=>g(oe,{children:[g("div",{className:"message",children:[r,n]}),this.state.checkBoxConfirmation?g("div",{className:"footer",children:g("label",{onClick:_=>{_.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,g("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,g("div",{className:"buttons",children:[this.state.cancelButton?g("button",{className:"deny rounded",onClick:this.cancelModal,children:"Cancel"}):null,g("button",{className:"deny rounded",onClick:this.denyModal,children:this.state.denyButton}),g("button",{className:"confirm rounded",onClick:_=>this.confirmModal(_,null),children:this.state.confirmButton})]})]});return g(ld.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal},children:[this.state.modalOpen?g(oe,{children:[this.state.HotKeyProxy?g(oe,{children:[this.state.type!=="slide-confirm"&&this.state.HotKeyProxy("enter","all",this.confirmModal),this.state.HotKeyProxy("escape","all",this.cancelModal)]}):null,g("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancel||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:this.state.customElement?this.state.customElement:g("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[this.state.type==="alert"&&g(b,{}),this.state.type==="notice"&&g(C,{}),this.state.type==="confirm"&&g(S,{}),this.state.type==="dialog"&&g(A,{}),this.state.type==="publish"&&g(F,{}),this.state.type==="custom"&&g(oe,{children:[g("div",{className:"message",children:[r,n]}),m]}),this.state.type==="slide-confirm"&&g(oe,{children:[g("div",{className:"message",children:[r,n,a,l,m]}),g("div",{className:"buttons",children:[g("br",{}),g("br",{}),g("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),g(kf,{onConfirm:_=>this.confirmModal(_,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]})})]}):null,this.props.children]})}}});var QIe,rI=R(()=>{Ee();QIe=de(Ie());lt();Zf();Pe();j()});var hD=R(()=>{Ee();Ee();Pe();vv();j()});var dye,pye,hye,fD=R(()=>{dye=Object.freeze({New:0,Published:1,Draft:2,Deleted:3}),pye=Object.freeze({Error:-1,Publishing:0,Published:1,Draft:2,Discarding:3,Discarded:4,SavingAs:5}),hye=Object.freeze({Undoable:0,Publishable:1,NotUndoable:2,NotPublishable:3,NotUndoableNotPublishable:4})});var Pf=R(()=>{Ee();Ee();Pe();fD();j()});var pie,mD=R(()=>{Ee();pie=de(Ie());Pe();rI();hD();Pf();j()});var hie,bD=R(()=>{Ee();oi();hie=de(Ie());j()});var nI=R(()=>{Ee();j()});var bie,vie,vD=R(()=>{Ee();lt();uf();Ff();Pe();bie=de(Ur());aD();vie=de(Ie());Pe();rI();mD();bD();Pf();nI();sd();j()});var ID=R(()=>{});var Iie,yD=R(()=>{Ee();Iie=de(Ie());ID();j()});var CD=R(()=>{vD();yD()});var AD=R(()=>{Ee();j()});var wD=R(()=>{Ee();j()});var yie,xD=R(()=>{yie=de(Ie())});var SD=R(()=>{Pe();Ee();j()});var RD=R(()=>{});var Cie,ED=R(()=>{Ee();Cie=de(Ie());Pf();AD();nI();Zf();wD();uf();Ff();xD();SD();RD();j()});var FD=R(()=>{ED()});var aI={};jt(aI,{default:()=>Aie});var oI,Aie,ND=R(()=>{oi();oI={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};oI.defaults=Tt(oI.options);Aie=oI});var sI={};jt(sI,{default:()=>wie});var Uf,wie,_D=R(()=>{oi();Uf={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};Uf.defaults=Tt(Uf.options);Uf.customShuffle=t=>{let e={...t},i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:i=r=n=0;break;case 1:i=r=n=255;break;case 2:case 3:i=r=n;break}e["color-one"]="rgb("+i+", "+r+", "+n+")";let l=[];if(Math.random()>.3)for(var u=0;u<3;u++)l.push(Math.random()*240+-120);else l[0]=l[1]=l[2]=Math.random()*240+-120;let c=Math.floor(i+l[0]+1024)%256,d=Math.floor(r+l[1]+1024)%256,f=Math.floor(n+l[2]+1024)%256;e["color-two"]="rgb("+c+", "+d+", "+f+")";let m=Math.floor((i+l[0]+1024)*2)%256,b=Math.floor((r+l[1]+1024)*2)%256,C=Math.floor((n+l[2]+1024)*2)%256;return e["color-three"]="rgb("+m+", "+b+", "+C+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};wie=Uf});var uI={};jt(uI,{default:()=>Sie,onChangeCustom:()=>xie});var cAe,xie,lI,Sie,WD=R(()=>{oi();cAe=de(Ie()),xie=(t,e,i)=>{let r={};for(let[a,l]of Object.entries(e))t[a]!=l&&(r[a]=l);let n=JSON.parse(e.filters);for(let[a,l]of Object.entries(r))switch(a){case"filters":i.UpdateFilters(n);break;case"rgb":case"film":case"badtv":i.ToggleComponent(n);break;case"image":i.UpdateImage(l);break;default:i.UpdateSettings(e)}},lI={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};lI.defaults=Tt(lI.options);Sie=lI});function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Ne(t,e){if(t=t||"",e=e||{},t instanceof Ne)return t;if(!(this instanceof Ne))return new Ne(t,e);var i=Fie(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function Fie(t){var e={r:0,g:0,b:0},i=1,r=null,n=null,a=null,l=!1,u=!1;return typeof t=="string"&&(t=Qie(t)),Hf(t)=="object"&&(Ho(t.r)&&Ho(t.g)&&Ho(t.b)?(e=Nie(t.r,t.g,t.b),l=!0,u=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ho(t.h)&&Ho(t.s)&&Ho(t.v)?(r=ud(t.s),n=ud(t.v),e=Wie(t.h,r,n),l=!0,u="hsv"):Ho(t.h)&&Ho(t.s)&&Ho(t.l)&&(r=ud(t.s),a=ud(t.l),e=_ie(t.h,r,a),l=!0,u="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=MD(i),{ok:l,format:t.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function Nie(t,e,i){return{r:Jt(t,255)*255,g:Jt(e,255)*255,b:Jt(i,255)*255}}function OD(t,e,i){t=Jt(t,255),e=Jt(e,255),i=Jt(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),a,l,u=(r+n)/2;if(r==n)a=l=0;else{var c=r-n;switch(l=u>.5?c/(2-r-n):c/(r+n),r){case t:a=(e-i)/c+(e<i?6:0);break;case e:a=(i-t)/c+2;break;case i:a=(t-e)/c+4;break}a/=6}return{h:a,s:l,l:u}}function _ie(t,e,i){var r,n,a;t=Jt(t,360),e=Jt(e,100),i=Jt(i,100);function l(d,f,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?d+(f-d)*6*m:m<1/2?f:m<2/3?d+(f-d)*(2/3-m)*6:d}if(e===0)r=n=a=i;else{var u=i<.5?i*(1+e):i+e-i*e,c=2*i-u;r=l(c,u,t+1/3),n=l(c,u,t),a=l(c,u,t-1/3)}return{r:r*255,g:n*255,b:a*255}}function TD(t,e,i){t=Jt(t,255),e=Jt(e,255),i=Jt(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),a,l,u=r,c=r-n;if(l=r===0?0:c/r,r==n)a=0;else{switch(r){case t:a=(e-i)/c+(e<i?6:0);break;case e:a=(i-t)/c+2;break;case i:a=(t-e)/c+4;break}a/=6}return{h:a,s:l,v:u}}function Wie(t,e,i){t=Jt(t,360)*6,e=Jt(e,100),i=Jt(i,100);var r=Math.floor(t),n=t-r,a=i*(1-e),l=i*(1-n*e),u=i*(1-(1-n)*e),c=r%6,d=[i,l,a,a,u,i][c],f=[u,i,i,l,a,a][c],m=[a,a,u,i,i,l][c];return{r:d*255,g:f*255,b:m*255}}function DD(t,e,i,r){var n=[Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function Oie(t,e,i,r,n){var a=[Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(i).toString(16)),Bn(kD(r))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function LD(t,e,i,r){var n=[Bn(kD(r)),Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(i).toString(16))];return n.join("")}function Tie(t,e){e=e===0?0:e||10;var i=Ne(t).toHsl();return i.s-=e/100,i.s=zf(i.s),Ne(i)}function Die(t,e){e=e===0?0:e||10;var i=Ne(t).toHsl();return i.s+=e/100,i.s=zf(i.s),Ne(i)}function Lie(t){return Ne(t).desaturate(100)}function Gie(t,e){e=e===0?0:e||10;var i=Ne(t).toHsl();return i.l+=e/100,i.l=zf(i.l),Ne(i)}function Bie(t,e){e=e===0?0:e||10;var i=Ne(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Ne(i)}function Mie(t,e){e=e===0?0:e||10;var i=Ne(t).toHsl();return i.l-=e/100,i.l=zf(i.l),Ne(i)}function kie(t,e){var i=Ne(t).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Ne(i)}function Xie(t){var e=Ne(t).toHsl();return e.h=(e.h+180)%360,Ne(e)}function GD(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Ne(t).toHsl(),r=[Ne(t)],n=360/e,a=1;a<e;a++)r.push(Ne({h:(i.h+a*n)%360,s:i.s,l:i.l}));return r}function Zie(t){var e=Ne(t).toHsl(),i=e.h;return[Ne(t),Ne({h:(i+72)%360,s:e.s,l:e.l}),Ne({h:(i+216)%360,s:e.s,l:e.l})]}function Pie(t,e,i){e=e||6,i=i||30;var r=Ne(t).toHsl(),n=360/i,a=[Ne(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,a.push(Ne(r));return a}function Vie(t,e){e=e||6;for(var i=Ne(t).toHsv(),r=i.h,n=i.s,a=i.v,l=[],u=1/e;e--;)l.push(Ne({h:r,s:n,v:a})),a=(a+u)%1;return l}function Hie(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function MD(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Jt(t,e){zie(t)&&(t="100%");var i=Yie(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function zf(t){return Math.min(1,Math.max(0,t))}function Hr(t){return parseInt(t,16)}function zie(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Yie(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Bn(t){return t.length==1?"0"+t:""+t}function ud(t){return t<=1&&(t=t*100+"%"),t}function kD(t){return Math.round(parseFloat(t)*255).toString(16)}function BD(t){return Hr(t)/255}function Ho(t){return!!Gn.CSS_UNIT.exec(t)}function Qie(t){t=t.replace(Rie,"").replace(Eie,"").toLowerCase();var e=!1;if(cI[t])t=cI[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=Gn.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=Gn.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Gn.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=Gn.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Gn.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=Gn.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Gn.hex8.exec(t))?{r:Hr(i[1]),g:Hr(i[2]),b:Hr(i[3]),a:BD(i[4]),format:e?"name":"hex8"}:(i=Gn.hex6.exec(t))?{r:Hr(i[1]),g:Hr(i[2]),b:Hr(i[3]),format:e?"name":"hex"}:(i=Gn.hex4.exec(t))?{r:Hr(i[1]+""+i[1]),g:Hr(i[2]+""+i[2]),b:Hr(i[3]+""+i[3]),a:BD(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=Gn.hex3.exec(t))?{r:Hr(i[1]+""+i[1]),g:Hr(i[2]+""+i[2]),b:Hr(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function jie(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}var Rie,Eie,cI,Uie,Gn,ro=R(()=>{Rie=/^\s+/,Eie=/\s+$/;Ne.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,n,a,l,u;return i=e.r/255,r=e.g/255,n=e.b/255,i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),.2126*a+.7152*l+.0722*u},setAlpha:function(e){return this._a=MD(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=TD(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=TD(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+n+"%)":"hsva("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=OD(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=OD(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+n+"%)":"hsla("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return DD(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Oie(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Jt(this._r,255)*100)+"%",g:Math.round(Jt(this._g,255)*100)+"%",b:Math.round(Jt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Jt(this._r,255)*100)+"%, "+Math.round(Jt(this._g,255)*100)+"%, "+Math.round(Jt(this._b,255)*100)+"%)":"rgba("+Math.round(Jt(this._r,255)*100)+"%, "+Math.round(Jt(this._g,255)*100)+"%, "+Math.round(Jt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Uie[DD(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+LD(this._r,this._g,this._b,this._a),r=i,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=Ne(e);r="#"+LD(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,a=!i&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ne(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Gie,arguments)},brighten:function(){return this._applyModification(Bie,arguments)},darken:function(){return this._applyModification(Mie,arguments)},desaturate:function(){return this._applyModification(Tie,arguments)},saturate:function(){return this._applyModification(Die,arguments)},greyscale:function(){return this._applyModification(Lie,arguments)},spin:function(){return this._applyModification(kie,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(Pie,arguments)},complement:function(){return this._applyCombination(Xie,arguments)},monochromatic:function(){return this._applyCombination(Vie,arguments)},splitcomplement:function(){return this._applyCombination(Zie,arguments)},triad:function(){return this._applyCombination(GD,[3])},tetrad:function(){return this._applyCombination(GD,[4])}};Ne.fromRatio=function(t,e){if(Hf(t)=="object"){var i={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?i[r]=t[r]:i[r]=ud(t[r]));t=i}return Ne(t,e)};Ne.equals=function(t,e){return!t||!e?!1:Ne(t).toRgbString()==Ne(e).toRgbString()};Ne.random=function(){return Ne.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};Ne.mix=function(t,e,i){i=i===0?0:i||50;var r=Ne(t).toRgb(),n=Ne(e).toRgb(),a=i/100,l={r:(n.r-r.r)*a+r.r,g:(n.g-r.g)*a+r.g,b:(n.b-r.b)*a+r.b,a:(n.a-r.a)*a+r.a};return Ne(l)};Ne.readability=function(t,e){var i=Ne(t),r=Ne(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Ne.isReadable=function(t,e,i){var r=Ne.readability(t,e),n,a;switch(a=!1,n=jie(i),n.level+n.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};Ne.mostReadable=function(t,e,i){var r=null,n=0,a,l,u,c;i=i||{},l=i.includeFallbackColors,u=i.level,c=i.size;for(var d=0;d<e.length;d++)a=Ne.readability(t,e[d]),a>n&&(n=a,r=Ne(e[d]));return Ne.isReadable(t,r,{level:u,size:c})||!l?r:(i.includeFallbackColors=!1,Ne.mostReadable(t,["#fff","#000"],i))};cI=Ne.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Uie=Ne.hexNames=Hie(cI);Gn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var dI={};jt(dI,{default:()=>qie,onChangeCustom:()=>Jie});var fAe,Jie,cd,qie,XD=R(()=>{oi();fAe=de(Ie());ro();Jie=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);r.hasOwnProperty("color_r")&&(i.Update("color_r",r.color_r),delete r.color_r),r.hasOwnProperty("color_g")&&(i.Update("color_g",r.color_g),delete r.color_g),r.hasOwnProperty("color_b")&&(i.Update("color_b",r.color_b),delete r.color_b);for(let[n,a]of Object.entries(r))i.Update(n,a)},cd={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};cd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}if(e.background_color){let i=Ne(e.background_color),r=i.toRgb();e.color_r=r.r,e.color_g=r.g,e.color_b=r.b,e.alpha=r.a,e.hex_color=i.toHexString()}return e};cd.defaults=Tt(cd.options);cd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";qie=cd});var pI={};jt(pI,{default:()=>Kie,onChangeCustom:()=>$ie});var vAe,$ie,$l,Kie,ZD=R(()=>{oi();vAe=de(Ie());ro();$ie=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},$l={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};$l.defaults=Tt($l.options);$l.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";$l.defaults.rgb={value:"rgb(255,255,255)"};$l.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let i=Ne(e.color);e.rgb=i.toRgbString(),e.color=i.toRgbString(),e.alpha=i.getAlpha()}return e};Kie=$l});var hI={};jt(hI,{default:()=>tre,onChangeCustom:()=>ere});var AAe,ere,Kl,tre,PD=R(()=>{oi();AAe=de(Ie());ro();ere=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},Kl={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};Kl.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Kl.defaults=Tt(Kl.options);Kl.defaults.alpha={value:0};Kl.defaults.hex={value:"#fff"};tre=Kl});var fI={};jt(fI,{default:()=>rre,onChangeCustom:()=>ire});var RAe,ire,eu,rre,VD=R(()=>{oi();RAe=de(Ie());ro();ire=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},eu={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};eu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};eu.defaults=Tt(eu.options);eu.defaults.alpha={value:0};eu.defaults.hex={value:"#000000"};rre=eu});var gI={};jt(gI,{default:()=>ore,onChangeCustom:()=>nre});var _Ae,nre,Cs,ore,UD=R(()=>{oi();_Ae=de(Ie());ro();nre=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},Cs={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};Cs.defaults=Tt(Cs.options);Cs.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Cs.defaults.rgb={value:"rgb(255,255,255)"};Cs.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Cs.customShuffle=t=>(Math.random()>.5&&(t.zoom=100),t);ore=Cs});var mI={};jt(mI,{default:()=>sre,onChangeCustom:()=>are});var DAe,are,dd,sre,HD=R(()=>{oi();DAe=de(Ie());ro();are=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r)){let l=!0;if(n==="image"&&(a!==void 0&&a?i.obj.loadImage(a):l=!1),n!==void 0&&l===!0){let u={};u[n]=a,i.Update(n,a),i.obj.updateSettings(u)}}},dd={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};dd.transformChanges=(t,e)=>{if(e.color){let i=Ne(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};dd.defaults=Tt(dd.options);dd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";sre=dd});var bI={};jt(bI,{default:()=>ure,onChangeCustom:()=>lre});var MAe,lre,pd,ure,zD=R(()=>{oi();MAe=de(Ie());ro();lre=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},pd={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};pd.defaults=Tt(pd.options);pd.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";pd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}return e};ure=pd});var vI={};jt(vI,{default:()=>dre,onChangeCustom:()=>cre});var PAe,cre,hd,dre,YD=R(()=>{oi();PAe=de(Ie());ro();cre=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},hd={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};hd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};hd.defaults=Tt(hd.options);hd.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";dre=hd});var II={};jt(II,{default:()=>hre,onChangeCustom:()=>pre});var zAe,pre,Yf,hre,QD=R(()=>{oi();zAe=de(Ie()),pre=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);for(let[n,a]of Object.entries(r))i.Update(n,a)},Yf={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};Yf.defaults=Tt(Yf.options);Yf.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";hre=Yf});var yI={};jt(yI,{default:()=>gre,onChangeCustom:()=>fre});var jAe,fre,tu,gre,jD=R(()=>{oi();jAe=de(Ie());ro();fre=(t,e,i)=>{let r={};for(let[a,l]of Object.entries(e))t[a]!=l&&(r[a]=l);let n=[];for(let[a,l]of Object.entries(r))i.Update(a,l)},tu={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};tu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Ne(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};tu.customShuffle=t=>{switch(t.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:t.black=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 1:t.cyan=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 2:t.yellow=!0,t.y_opacity=Math.max(100,t.y_opacity),t.black=!0,t.c_opacity=Math.max(50,t.c_opacity);break;case 3:t.magenta=!0,t.m_opacity=Math.max(75,t.m_opacity);break}return t};tu.defaults=Tt(tu.options);tu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";gre=tu});var CI={};jt(CI,{default:()=>bre,onChangeCustom:()=>mre});var KAe,JD,mre,fd,bre,qD=R(()=>{oi();KAe=de(Ie()),JD={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},mre=(t,e,i)=>{let r={};for(let[n,a]of Object.entries(e))t[n]!=a&&(r[n]=a);r.hasOwnProperty("color")&&r?.color===null&&(r.color="rgba(0,0,0,0)");for(let[n,a]of Object.entries(r))i.Update(n,a)},fd={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};fd.transformChanges=(t,e)=>(e.preset_pattern&&(JD[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...JD[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);fd.defaults=Tt(fd.options);fd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";bre=fd});var _a={};jt(_a,{badtv:()=>uI,gradient:()=>sI,halftone:()=>yI,kaleidoscope:()=>mI,morphovision:()=>vI,parallax:()=>dI,pixelation:()=>gI,polygon_engine:()=>bI,refraction:()=>pI,ripple:()=>hI,slitscan:()=>fI,video:()=>CI,wallpaper:()=>aI,wave:()=>II});var $D=R(()=>{ND();_D();WD();XD();ZD();PD();VD();UD();HD();zD();YD();QD();jD();qD()});var gd,AI,Na,Pt,Vf,As,wI=R(()=>{gd="cargo.site",AI="wss://w.s.cargo.site",Na="https://u.cargo.site",Pt="https://api.cargo.site/v1",Vf="https://cargo.site/_api",As="https://cargo.site";switch("production"){case"localhost":case"local-ssr":gd="local.dev.cargo.site",AI="wss://ws.dev.cargo.site",Na="https://u.local.dev.cargo.site",Pt="https://api.dev.cargo.site/v1",Vf="https://dev.cargo.site/_api",As="https://dev.cargo.site";break;case"local-crdt":gd="local.dev.cargo.site",AI="wss://ws.local.dev.cargo.site:4443",Na="https://u.local.dev.cargo.site",Pt="https://api.dev.cargo.site/v1",Vf="https://dev.cargo.site/_api",As="https://dev.cargo.site";break;case"dev":gd="dev.cargo.site",AI="wss://ws.dev.cargo.site",Na="https://u.dev.cargo.site",Pt="https://api.dev.cargo.site/v1",Vf="https://dev.cargo.site/_api",As="https://dev.cargo.site";break}});var KD=R(()=>{});var eL,tL,xI,iL,rL=R(()=>{Ee();lt();ai();wI();sd();KD();j();eL=0,tL=null;typeof window<"u"&&window.__ACCESS_TOKEN_NONCE__&&(tL=window.__ACCESS_TOKEN_NONCE__,delete window.__ACCESS_TOKEN_NONCE__);xI=class extends se{constructor(e){super(e),this.state={error:null,loading:!1,checkingCookieAuth:!0,formView:e.canCreateNewAccount?"newAcct":"login",resetEmail:null,prevFormState:null},this.containerRef=Ge.createRef();let i=new URLSearchParams(window.location.search),r=i.get("t");if(i.has("t")){i.delete("t");let n=i.toString();n.length>0&&(n="?"+n),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+n)}if(this.props.loginToUdotCargoOnly){this.state.checkingCookieAuth=!1;return}if(eL>=1){this.state.checkingCookieAuth=!1;return}if(r==="")this.state.checkingCookieAuth=!1;else{let n=!1;this.props.domain_active&&r===null&&(n=!0);let a={timeout:3e3,jwt:r,bounce:n,nonce:tL};this.props.site_url&&(a.site_url=this.props.site_url),this.props.site_id&&(a.site_id=this.props.site_id),this.props.getAuthToken(a).catch(l=>{console.log("Failed to fetch auth token.")}).finally(()=>{eL++,!n&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingCookieAuth:!1})})})}}render(){return this.state.checkingCookieAuth||this.props.cookieAuthOnly?null:g("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:e=>{if(this.props.canClickout&&!e.target.closest(".login-modal")){let i=new CustomEvent("remove-login-form");document.dispatchEvent(i),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:g("div",{className:"login-modal custom login-frame",children:[g("div",{className:"login-header",children:[g("div",{className:"logo-box",children:g("div",{className:"logo",children:g("svg",{width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.521458 11.5988H4.49769C4.90909 11.5988 5.2426 11.9403 5.2426 12.3615C5.2426 12.4348 5.23229 12.5076 5.212 12.5779L3.26311 19.3227C3.21643 19.4842 3.3065 19.6539 3.46431 19.7017C3.58148 19.7372 3.70795 19.6959 3.78333 19.5974L11.8889 9.01082C12.0666 8.77877 12.0269 8.44319 11.8002 8.26129C11.7084 8.18761 11.5952 8.14758 11.4785 8.14758H7.64746C7.23606 8.14758 6.90255 7.80611 6.90255 7.3849C6.90255 7.31158 6.91287 7.23865 6.9332 7.16835L8.89307 0.391703C8.93979 0.23015 8.84976 0.0604064 8.69197 0.0125694C8.57559 -0.0227134 8.44994 0.0178057 8.37431 0.115005L0.113608 10.7323C-0.065826 10.9629 -0.0286851 11.2988 0.196564 11.4825C0.288885 11.5578 0.403425 11.5988 0.521458 11.5988Z",fill:"black"})})})}),g("div",{className:"title",children:this.state.formView==="newAcct"?"Login or Sign Up":this.state.formView==="login"?"Login":"Reset Password"})]}),this.state.loading&&"",this.state.formView==="newAcct"?g("form",{children:[g("div",{className:"input-fields",children:[g("div",{className:"text-input bars",children:g("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&g("div",{className:"error",style:{color:"red"},children:[g("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.login(i)},children:[this.state.loading&&g(io,{className:"accent default-border-radius"}),"OK"]}),g("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"newAcct"})},children:"Forgot?"})]})]}):null,this.state.formView==="login"?g("form",{children:[g("div",{className:"input-fields",children:[g("div",{className:"text-input bars",children:g("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&g("div",{className:"error",style:{color:"red"},children:[g("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.login(i)},children:[this.state.loading&&g(io,{className:"accent default-border-radius"}),"OK"]}),g("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})]})]}):null,this.state.formView==="forgot"?g(oe,{children:g("form",{children:[g("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),g("div",{className:"input-fields",children:[g("div",{className:"text-input bars",children:g("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&g("div",{className:"error",style:{color:"red"},children:[g("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.forgot(i)},children:[this.state.loading&&g(io,{className:"accent default-border-radius"}),"Submit"]}),g("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?g(oe,{children:g("form",{children:[g("div",{className:"enter-email",children:[this.state.resetEmail?g(oe,{children:["We\u2019ve sent a reset code to ",g("br",{}),this.state.resetEmail]}):g(oe,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),g("div",{className:"input-fields",children:[g("div",{className:"text-input bars",children:g("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password",autocomplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),g("div",{className:"text-input bars",children:g("input",{type:"password",name:"password_reset_confirm",autocomplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&g("div",{className:"error",style:{color:"red"},children:[g("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),g("div",{className:"login-options",children:[g("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault();let i=new FormData(this.containerRef.current.querySelector("form")),r=this.validateForm(i);r&&(this.setState({error:null,loading:!0}),this.forgot(i)),r||this.setState({loading:!1})},children:[this.state.loading&&g(io,{className:"accent default-border-radius"}),"OK"]}),g("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null]})})}login=e=>{let r=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),a=As==="https://cargo.site"?1597765:1123779;if(n){let l=n.templates.sites;if(l.length>0){let u=l.length-1,c=Math.floor(Math.random()*u),d=l[c];d&&(a=d?.id?d.id:a)}}e.append("site_id",a)}fetch(As+r,{method:"post",body:e,credentials:"include"}).then(async n=>{let a=await n.json(),{access_token:l,id:u,bounce_jwt:c}=a.jdata||{};l&&u?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(l,u),this.props.domain_active&&c?this.props.getAuthToken({reverse_bounce_jwt:c}).then(()=>{this.props.onLoginSuccess?.(a.jdata)}):this.props.onLoginSuccess?.(a.jdata)):this.setState({error:a?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch(As+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async i=>{let r=await i.json();if(r.error&&r.error?.[0]?.length>0)this.setState({error:r.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(i=>{console.log(i),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateForm(e){var i=e.get("pwreset").trim(),r=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return i==""?(this.setState({error:"Reset code cannot be empty."}),!1):r==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):r!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer()};componentDidUpdate=()=>{this.animateContainer()};animateContainer=()=>{this.props.animateIn===!1?setTimeout(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&setTimeout(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})}},iL=ke(t=>({site_url:t.site?.site_url,site_id:t.site?.id,domain_active:t.site?.domain_active}),(t,e)=>wt({getAuthToken:e.getAuthTokenAction,setAuthData:(i,r)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:i,id:r}}})},t))(xI)});var Pe=R(()=>{vS();yS();xS();_S();vv();CD();FD();Ff();oi();$D();wI();rL()});var SI=U(Mn=>{"use strict";Mn.__esModule=!0;Mn.createDynamicMiddlewares=Mn.resetMiddlewares=Mn.removeMiddleware=Mn.addMiddleware=void 0;var vre=(ai(),oc(XS)),nL=function(){var e=[],i=[],r=void 0,n=function(d){return r=d,function(f){return function(m){return vre.compose.apply(void 0,i)(f)(m)}}},a=function(){for(var d,f,m=arguments.length,b=Array(m),C=0;C<m;C++)b[C]=arguments[C];(d=i).push.apply(d,b.map(function(S){return S(r)})),(f=e).push.apply(f,b)},l=function(d){var f=e.findIndex(function(m){return m===d});if(f===-1){console.error("Middleware does not exist!",d);return}e=e.filter(function(m,b){return b!==f}),i=i.filter(function(m,b){return b!==f})},u=function(){i=[],e=[]};return{enhancer:n,addMiddleware:a,removeMiddleware:l,resetMiddlewares:u}},Qf=nL();Mn.default=Qf.enhancer;var Ire=Qf.addMiddleware,yre=Qf.removeMiddleware,Cre=Qf.resetMiddlewares;Mn.addMiddleware=Ire;Mn.removeMiddleware=yre;Mn.resetMiddlewares=Cre;Mn.createDynamicMiddlewares=nL});function oL(t){var e=function(r){var n=r.dispatch,a=r.getState;return function(l){return function(u){return typeof u=="function"?u(n,a,t):l(u)}}};return e}var aL,sL,lL=R(()=>{aL=oL();aL.withExtraArgument=oL;sL=aL});var RI=U((S1e,uL)=>{var Are=Sf(),wre=Bl();function xre(t,e,i){(i!==void 0&&!wre(t[e],i)||i===void 0&&!(e in t))&&Are(t,e,i)}uL.exports=xre});var dL=U((R1e,cL)=>{function Sre(t){return function(e,i,r){for(var n=-1,a=Object(e),l=r(e),u=l.length;u--;){var c=l[t?u:++n];if(i(a[c],c,a)===!1)break}return e}}cL.exports=Sre});var hL=U((E1e,pL)=>{var Rre=dL(),Ere=Rre();pL.exports=Ere});var vL=U((md,iu)=>{var Fre=Dn(),bL=typeof md=="object"&&md&&!md.nodeType&&md,fL=bL&&typeof iu=="object"&&iu&&!iu.nodeType&&iu,Nre=fL&&fL.exports===bL,gL=Nre?Fre.Buffer:void 0,mL=gL?gL.allocUnsafe:void 0;function _re(t,e){if(e)return t.slice();var i=t.length,r=mL?mL(i):new t.constructor(i);return t.copy(r),r}iu.exports=_re});var CL=U((F1e,yL)=>{var IL=a0();function Wre(t){var e=new t.constructor(t.byteLength);return new IL(e).set(new IL(t)),e}yL.exports=Wre});var wL=U((N1e,AL)=>{var Ore=CL();function Tre(t,e){var i=e?Ore(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}AL.exports=Tre});var SL=U((_1e,xL)=>{function Dre(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}xL.exports=Dre});var FL=U((W1e,EL)=>{var Lre=eo(),RL=Object.create,Gre=function(){function t(){}return function(e){if(!Lre(e))return{};if(RL)return RL(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();EL.exports=Gre});var _L=U((O1e,NL)=>{var Bre=FL(),Mre=Rf(),kre=If();function Xre(t){return typeof t.constructor=="function"&&!kre(t)?Bre(Mre(t)):{}}NL.exports=Xre});var OL=U((T1e,WL)=>{var Zre=id(),Pre=Ea();function Vre(t){return Pre(t)&&Zre(t)}WL.exports=Vre});var LL=U((D1e,DL)=>{var Ure=bs(),Hre=Rf(),zre=Ea(),Yre="[object Object]",Qre=Function.prototype,jre=Object.prototype,TL=Qre.toString,Jre=jre.hasOwnProperty,qre=TL.call(Object);function $re(t){if(!zre(t)||Ure(t)!=Yre)return!1;var e=Hre(t);if(e===null)return!0;var i=Jre.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&TL.call(i)==qre}DL.exports=$re});var EI=U((L1e,GL)=>{function Kre(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}GL.exports=Kre});var ML=U((G1e,BL)=>{var ene=N0(),tne=Sf();function ine(t,e,i,r){var n=!i;i||(i={});for(var a=-1,l=e.length;++a<l;){var u=e[a],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?tne(i,u,c):ene(i,u,c)}return i}BL.exports=ine});var XL=U((B1e,kL)=>{var rne=ML(),nne=Ef();function one(t){return rne(t,nne(t))}kL.exports=one});var zL=U((M1e,HL)=>{var ZL=RI(),ane=vL(),sne=wL(),lne=SL(),une=_L(),PL=gf(),VL=to(),cne=OL(),dne=mf(),pne=cf(),hne=eo(),fne=LL(),gne=vf(),UL=EI(),mne=XL();function bne(t,e,i,r,n,a,l){var u=UL(t,i),c=UL(e,i),d=l.get(c);if(d){ZL(t,i,d);return}var f=a?a(u,c,i+"",t,e,l):void 0,m=f===void 0;if(m){var b=VL(c),C=!b&&dne(c),S=!b&&!C&&gne(c);f=c,b||C||S?VL(u)?f=u:cne(u)?f=lne(u):C?(m=!1,f=ane(c,!0)):S?(m=!1,f=sne(c,!0)):f=[]:fne(c)||PL(c)?(f=u,PL(u)?f=mne(u):(!hne(u)||pne(u))&&(f=une(c))):m=!1}m&&(l.set(c,f),n(f,c,r,a,l),l.delete(c)),ZL(t,i,f)}HL.exports=bne});var jL=U((k1e,QL)=>{var vne=hf(),Ine=RI(),yne=hL(),Cne=zL(),Ane=eo(),wne=Ef(),xne=EI();function YL(t,e,i,r,n){t!==e&&yne(e,function(a,l){if(n||(n=new vne),Ane(a))Cne(t,e,l,i,YL,r,n);else{var u=r?r(xne(t,l),a,l+"",t,e,n):void 0;u===void 0&&(u=a),Ine(t,l,u)}},wne)}QL.exports=YL});var qL=U((X1e,JL)=>{function Sne(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}JL.exports=Sne});var eG=U((Z1e,KL)=>{var Rne=qL(),$L=Math.max;function Ene(t,e,i){return e=$L(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,a=$L(r.length-e,0),l=Array(a);++n<a;)l[n]=r[e+n];n=-1;for(var u=Array(e+1);++n<e;)u[n]=r[n];return u[e]=i(l),Rne(t,this,u)}}KL.exports=Ene});var iG=U((P1e,tG)=>{function Fne(t){return function(){return t}}tG.exports=Fne});var oG=U((V1e,nG)=>{var Nne=iG(),rG=F0(),_ne=xf(),Wne=rG?function(t,e){return rG(t,"toString",{configurable:!0,enumerable:!1,value:Nne(e),writable:!0})}:_ne;nG.exports=Wne});var sG=U((U1e,aG)=>{var One=800,Tne=16,Dne=Date.now;function Lne(t){var e=0,i=0;return function(){var r=Dne(),n=Tne-(r-i);if(i=r,n>0){if(++e>=One)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}aG.exports=Lne});var uG=U((H1e,lG)=>{var Gne=oG(),Bne=sG(),Mne=Bne(Gne);lG.exports=Mne});var dG=U((z1e,cG)=>{var kne=xf(),Xne=eG(),Zne=uG();function Pne(t,e){return Zne(Xne(t,e,kne),t+"")}cG.exports=Pne});var hG=U((Y1e,pG)=>{var Vne=Bl(),Une=id(),Hne=Kc(),zne=eo();function Yne(t,e,i){if(!zne(i))return!1;var r=typeof e;return(r=="number"?Une(i)&&Hne(e,i.length):r=="string"&&e in i)?Vne(i[e],t):!1}pG.exports=Yne});var gG=U((Q1e,fG)=>{var Qne=dG(),jne=hG();function Jne(t){return Qne(function(e,i){var r=-1,n=i.length,a=n>1?i[n-1]:void 0,l=n>2?i[2]:void 0;for(a=t.length>3&&typeof a=="function"?(n--,a):void 0,l&&jne(i[0],i[1],l)&&(a=n<3?void 0:a,n=1),e=Object(e);++r<n;){var u=i[r];u&&t(e,u,r,a)}return e})}fG.exports=Jne});var bG=U((j1e,mG)=>{var qne=jL(),$ne=gG(),Kne=$ne(function(t,e,i){qne(t,e,i)});mG.exports=Kne});function ws(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var FI=R(()=>{});function NI(t={}){let e=t.promiseTypeSuffixes||eoe,i=t.promiseTypeDelimiter||"_";return r=>{let{dispatch:n}=r;return a=>l=>{let u,c;if(l.payload){let _=l.payload;if(ws(_))u=_;else if(ws(_.promise))u=_.promise,c=_.data;else if(typeof _=="function"||typeof _.promise=="function"){if(u=_.promise?_.promise():_(),c=_.promise?_.data:void 0,!ws(u))return a({...l,payload:u})}else return a(l)}else return a(l);let d=l.type,f=l.meta,[m,b,C]=e,S=(_,X)=>({type:[d,X?C:b].join(i),..._===null||typeof _>"u"?{}:{payload:_},...f!==void 0?{meta:f}:{},...X?{error:!0}:{}}),A=_=>{let X=S(_,!0);n(X)},F=(_=null)=>{let X=S(_,!1);return n(X),{value:_,action:X}};return a({type:[d,m].join(i),...c!==void 0?{payload:c}:{},...f!==void 0?{meta:f}:{}}),u.then(F,A).catch(_=>{if(H.isServer&&_.response)console.error("Request to",_.response.config.url,"failed with code",_.response.status);else{if(_&&_.response&&_.response.status===401){console.warn("No auth for request to",_.response.config.url);return}console.error(_)}}),u}}}var jf,Jf,qf,eoe,_I=R(()=>{FI();Pe();jf="PENDING",Jf="FULFILLED",qf="REJECTED",eoe=[jf,Jf,qf]});function toe(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:$f},put:function(r,n){e={key:r,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function ioe(t,e){var i=[];function r(u){var c=i.findIndex(function(f){return e(u,f.key)});if(c>-1){var d=i[c];return c>0&&(i.splice(c,1),i.unshift(d)),d.value}return $f}function n(u,c){r(u)===$f&&(i.unshift({key:u,value:c}),i.length>t&&i.pop())}function a(){return i}function l(){i=[]}return{get:r,put:n,getEntries:a,clear:l}}function roe(t){return function(i,r){if(i===null||r===null||i.length!==r.length)return!1;for(var n=i.length,a=0;a<n;a++)if(!t(i[a],r[a]))return!1;return!0}}function IG(t,e){var i=typeof e=="object"?e:{equalityCheck:e},r=i.equalityCheck,n=r===void 0?vG:r,a=i.maxSize,l=a===void 0?1:a,u=i.resultEqualityCheck,c=roe(n),d=l===1?toe(c):ioe(l,c);function f(){var m=d.get(arguments);if(m===$f){if(m=t.apply(null,arguments),u){var b=d.getEntries(),C=b.find(function(S){return u(S.value,m)});C&&(m=C.value)}d.put(arguments,m)}return m}return f.clearCache=function(){return d.clear()},f}var $f,vG,yG=R(()=>{$f="NOT_FOUND";vG=function(e,i){return e===i}});function noe(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var i=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return e}function WI(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var n=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=0,f,m={memoizeOptions:void 0},b=u.pop();if(typeof b=="object"&&(m=b,b=u.pop()),typeof b!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof b+"]");var C=m,S=C.memoizeOptions,A=S===void 0?i:S,F=Array.isArray(A)?A:[A],_=noe(u),X=t.apply(void 0,[function(){return d++,b.apply(null,arguments)}].concat(F)),k=t(function(){for(var G=[],V=_.length,te=0;te<V;te++)G.push(_[te].apply(null,arguments));return f=X.apply(null,G),f});return Object.assign(k,{resultFunc:b,memoizedResultFunc:X,dependencies:_,lastResult:function(){return f},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),k};return n}var CG,AG=R(()=>{yG();CG=WI(IG)});var OI={};jt(OI,{ADMIN_FRAME:()=>Ce,CRDTState:()=>Vt,FRONTEND_DATA:()=>Kf});var Ce,Kf,Vt,Lt=R(()=>{Ce={adminWindow:null},Kf={},Vt=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var fi,it,gi,at,xi=R(()=>{AG();fi=de(Ie(),1);Pe();Lt();it={};H.isServer?gi=WI(t=>t):gi=function(){return CG.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};it.getItemParentId=(t,e)=>it.flatByParentList(t)[e];it.getHomepageId=t=>t.frontendState.isMobile?t.site?.mobile_homepage_id:t.site?.homepage_id;it.getHiddenHomepageId=t=>{let e=t.site?.mobile_homepage_id,i=t.site?.homepage_id;return e===i?null:t.frontendState.isMobile?i:e};it.getHomepagePurl=t=>t.frontendState.isMobile?t.site?.mobile_homepage_purl:t.site?.homepage_purl;it.flatByParentList=gi(t=>t.structure.byParent,t=>{let e={};for(let i in t)for(let r in t[i])e[t[i][r]]=i;return e});it.getSetsByParent=gi(t=>t.structure.byParent,t=>t.sets.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});it.getPagesByParent=gi(t=>t.structure.byParent,t=>t.pages.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});it.getParentSetList=gi(it.getItemParentId,it.flatByParentList,(t,e)=>{let i=[];for(;t;)i.push(t),t=t!==e[t]?e[t]:null;return i});it.getSetContents=gi((t,e)=>e,it.getHomepageId,(t,e,i)=>i,(t,e,i)=>t.structure.bySort,(t,e)=>t.structure.byParent[e],t=>t.pages.byId,t=>t.sets.byId,(t,e,i={},r,n=[],a,l)=>{let u;return fi.default.without(n.map(c=>{if(u=a[c]||l[c],i.includeNotIndexable===!0||u&&(u.id===e||H.contentIsIndexable(u)))return u}).sort((c,d)=>r[c.id]-r[d.id]),void 0)});it.getSetContentsByIndex=gi(it.getSetContents,(t,e,i)=>t.structure.indexById,(t,e)=>t.reduce((i,r)=>(i[e[r.id]]=r,i),{}));it.getSetDepthsById=gi(t=>t.sets.byId,it.flatByParentList,(t,e)=>{let i={};return Object.keys(t).forEach(r=>{let n=0,a=r;for(;e[a];)n++,a=e[a];i[r]=n}),i});it.getPinsForSet=gi(it.getParentSetList,it.getSetDepthsById,(t,e,i,r)=>e,(t,e,i,r)=>i,(t,e,i,r)=>r,(t,e,i,r)=>t.structure.bySort,(t,e,i,r)=>t.pages.byId,it.getPagesByParent,t=>t.frontendState.isMobile,t=>t.frontendState.activePID,(t,e,i,r,n,a,l={},u={},c)=>{if(!i)return[];let d=i,f=0,m={},b=[];return t.concat([i]).forEach(S=>{u[S]&&u[S].forEach(A=>{if(l[A]&&l[A].pin&&l[A].pin_options&&l[A].pin_options.position===r){if(A!==n&&(l[A].pin_options.screen_visibility==="mobile"&&!c||l[A].pin_options.screen_visibility==="desktop"&&c))return;b.push(l[A]),m[A]=l[A].pin_options.fixed?0:e[S]}})}),b.sort((S,A)=>{let F=a[S.id],_=a[A.id];return S.pin_options.fixed?F+=r==="bottom"?9e9:-9e9:S.pin_options.overlay&&(F+=r==="bottom"?9e5:-9e5),A.pin_options.fixed?_+=r==="bottom"?9e9:-9e9:A.pin_options.overlay&&(_+=r==="bottom"?9e5:-9e5),F-_}),b.sort((S,A)=>r==="bottom"?m[A.id]-m[S.id]:m[S.id]-m[A.id]),b});it.getContentById=gi((t,e)=>e,(t,e)=>t.pages.byId[e]||t.sets.byId[e],(t,e)=>e);it.getContentByPurl=gi((t,e)=>e,(t,e)=>t.pages.byId[it.getPagesByUrl(t)[e?.toLowerCase()]]||t.sets.byId[it.getSetsByUrl(t)[e?.toLowerCase()]],(t,e)=>e);it.getLoadedIndexesForSet=gi(it.getSetContents,t=>t.structure.indexById,(t,e)=>fi.default.without(t.map(i=>{if(H.contentIsIndexable(i))return e[i.id]}),void 0));it.getMissingIndexesForSet=gi((t,e)=>t.sets.byId[e],it.getLoadedIndexesForSet,(t,e)=>t?fi.default.difference([...Array(Math.max(t.page_count||0,0)).keys()],e):[]);it.getSortedListOfIndexPairs=gi(t=>t,(t,e)=>e,(t,e)=>t.sets.byId,(t,e)=>t.structure.indexById,it.getSetsByParent,(t,e,i,r,n)=>{let a=l=>{let u=it.getContentById(t,l);if(!u)return[];let c=[...Array(Math.max(u.page_count||0,0)).keys()].map(d=>[u.id,d]);return n[u.id]&&(n[u.id]||[]).map(d=>i[d]).reverse().forEach(d=>{c.splice(r[d.id]+1,0,a(d.id))}),c};return fi.default.chunk(fi.default.flattenDeep(a(e)),2)});it.getSortedListOfMissingIndexPairs=gi(t=>t,it.getSortedListOfIndexPairs,(t,e)=>t.sets.byId,it.getSetsByParent,(t,e,i,r)=>{let n=[];return fi.default.uniq(e.map(a=>a[0])).forEach(a=>{n=n.concat(it.getLoadedIndexesForSet(t,a).map(l=>[a,l]))}),fi.default.differenceWith(e,n,fi.default.isEqual)});it.getGappedSetMap=gi(t=>t,it.getSortedListOfIndexPairs,it.getSortedListOfMissingIndexPairs,(t,e,i)=>{let r=i[0];if(r){let n=fi.default.uniq(e.map(u=>u[0])).reduce((u,c)=>(u[c]=0,u),{}),a=fi.default.findIndex(e,u=>fi.default.isEqual(u,r)),l=fi.default.fromPairs(e.slice(0,a));return fi.default.merge(n,l)}return{}});it.getPagesByUrl=gi(t=>t.pages.byId,t=>fi.default.transform(fi.default.omitBy(t,e=>e.crdt_state===Vt.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));it.getSetsByUrl=gi(t=>t.sets.byId,t=>fi.default.transform(fi.default.omitBy(t,e=>e.crdt_state===Vt.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));it.getMediaByHash=t=>{let e={};return fi.default.each(t.pages.byId,i=>{fi.default.each(i.media,r=>{r.crdt_state!==Vt.Deleted&&(e[r.hash]=r)})}),e};it.getMediaByParent=gi(t=>t.pages.byId,t=>{let e={};return fi.default.each(t,i=>{e[i.id]=i.media?.filter(r=>r.crdt_state!==Vt.Deleted)}),e});it.getRenderedPageModels=gi(t=>t.pages.byId,t=>t.frontendState.renderedPages,(t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0));at=it});var LI={};jt(LI,{actionTypes:()=>xe,actions:()=>De});var _r,Rs,DI,De,ooe,wG,xe,eg,TI,xs,Ss,Gt=R(()=>{_r=de(Ur(),1),Rs=de(Ie(),1);_I();Pe();xi();DI=de(Ie(),1),De={},ooe=H.isServer?3e4:1e4,wG={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,Rs.each)(wG,function(t,e,i){i[t+"_"+Jf]=e+"_"+Jf,i[t+"_"+jf]=e+"_"+jf,i[t+"_"+qf]=e+"_"+qf});xe=(0,Rs.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},wG);De.getAuthToken=function(t={}){let e=new Promise((i,r)=>{let n="https://cargo.site/accesstoken";if(t.reverse_bounce_jwt){parent.location.href=n+"/bounce?jwt="+t.reverse_bounce_jwt;return}if(t.bounce){parent.location.href=n+"/bounce?site_url="+t.site_url;return}let a={};t.site_url&&(a.site_url=t.site_url),t.site_id&&(a.site_id=t.site_id),t.jwt&&(a.jwt=t.jwt);let l={};t.nonce&&(l["x-cargo-access-token-nonce"]=t.nonce),_r.default.get(n,{use_auth:!1,withCredentials:!0,params:a,headers:l,timeout:t?.timeout||ooe}).then(function(u){if(!u||u.token===null)return r("No token found.");i(u)}).catch(u=>{r(u)})});return{type:xe.AUTHENTICATE_USER,payload:e}};De.setAuthentication=t=>({type:xe.AUTHENTICATE_USER_FULFILLED,payload:t});De.rejectAuthentication=()=>({type:xe.AUTHENTICATE_USER_REJECTED,payload:{}});De.fetchScaffolding=function(){return function(t,e){let r=`/pages/${e().site.id}/scaffolding`;return t({type:xe.FETCH_SCAFFOLDING,payload:_r.default.get(Pt+r)})}};De.fetchFiles=function(){return function(t,e){let r=`/sites/${e().site.id}/media/files`;return t({type:xe.FETCH_MEDIA,payload:_r.default.get(Pt+r)})}};De.fetchImageLibrary=function(t={}){return function(e,i){let n=`/sites/${i().site.id}/media/images`;return e({type:xe.FETCH_MEDIA,payload:_r.default.get(Pt+n,{use_cache:t.force!==!0})})}};De.fetchCommerceProducts=function(t={}){return t=DI.default.defaults(t,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,i){let r=i(),n=`/commerce/${r.site.id}/products`,a;if(t.idArray){n+="/list";let l=new FormData;if(t.idArray){let u=t.idArray.filter(c=>!(t.onlyNew===!0&&r.commerce.products.hasOwnProperty(c)));if(u.length===0)return Promise.resolve();u.forEach(c=>{l.append("ids[]",c)})}a=_r.default.post(Pt+n,l,{use_auth:!1})}else a=_r.default.get(Pt+n,{use_auth:!1,params:{order_by:t.orderBy,order_dir:t.orderDir,limit:t.limit}});return e({type:xe.FETCH_COMMERCE_PRODUCTS,payload:a,meta:{options:t}})}};De.fetchShopModel=function(t={}){return function(e,i){let r=i();if(!r.site.shop_id)return Promise.resolve();let n=`/commerce/${r.site.id}/shop/${r.site.shop_id}`;return e({type:xe.FETCH_SHOP_MODEL,payload:_r.default.get(Pt+n,{use_cache:t.force!==!0})})}};De.resetCommerceCart=function(){return{type:xe.RESET_COMMERCE_CART,payload:{}}};De.addCommerceProductToCart=function(t,e,i={}){return function(r,n){let l=n().commerce.products[t],u=l?.variants.find(c=>c.variant_id==e);if(!l||!u){i.failureCallback?.("Product not found");return}if((i.amount===void 0||isNaN(i.amount))&&(i.amount=1),u.inventory!==null&&i.amount>u.inventory)if(u.inventory<=0){i.failureCallback?.("Product is out of stock");return}else i.amount=u.inventory;return typeof i.callback=="function"&&i.callback(),r({type:xe.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:u.product_id,variant_id:u.variant_id,quantity:i.amount}})}};eg=null,TI=!1,xs=[],Ss=[];De.pageMounted=function(t){if(Ss.includes(t)&&(Ss=Ss.filter(e=>e!==t)),!xs.includes(t))return(e,i)=>(xs.push(t),eg||(eg=new Promise(r=>{requestAnimationFrame(()=>{e({type:xe.PAGES_MOUNTED,payload:{pages:[...xs]}}),r(),eg=null,xs=[]})})),eg)};De.pageUnMounted=function(t){if(xs.includes(t)&&(xs=xs.filter(e=>e!==t)),!Ss.includes(t))return(e,i)=>{if(i().frontendState.PIDBeingEdited===t?.id)return e({type:xe.PAGES_UNMOUNTED,payload:{pages:[t]}});Ss.push(t),TI||(TI=!0,requestAnimationFrame(()=>{e({type:xe.PAGES_UNMOUNTED,payload:{pages:[...Ss]}}),TI=!1,Ss=[]}))}};De.fetchSiteModel=function(){return function(t,e){let r=`/sites/${e().site.id}`,n=_r.default.get(Pt+r);return t({type:xe.FETCH_SITE_MODEL,payload:n})}};De.fetchSiteCSS=function(){return function(t,e){let r=`/sites/${e().site.id}/css`,n=_r.default.get(Pt+r);return t({type:xe.FETCH_SITE_CSS,payload:n})}};De.fetchSitePackage=function(){return function(t,e){let i=e(),r;H.isServer?r=i.frontendState.hostname:r=H.isSitePreview?H.sitePreviewHostname:window.location.hostname,H.isLocalEnv&&(r=r.replace("local.dev.cargo.site","dev.cargo.site"));let n=_r.default.get(Pt+`/package/${r}`);return t({type:xe.FETCH_SITE_PACKAGE,payload:n})}};De.fetchSiteDesignModel=function(){return function(t,e){let r=`/sites/${e().site.id}/design`,n=_r.default.get(Pt+r);return t({type:xe.FETCH_SITEDESIGN_MODEL,payload:n})}};De.fetchPagesByTag=function(t,e={}){return function(i,r){let n=store.getState(),a=_r.default.get(Pt+`/pages/${n.site.id}/tag/${t}`,{withCredentials:!0,use_cache:e.force!==!0});return i({type:xe.FETCH_CONTENT,payload:a})}};De.fetchContent=function(t,e={}){return e.idType||(e.idType="pid"),function(i,r){let n=r(),a;if(e.indexes&&n.frontendState.inAdminFrame===!0){let f=n.structure.byParent[t]?.reduce((m,b)=>(m[n.structure.indexById[b]]=b,m),{});f&&(a={},e.indexes.forEach(m=>{let b=f[m],C=n.structure.liveIndexes[b];if(C){let[S,A]=C.split("/");a[S]||(a[S]=[]),a[S].push(parseInt(A))}}),a=DI.default.map(a,(m,b)=>({set_id:b,index:m})))}if(e.force!==!0&&(e.idType==="purl"?at.getContentByPurl(n,t):at.getContentById(n,t)||t==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return i({type:xe.FETCH_CONTENT,payload:Promise.resolve()});let l=`/pages/${n.site.id}/url/${t}`;e.next===!0?l=`/pages/${n.site.id}/next/${t}`:e.prev===!0?l=`/pages/${n.site.id}/prev/${t}`:e.idType==="pid"&&(l=`/pages/${n.site.id}/id/${t}`);let u={};(0,Rs.isArray)(e.indexes)&&(l=`/pages/${n.site.id}/filter/`,a&&Object.keys(a).length>0?u.indexBySet=JSON.stringify(a):u.indexBySet=JSON.stringify([{set_id:t,index:e.indexes}]));let c=_r.default.get(Pt+l,{withCredentials:!0,use_cache:e.force!==!0,params:u,validateStatus:function(f){return f>=200&&f<300&&f!==204},contentIdentifier:{idType:e.idType,id:t}}),d=new Promise((f,m)=>{c.then(b=>{(0,Rs.isArray)(b.data)||(b.data=[b.data]),e.cb?.(b),f(b)}).catch(m)});return i({type:xe.FETCH_CONTENT,payload:d})}};De.updateFrontendState=function(t){return function(e,i){return e({type:xe.UPDATE_FRONTEND_STATE,payload:t})}};De.deleteContent=function(t){return function(e,i){let r=new Promise().resolve({id:t});return{type:xe.DELETE_CONTENT,payload:r}}};H.isServer||(window.actions=De)});function GI(){return t=>e=>(ws(e.payload)&&e.payload.catch(function(i){if(H.isServer&&i.response)console.error("Request to",i.response.config.url,"failed with code",i.response.status);else{if(i&&i.response&&i.response.status===401){console.warn("No auth for request to",i.response.config.url);return}console.error(i)}return i}),t(e))}var dwe,xG=R(()=>{FI();dwe=de(Ie(),1);Pe()});function SG(t={},e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SITE_MODEL_FULFILLED:case xe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===xe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.site),i){if(H.isSitePreview&&(i.domain_active=!1),!H.isServer)try{localStorage.setItem("c3-site",JSON.stringify({id:i.id,host:window.location.host}))}catch(r){console.error(r)}return{...t,...i,crdt_state:Vt.Published}}break}return t}var vwe,RG=R(()=>{Gt();Pe();Lt();vwe=de(Ie(),1)});function aoe(t={},e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SCAFFOLDING_FULFILLED:case xe.FETCH_ADMIN_LIST_FULFILLED:case xe.FETCH_CONTENT_FULFILLED:case xe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===xe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return tg.default.isArray(i)||(i=[i]),{...t,...i.reduce((r,n)=>(n.page_type!=="page"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Vt.Published,r[n.id]=n),r),{})};break;case xe.DELETE_CONTENT:if(t[e.payload.id]){let r={...t};return delete r[e.payload.id],r}break;case xe.UPDATE_PAGE:return{...t,[e.meta.id]:tg.default.merge({},tg.default.cloneDeep(t[e.meta.id]),e.payload)}}return t}var tg,BI,EG,FG=R(()=>{Gt();ai();Lt();tg=de(Ie(),1);Pe();BI={byId:aoe},EG=Wn(BI)});function soe(t={},e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SCAFFOLDING_FULFILLED:case xe.FETCH_ADMIN_LIST_FULFILLED:case xe.FETCH_CONTENT_FULFILLED:case xe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===xe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return{...t,...i.reduce((r,n)=>(n.page_type!=="set"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Vt.Published,r[n.id]=n),r),{})};break}return t}var MI,NG,_G=R(()=>{Gt();ai();Lt();MI={byId:soe},NG=Wn(MI)});function loe(t=WG,e){switch(e.type){case xe.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case xe.ADD_COMMERCE_PRODUCT_TO_CART:let i=e.payload,r;i.quantity===null?(r={...t},delete r[i.variant_id]):(t[i.variant_id]&&(i={...t[i.variant_id],quantity:Math.max(0,(t[i.variant_id].quantity||0)+i.quantity)}),r={...t,[i.variant_id]:i});try{localStorage.setItem("cargo-commerce-cart",JSON.stringify(r))}catch(n){console.error("Unable to store cart",n)}return r}return t}function uoe(t={},e){if(!e.payload)return t;switch(e.type){case xe.FETCH_COMMERCE_PRODUCTS_FULFILLED:let i=e.meta?.options||{},r=(e.payload.data?.data||[]).reduce((a,l,u)=>{let c=t[l?.product_id];return i.onlyNew&&c?(i.idArray===null&&c.sort_index===void 0&&(c.sort_index=u),a):(i.idArray===null&&(l.sort_index=u),{...a,[l.product_id]:l})},{});return{...t,...r};case xe.COMMERCE_PRODUCT_UPDATED:return{...t,[e.payload.product_id]:e.payload};case xe.COMMERCE_PRODUCT_DESTROYED:let n={...t};return delete n[e.payload.product_id],n;break}return t}function coe(t={},e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SHOP_MODEL_FULFILLED:return{...t,...e.payload.data};case xe.SHOP_MODEL_UPDATED:return{...t,...e.payload}}return t}var Wwe,WG,kI,OG,TG=R(()=>{Wwe=de(Ie(),1);ai();Gt();Pe();WG={};if(!H.isServer)try{WG=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}kI={products:uoe,cart:loe,shop:coe},OG=Wn(kI)});function LG(t=doe,e){if(!e.payload)return t;switch(e.type){case xe.FETCH_MEDIA_FULFILLED:let i=e.payload.data;if(i)return{...t,data:DG.default.uniqBy([...t.data,...i],"id")};break}return t}var DG,doe,GG=R(()=>{Gt();Lt();DG=de(Ie(),1),doe={data:[],crdt_state:Vt.Published}});function BG(t={},e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SITE_CSS_FULFILLED:case xe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===xe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.css),i)return{...t,...i,crdt_state:Vt.Published};break}return t}var Pwe,MG=R(()=>{Gt();Lt();Pwe=de(Ie(),1)});function XI(t=poe,e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SCAFFOLDING_FULFILLED:case xe.FETCH_ADMIN_LIST_FULFILLED:case xe.FETCH_CONTENT_FULFILLED:case xe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===xe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i){let r={...t},n={};return(0,Wa.each)(i,function(a){a.page_type==="set"&&(n.hasOwnProperty(a.id)||(n[a.id]=[])),a.id!=="root"&&a.hasOwnProperty("set_id")&&(n.hasOwnProperty(a.set_id)||(n[a.set_id]=[]),n[a.set_id].push(a.id))}),r.byParent=(0,Wa.mergeWith)({},t.byParent,n,(a,l)=>{if((0,Wa.isArray)(a))return(0,Wa.uniq)(a.concat(l))}),r.bySort={...t.bySort,...i.reduce((a,l)=>(l.id!=="root"&&l.hasOwnProperty("sort")&&(a[l.id]=l.sort),a),{})},r.indexById={...t.indexById,...i.reduce((a,l)=>(l.id!=="root"&&l.hasOwnProperty("index")&&(a[l.id]=l.index),a),{})},r}break}return t}var Wa,poe,kG=R(()=>{Gt();Wa=de(Ie(),1);Lt();poe={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:Vt.Published}});function foe(t=hoe,e){switch(e.type){case xe.AUTHENTICATE_USER_PENDING:return{...t,authenticating:!0};case xe.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!H.isServer)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!H.isServer)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}case xe.AUTHENTICATE_USER_REJECTED:if(!H.isServer)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}return t}var Qwe,hoe,XG,ZG=R(()=>{Qwe=de(Ie(),1);Pe();Gt();hoe={authenticating:!1,authenticated:!1};XG=foe});function moe(t=goe,e){if(!e.payload)return t;switch(e.type){case xe.FETCH_SITEDESIGN_MODEL_FULFILLED:case xe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===xe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.design),i)return ZI.default.merge(ZI.default.cloneDeep(t),i.site_design);break}return t}var ZI,goe,PG,VG=R(()=>{Gt();ZI=de(Ie(),1);Lt();goe={images:{},mobile_adjustments:{},quick_view:{},site:{},crdt_state:Vt.Published};PG=moe});function HG(t=UG,e){if(!e.payload)return t;let i;switch(e.type){case xe.UPDATE_FRONTEND_STATE:return PI.default.mergeWith({},UG,t,e.payload,(r,n,a,l,u)=>{n===void 0&&u.hasOwnProperty(a)&&delete l[a]});case xe.FETCH_SITE_PACKAGE_FULFILLED:return{...t,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case xe.FETCH_SCAFFOLDING_FULFILLED:return{...t,hasScaffolding:!0};case xe.FETCH_SITE_MODEL_FULFILLED:return{...t,hasSiteModel:!0};case xe.FETCH_SHOP_MODEL_FULFILLED:return{...t,hasShopModel:!0};case xe.FETCH_SITE_CSS_FULFILLED:return{...t,hasSiteCSS:!0};case xe.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...t,hasSiteDesign:!0};case xe.PAGES_MOUNTED:return i=[...t.renderedPages,...e.payload.pages],{...t,renderedPages:i};case xe.PAGES_UNMOUNTED:return{...t,renderedPages:PI.default.difference(t.renderedPages,e.payload.pages)};case xe.FETCH_CONTENT_REJECTED:return{...t,networkErrors:[...t.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return t}var PI,boe,UG,zG=R(()=>{Gt();oi();Pe();PI=de(Ie(),1),boe=Il(),UG={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:H.isAdminEdit,inAdminFrame:H.isAdminEdit,renderedPages:[],networkErrors:[],fontsLoaded:[],deviceType:boe}});var UI={};jt(UI,{default:()=>VI,rawReducers:()=>voe});var VI,voe,HI=R(()=>{RG();FG();_G();TG();GG();MG();kG();ZG();VG();zG();Gt();VI={structure:XI,site:SG,pages:EG,sets:NG,media:LG,css:BG,auth:XG,siteDesign:PG,frontendState:HG,commerce:OG},voe={pages:BI,sets:MI,commerce:kI}});var YG,yxe,bd,zI=R(()=>{YG=de(SI(),1);ai();lL();yxe=de(bG(),1);Gt();xG();_I();HI();Pe();bd=()=>{let t=[],e=(0,YG.createDynamicMiddlewares)(),i=[sL,GI,NI(),e.enhancer],r=xh(xv(...i),...t),n=H.isServer?{}:window.__PRELOADED_STATE__||{},a=Lc(Wn(VI),n,r);return H.isServer||(window.store=a,delete window.__PRELOADED_STATE__),{store:a}}});var QG=R(()=>{we();j()});var ru,ig=R(()=>{lt();j();ru=t=>e=>g(t,{store:hh(),...e})});function Ioe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Aoe(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(r){return r}).join(" ")}var jxe,Jxe,YI,QI,jI,nu,yoe,Coe,jG,rg,qxe,JG=R(()=>{va();va();fh();Ee();vh();ds();hl();mh();jxe=function(t){Er(e,t);function e(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a))||this,r.history=bh(r.props),r}var i=e.prototype;return i.render=function(){return Ge.createElement(ba,{history:this.history,children:this.props.children})},e}(Ge.Component),Jxe=function(t){Er(e,t);function e(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a))||this,r.history=Px(r.props),r}var i=e.prototype;return i.render=function(){return Ge.createElement(ba,{history:this.history,children:this.props.children})},e}(Ge.Component),YI=function(e,i){return typeof e=="function"?e(i):e},QI=function(e,i){return typeof e=="string"?br(e,null,null,i):e},jI=function(e){return e},nu=Ge.forwardRef;typeof nu>"u"&&(nu=jI);yoe=nu(function(t,e){var i=t.innerRef,r=t.navigate,n=t.onClick,a=mr(t,["innerRef","navigate","onClick"]),l=a.target,u=Wt({},a,{onClick:function(d){try{n&&n(d)}catch(f){throw d.preventDefault(),f}!d.defaultPrevented&&d.button===0&&(!l||l==="_self")&&!Ioe(d)&&(d.preventDefault(),r())}});return jI!==nu?u.ref=e||i:u.ref=i,Ge.createElement("a",u)}),Coe=nu(function(t,e){var i=t.component,r=i===void 0?yoe:i,n=t.replace,a=t.to,l=t.innerRef,u=mr(t,["component","replace","to","innerRef"]);return Ge.createElement(ma.Consumer,null,function(c){c||_n(!1);var d=c.history,f=QI(YI(a,c.location),c.location),m=f?d.createHref(f):"",b=Wt({},u,{href:m,navigate:function(){var S=YI(a,c.location),A=$i(c.location)===$i(QI(S)),F=n||A?d.replace:d.push;F(S)}});return jI!==nu?b.ref=e||l:b.innerRef=l,Ge.createElement(r,b)})}),jG=function(e){return e},rg=Ge.forwardRef;typeof rg>"u"&&(rg=jG);qxe=rg(function(t,e){var i=t["aria-current"],r=i===void 0?"page":i,n=t.activeClassName,a=n===void 0?"active":n,l=t.activeStyle,u=t.className,c=t.exact,d=t.isActive,f=t.location,m=t.sensitive,b=t.strict,C=t.style,S=t.to,A=t.innerRef,F=mr(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Ge.createElement(ma.Consumer,null,function(_){_||_n(!1);var X=f||_.location,k=QI(YI(S,X),X),B=k.pathname,G=B&&B.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),V=G?Xo(X.pathname,{path:G,exact:c,sensitive:m,strict:b}):null,te=!!(d?d(V,X):V),D=typeof u=="function"?u(te):u,z=typeof C=="function"?C(te):C;te&&(D=Aoe(D,a),z=Wt({},z,l));var re=Wt({"aria-current":te&&r||null,className:D,style:z,to:k},F);return jG!==rg?re.ref=e||A:re.innerRef=A,Ge.createElement(Coe,re)})})});function ag(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++)if(!hasOwnProperty.call(e,i[n])||!Object.is(t[i[n]],e[i[n]]))return!1;return!0}function Es(t){if(H.isServer)return t;let e,i,r,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},i=!1,r=void 0};n();let a=function(){let u=arguments.length-1;if(u===-1)return i===!1&&(r=t.call(this),i=!0),r;let c=e;for(let C=0;C<u;C+=1){let S=arguments[C],A=S===null||typeof S!="object"&&typeof S!="function",F;A?c.primitiveArgs===null?F=c.primitiveArgs=new Map:F=c.primitiveArgs:c.referenceArgs===null?F=c.referenceArgs=new WeakMap:F=c.referenceArgs,F.has(S)===!1?(c={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},F.set(S,c)):c=F.get(S)}let d,f=arguments[u],m=f===null||typeof f!="object"&&typeof f!="function",b;return m?c.primitiveResults===null?b=c.primitiveResults=new Map:b=c.primitiveResults:c.referenceResults===null?b=c.referenceResults=new WeakMap:b=c.referenceResults,b.has(f)?d=b.get(f):(d=t.apply(this,arguments),b.set(f,d)),d};return a.clear=function(){let u=arguments.length-1;if(u===-1){n();return}let c=e;for(let m=0;m<u;m+=1){let b=arguments[m],S=b===null||typeof b!="object"&&typeof b!="function"?c.primitiveArgs:c.referenceArgs;if(S===null)return;c=S.get(b)}let d=arguments[u];d===null||typeof d!="object"&&typeof d!="function"?(c.primitiveArgs!==null&&c.primitiveArgs.delete(d),c.primitiveResults!==null&&c.primitiveResults.delete(d)):(c.referenceArgs!==null&&c.referenceArgs.delete(d),c.referenceResults!==null&&c.referenceResults.delete(d))},a}var Oa,au,woe,ou,xoe,ng,$G,KG,og,qG,eB,su,zr=R(()=>{Oa=de(Ie(),1);xi();Pe();we();au=(t={},e)=>{let i={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:t.hasOwnProperty("t")&&t.t=="webgl"};t=Oa.default.extend(i,t),t.t==="original"&&(t.retina=!1),t.retina===!0&&!t.webgl&&(t.q==null&&(t.q=75),t.hasOwnProperty("w")&&(t.w=Math.min(t.w*2,e.width)),t.hasOwnProperty("h")&&(t.h=Math.min(t.h*2,e.height))),t.w&&t.w>e.width&&(t.w=e.width),t.h&&t.h>e.height&&(t.h=e.height);var r=woe(t.w,t.h,e);t.w=r.w,t.h=r.h;var n=["t","w","h","q","c"],a=[];return Oa.default.each(t,function(l,u){n.indexOf(u)===-1||l===""||(u==="c"?a.push("c/"+l.x+"/"+l.y+"/"+l.w+"/"+l.h):a.push(u+"/"+l))},void 0),e.hash!==void 0&&e.name!==void 0&&r.w>0?t.url="https://freight.cargo.site/"+a.join("/")+"/i/"+e.hash+"/"+e.name:t.url="",t},woe=(t,e,i)=>{let r=t,n=e,a=parseInt(i.width),l=parseInt(i.height);if(a==l)r=t||e||a,n=r;else if(t&&!e){let u=a/t;n=Math.floor(l/u),r=t}else if(e&&!t){let u=l/e;r=Math.floor(a/u),n=e}else{let u=Math.min(l/e,a/t);r=Math.floor(a/u),n=Math.floor(l/u)}return{w:r,h:n}};ou=(t,e,i,r,n=0,a={})=>{a.shared=a.shared||{};let l=(t.byParent[r.id]||[]).reduce((u,c)=>(u[t.indexById[c]]=c,u),{});for(;n>=0&&n<r.page_count&&a.shared.hasBreak!==!0;){let u=l[n],c=u&&(e.byId[u]||i.byId[u]);if(!(c?.page_type==="set"&&a.includeSets!==!0)&&a.callback?.(r.id,n,c)==="break"){a.shared.hasBreak=!0;break}c?.page_type==="set"&&ou(t,e,i,c,a.reverse===!0?c.page_count-1:0,{...a,traverseUp:!1}),a.reverse===!0?n--:n++}if(a.traverseUp!==!1&&(a.reverse===!0&&n<0||a.reverse===!1&&n>r.page_count-1)){let u=i.byId[Oa.default.findKey(t.byParent,d=>d.includes(r.id))],c=t.indexById[r.id];u&&c!==void 0&&ou(t,e,i,u,c+(a.reverse===!0?-1:1),a)}};xoe=Se.debounceRendering,ng=null,$G=()=>{Se.debounceRendering=t=>{ng=t}},KG=t=>{ng&&!t&&ng(),ng=null,Se.debounceRendering=xoe},og=new WeakMap,qG=Se.diffed;Se.diffed=t=>{og.has(t)&&og.get(t)(t.__e),qG&&qG(t)};eB=(t,e)=>(og.set(t,e),()=>{og.delete(t)}),su=(t,e)=>{if(!t)return null;let i="",r=(a,l)=>{let u=l.style?.getPropertyValue(a);return u!==""&&u!==void 0?u:null},n=[];return Oa.default.each(t.rules,a=>{let l=a.selectorText,u={},c=!1,d=!1,f=!1;a.cssText&&a.cssText.includes("--text-style")&&(d=!0,n.push(l+" a"),n.push(l+" a:hover")),a.cssText&&Oa.default.each(n,C=>{a.cssText.includes(C)&&(d=!0)}),a?.selectorText?.includes(".mobile")&&(f=!0),Oa.default.each(e,C=>{let S=!1;Array.isArray(C.denyList)&&C.denyList.forEach(F=>{F.includes("match:")&&l?.match(F.replace("match:",""))&&(S=!0),l&&l===F&&(S=!0)});let A=!1;Array.isArray(C.allowList)?C.allowList.forEach(F=>{F.includes("match:")&&l?.match(F.replace("match:",""))&&(A=!0),l&&l===F&&(A=!0)}):A=!0,(d||f)&&(S=!0),!(S===!0||A===!1)&&(u=C.properties.reduce((F,_)=>(_&&(F[_]=r(_,a)),F),u))});let m=".mobile "+l,b=Array.from(t.rules).find(C=>C.selectorText===m);b&&Object.keys(u).forEach(C=>{r(C,b)&&(u[C]=null)}),!(Object.values(u).every(C=>C===null)||Object.values(u).length===0)&&(i+=m+" { ",Oa.default.each(u,(C,S)=>{if(C){let A=C.split(" ").reduce((F,_,X)=>F+` calc(${_} * var(--mobile-padding-offset))`,"");i+=`${S}: ${A};`}}),i+=" } ")}),i}});function Eoe(t,e){let i=vd.map(a=>t.pages.byId[a.id]).filter(a=>a!==void 0),r=Roe(i),n=Soe(i);return{renderedPages:i,renderedPins:r,nestingMap:n,sortMap:t.structure.bySort,adminMode:t.frontendState.adminMode}}var si,Fs,qI,vd,JI,Soe,Roe,tB,Id=R(()=>{we();Ee();xi();si=de(Ie(),1);lt();zr();j();Fs=sn(),qI=()=>{},vd=[],JI=class extends Ii{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:i=>{vd.push(i)},onPageUnmount:i=>{vd=vd.filter(r=>r!==i)}},qI=this.updateHeights}updateHeights=e=>{this.setState(i=>({pageHeights:{...i.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let i=null,r=[];si.default.each(e,a=>{r.push({pageID:a.id,pageName:a.title,pageHeight:this.getHeightById(a.id)})});let n=si.default.maxBy(r,a=>a.pageHeight);return n!==void 0?si.default.filter(e,a=>a.id===n.pageID)[0]:!1};componentDidUpdate=(e,i)=>{this.makePinAdjustments(e,i)};findTallestOverlayAdjusterPageInLevel=(e,i)=>{let r=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return r.length>0?this.getTallestOfAdjusterCandidates(r):null};getAdjustOnlyPageHeights=(e,i)=>{let r=si.default.filter(this.props.nestingMap[i][e],a=>a.pin_options?.adjust&&!a.pin_options?.overlay),n=0;return si.default.each(r,a=>{n+=this.getHeightById(a.id)}),n};getAdjustOnlyPinsByLevel=(e,i)=>si.default.filter(this.props.nestingMap[i][e],r=>!r?.pin_options?.overlay);getOverlayPinsByLevel=(e,i)=>si.default.filter(this.props.nestingMap[i][e],r=>r?.pin_options?.overlay);getClosestPageByProximity=(e,i)=>e.sort((r,n)=>i==="top"?this.props.sortMap[r.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[r.id])[0];getPagesToAdjust=(e,i)=>{let r=[],n=null,a=this.getAdjustOnlyPinsByLevel(e,i);if(a.length>0?r.push(this.getClosestPageByProximity(a,e)):si.default.each(this.props.nestingMap,(l,u)=>{if(parseInt(u)>i&&l[e].length>0){let c=l[e].filter(f=>f.pin_options?.overlay===!0),d=l[e].filter(f=>f.pin_options?.overlay===!1);if(r=c.length>0?c:[],r.length===0&&d?.length>0&&r.push(this.getClosestPageByProximity(d,e)),n=u,r.length>0)return!1}}),r[0]===void 0){let l=this.props.renderedPages.filter(c=>c.pin===!1).sort((c,d)=>this.props.sortMap[c.id]-this.props.sortMap[d.id]),u=e==="top"?0:l.length-1;l.length>0&&r.push(l[u])}return{adjustedPages:r,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??vd.find(i=>i.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,i)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||si.default.isEqual(this.props.renderedPins,e.renderedPins)&&si.default.isEqual(this.state.pageHeights,i.pageHeights)&&si.default.isEqual(this.props.renderedPages,e.renderedPages))return;let r=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};si.default.each(this.props.nestingMap,(a,l)=>{let u={};l=parseInt(l),u.level=l,si.default.each(a,(c,d)=>{if(d==="center")return;u[d]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let f=u[d];f.hasOverlayPins=this.getOverlayPinsByLevel(d,l).length>0;let m=this.findTallestOverlayAdjusterPageInLevel(c,d);if(m){f.adjusterId=m.id,f.adjusterHeight=this.getHeightById(m.id),f.adjustsSelf=this.getAdjustOnlyPinsByLevel(d,l).length>0;let A=this.getPagesToAdjust(d,l).adjustedPages;A?.length>0&&(f.adjustedLevel=this.props.renderedPins[A[0].id]?.depth??"content",f.adjusteeIDs=si.default.map(A,"id"),r[m.id]={adjusts:si.default.map(A,"id"),location:d,adjustedHeight:this.getHeightById(m.id)})}let b=0,C=m?this.getHeightById(m.id):0,S=!0;f.totalHeight=(S?C:0)+this.getAdjustOnlyPageHeights(d,l),si.default.each(n.levels,function(A,F){F<l&&(b+=A[d].totalHeight)}),f.startingHeight=b===0?null:b}),n.levels[l]=u}),(!si.default.isEqual(i.adjustPairs,r)||!si.default.isEqual(i.renderedPins,this.props.renderedPins)||!si.default.isEqual(i.levelData,n))&&this.setState({adjustPairs:r,renderedPins:this.props.renderedPins,levelData:n})};getAdjustingLevelHeight=(e,i,r)=>{let n=null;return si.default.each(e.levels,a=>{a[r].adjustedLevel===i&&(n=a[r].totalHeight)}),n};render(){return g(Fs.Provider,{value:this.state,children:this.props.children||null})}},Soe=Es(t=>{let e=store.getState();return t.reduceRight((i,r)=>{let n=at.getParentSetList(e,r.id).length-1;r.pin===!0&&r.pin_options.fixed===!0&&(n=0),i[n]||(i[n]={top:[],bottom:[],center:[]});let a=i[n],l=r.pin?r.pin_options.position:"center",u=a[l];return u.push(r),u.sort((c,d)=>e.structure.bySort[c.id]-e.structure.bySort[d.id]),i},{})}),Roe=Es(t=>{let e=store.getState(),i=t.map(r=>({depth:at.getParentSetList(e,r.id).length-1,pageListSort:e.structure.bySort[r.id],id:r.id,fixed:r.pin_options?.fixed&&r.pin_options?.fixed===!0})).sort((r,n)=>r.pageListSort-n.pageListSort).sort((r,n)=>{if(r.fixed||n.fixed)return r.depth-n.depth});return t.reduceRight((r,n,a)=>{if(n.pin===!0&&si.default.isPlainObject(n.pin_options)){let l=at.getParentSetList(e,n.id).length-1;r[n.id]={depth:n.pin_options.fixed?0:at.getParentSetList(e,n.id).length-1,originalDepth:l,location:n.pin_options?.position,type:n.pin_options.fixed?"fixed":n.pin_options.overlay?"overlay":"adjust",adjusts:n.pin_options?.adjust,sort:e.structure.bySort[n.id],pinSort:i.findIndex(u=>u.id===n.id)+1}}return r},{})});tB=ke(Eoe)(JI)});function qt(t){class e extends se{constructor(r){super(r)}render(r){return g(t,{...this.props,pageInfo:this.context})}}return e.contextType=iB,e}var sg,iB,$I,lg,Ki=R(()=>{we();lt();j();sg=new Map,iB=sn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),$I=class extends se{constructor(e){super(e)}setPageData=(e={},i)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(i.tagName)).indexOf(i);if(n!==-1){let a=sg.get(this.props.value.pid+"-"+i.tagName+"-"+n);a?a={...a,...e}:a=e,sg.set(this.props.value.pid+"-"+i.tagName+"-"+n,a)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let r=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return r!==-1?sg.get(this.props.value.pid+"-"+e.tagName+"-"+r)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return g(iB.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&sg.clear()}};lg=ke((t,e)=>({adminMode:t.frontendState.adminMode}))($I)});var nB,ug,rB,KI,tt,er=R(()=>{nB=de(Ie(),1);eI();Pe();KI=class extends ql{constructor(){super(),this.data={baseUnit:-1,mobile:{active:!1,chrome:0,maxHeight:720},window:{w:1280,h:720}},H.isServer||(this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.matchMediaString="(max-aspect-ratio: 4/5)",this.mediaQuery=window.matchMedia(this.matchMediaString),this.setupMobileListener(),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let i=e.getState();i.frontendState&&i.frontendState.adminMode!==rB&&(setTimeout(()=>{this.onWindowResize()},150),rB=i.frontendState.adminMode),i.adminState&&i.adminState.viewport!==ug&&(ug=i.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange();let e=this.mediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;ug?e=ug==="mobile":e=this.mediaQuery.matches,e!==this.data.mobile.active&&(this.data.mobile.active=e,this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var i=0;return e=nB.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),i=e.width<e.height?e.width:e.height,i/=100/e.weight,e.min&&i<e.min&&(i=e.min),e.max&&i>e.max&&(i=e.max),i}onWindowResize=()=>{let{data:e}=this,i=document.documentElement.clientWidth,r=0,n=0,a=0,l=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)a=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let m=100;a=0;let b;for(;;){let C=window.matchMedia.call(window,"(min-height:"+a+"px)").matches;if(b!==void 0&&C!==b&&(m/=2,m*=-1),a+=m,b=C,Math.abs(m)<.01){a=Math.round(a);break}}}n=l-a,r=a;let u=0,c=5,d=0,f=9;r+n>i&&(u=(r+n)/i-1),u=u/.777777778,u>1&&(u=1),d=this.getBaseUnit({weight:f+c*u,min:20,width:i,height:r}),d!==e.size&&(document.documentElement.style.setProperty("--base-size",d+"%"),document.documentElement.style.setProperty("--viewport-height",r+"px")),e.window.h=r,e.window.w=i,e.mobile.maxHeight=l,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=d,this.data=e,this.emit("window-resize",[])}},tt=new KI});var no,vt,Ci,Si,gn=R(()=>{no=new Map;typeof window<"u"&&(window.listeners=no);vt=(t,e,i,r={})=>{let n=t;for(;n&&(no.has(n)&&no.get(n).has(e)&&no.get(n).get(e).forEach(a=>a(i)),r.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},Ci=(t,e,i)=>{if(!t){console.error("Unable to subscribe to non-existing element");return}no.has(t)||no.set(t,new Map);let r=no.get(t);r.has(e)||r.set(e,[]);let n=r.get(e);n.includes(i)||n.push(i)},Si=(t,e,i)=>{if(!no.has(t))return;let r=no.get(t);if(r.has(e)){if(!i){r.delete(e);return}r.set(e,r.get(e).filter(n=>n!==i)),r.get(e).length===0&&r.delete(e),r.size===0&&no.delete(t)}}});function oo(t){class e extends se{constructor(r){super(r),this.lastScrollUIDRef=be()}render(){return g(t,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=r=>{r.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(r,n){this.props.baseNode!==r.baseNode?(r.baseNode&&this.context.removeElementFromScrollContext(r.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=ty,e}function Noe(t){return wt({updateFrontendState:De.updateFrontendState},t)}var ey,Foe,ty,lu,uu,Ns,yd,oB,cg,cu,ao=R(()=>{we();ey=de(Ie(),1);Pe();Gt();we();Ee();ai();lt();er();gn();j();Foe={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},ty=sn(ey.default.cloneDeep(Foe)),lu={},uu={},Ns={default:new Set};H.isServer||(yd=new ResizeObserver(function(t){t.forEach(function(e){vt(e.target,"elementResize",null,{bubbles:!1})})}));oB=(t,e)=>{t.forEach(function(i){let r="inside";i.boundingClientRect.bottom<0&&!i.isIntersecting?r="above":i.boundingClientRect.top>=0&&!i.isIntersecting&&(r="below"),vt(i.target,e,{hasLayout:i.boundingClientRect.width>0&&i.boundingClientRect.height>0,visible:i.isIntersecting,position:r},{bubbles:!1})})},cg=class extends Ii{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,i)=>{if(i=="default")return;let r=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",a=e.parentNode.nodeName==="MARQUEE-INNER";r||n||a?r&&(vt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),vt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):Ns[i].has(e)||(Ns[i].add(e),uu[i].observe(e),lu[i].observe(e))};removeElementFromScrollContext=(e,i)=>{uu[i]?.unobserve(e),lu[i]?.unobserve(e),Ns[i]?.delete(e)};updateScrollPosition=e=>{if(H.isServer||!this.state.scrollingElement)return;let i=e.x||this.scrollData.x,r=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo(i,r):this.state.scrollingElement.scrollTo(i,r)};onScrollRequest=e=>{e.defaultPrevented||(e.stopPropagation(),e.preventDefault(),this.scrollIntoView(e.target,e.detail?.transitionTime,e.detail?.preventQuickViewClose,e.detail?.lazyScroll,e.detail.callback||null,e.detail.verticalAlign))};scrollIntoView=(e,i=1e3,r=!0,n=!1,a=null,l="center")=>{if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){a&&a();return}let c=e.getBoundingClientRect();for(;c.width===0&&c.height==0&&e;)e=e.parentElement,c=e.getBoundingClientRect();let d=c.left+c.width*.5,f=c.top+c.height*.5;switch(l){case"center":f=c.top+c.height*.5;break;case"bottom":f=c.top+c.height;break;case"top":f=c.top;break}let m=document.documentElement.clientWidth,b=document.documentElement.clientHeight;if(n&&c.bottom>=20&&c.right>=20&&c.top<=b-20&&c.left<=m-20){a&&a();return}let C=this.scrollData.x,S=this.scrollData.y,A=Math.max(0,Math.min(this.scrollData.scrollHeight-b,S-(b*.5-f))),F=Math.max(0,Math.min(this.scrollData.scrollWidth-m,C-(m*.5-d))),_=A-S,X=F-C,k=0,B=0;cancelAnimationFrame(this.scrollAnimationFrame);var G=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",G),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),a&&a()};this.state.scrollingElement.addEventListener("mousewheel",G);let V=te=>{let D=B===0?0:te-B;B=te,k=k+D;let z=H.easeInOutCubic(k/i);k<=i?(this.updateScrollPosition({x:C+X*z,y:S+_*z}),this.scrollAnimationFrame=requestAnimationFrame(V)):(this.updateScrollPosition({x:C+X,y:S+_}),G())};this.props.updateFrontendState({quickView:{autoScrolling:r}}),requestAnimationFrame(()=>{requestAnimationFrame(V)})};render(){return g(ty.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,i,r){H.isServer||(this.checkScrollElement(),this.state.scrollingElement!=i.scrollingElement&&this.removeListeners(i))}setNewElement=e=>{let i=ey.default.uniqueId();Ns[i]=new Set,e==window?(Ci(document.scrollingElement,"elementResize",this.onResize),yd.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(Ci(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),yd.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})),uu[i]=new IntersectionObserver(r=>oB(r,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),lu[i]=new IntersectionObserver(r=>oB(r,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:i,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{e.scrollingElement&&(e.scrollingElement==window?(window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),yd.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(Si(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0}),yd.unobserve(e.scrollingElement)),Object.keys(Ns[e.scrollUid]).forEach(i=>{lu[e.scrollUid].unobserve(i),uu[e.scrollUid].unobserve(i),Ns[e.scrollUid].delete(i)})),e.scrollUid!="default"&&(lu[e.scrollUid].disconnect(),uu[e.scrollUid].disconnect(),delete lu[e.scrollUid],delete uu[e.scrollUid],delete Ns[e.scrollUid])};checkScrollElement=()=>{!H.isServer&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){H.isServer||this.checkScrollElement()}componentWillUnmount(){H.isServer||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{H.isServer||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{H.isServer||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};cg.contextType=ty;cu=ke((t,e)=>({quickView:t.frontendState.quickView}),Noe)(cg)});function _oe(t,e,i,r){if(H.isServer)return;i=i||t.observedAttributes||Object.keys(t.propTypes||{});function n(){let l=Reflect.construct(HTMLElement,[],n);l.__observedAttributes=i,l._editorProperties={},l._vdomComponent=t,l.attachShadow({mode:"open",delegatesFocus:r&&r.delegatesFocus}),l._customSlots=r&&r.customSlots?r.customSlots:[],l._replaceChild=r&&r.replaceChild,l._props={},l._uid=du.default.uniqueId(),l._initialMount=!0;let u=c=>{let d=new WeakMap;c.forEach(f=>{switch(f.type){case"childList":l._customElementComponent&&(d.has(l.children)||d.set(l.children,Array.from(l.children)),l._customElementComponent.setState({childArray:d.get(l.children)}));break;case"attributes":let m=f.target.getAttribute(f.attributeName);f.attributeName!=="style"&&f.attributeName!=="class"&&m!==l[f.attributeName]&&(l.__observedAttributes?.indexOf(f.attributeName)>-1?l[f.attributeName]=m:l._customElementComponent?l._customElementComponent.setState(b=>{let C={...b.baseNodeProps};if(C[f.attributeName]!==m)return C[f.attributeName]=m,{baseNodeProps:C}}):l._props[f.attributeName]=m);break}})};return l.__observer=new MutationObserver(u),l.flushMutationQueue=function(){let c=l.__observer.takeRecords();c.length>0&&u(c)},i.forEach(c=>{let d=du.default.camelCase(c),f=function(){return l._customElementComponent?l._customElementComponent.state.baseNodeProps[c]:l._props?.[c]||void 0},m=function(b){let C=b;C=C==null||C===""?void 0:C,C=C==="true"?!0:C,C=C==="false"?!1:C;let S=!1,A=typeof C;if((C==null||A==="string"||A==="boolean"||A==="number")&&(S=!0),l._customElementComponent?l._customElementComponent.setState(F=>{let _={...F.baseNodeProps};if(_[c]!==C)return _[c]=C,{baseNodeProps:_}}):l._props[c]=C,S){let F=c.toLowerCase();b===""&&l._customElementComponent.props.baseNode.hasAttribute(F)?l.removeAttribute(F):b!==""&&b!==l.getAttribute(F)&&l.setAttribute(F,b)}};Object.defineProperty(l,c,{get:f,set:m,configurable:!0}),Object.defineProperty(l,d,{get:f,set:m,configurable:!0})}),l}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=Woe,n.prototype.disconnectedCallback=Toe,n.prototype.adoptedCallback=Ooe;let a=e||t.tagName||t.displayName||t.name;return r?.extends?customElements.get(a)||customElements.define(a,n,{extends:r.extends}):customElements.get(a)||customElements.define(a,n)}function Woe(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester")return;let t=this.nodeName=="TEXT-ICON";if(this._initialMount){let i=document.createElement("style");i.id="space-filler",t?i.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:i.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(i)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};t?e.component=g(dg,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=g(Doe,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),vt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&iy.push(this)}function Ooe(){}function Toe(){this.ownerDocument?.defaultView?.frameElement?.id!="contentEditableStyleTester"&&(this.__observer.disconnect(),this._portalHost&&vt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var du,iy,dg,Doe,so,li,tr=R(()=>{we();Ee();zr();du=de(Ie(),1);Pe();lt();ao();gn();j();iy=[];dg=class extends se{constructor(e){super(e);let i=this.getPropsFromAttributes();this.state={baseNodeProps:{...i,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,i=0,r={};for(i=e.length;i--;){let n=e[i].value==="true"?!0:e[i].value;n=n==="false"?!1:n,r[e[i].name]=n}return{...r,...this.props.baseNode._props}};componentDidMount(){if(H.isServer)return;let e=this.getPropsFromAttributes();this.setState(i=>du.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),Ci(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){Si(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let i=this.getPropsFromAttributes();this.setState(r=>du.default.isEqual(i,this.state.baseNodeProps)?null:{baseNodeProps:i})}};render(e,i){let{baseNodeProps:r,childArray:n}=i;return At(this.props.customElementComponent,{...e,...r,childArray:n})}},Doe=oo(dg),so=class extends Ii{constructor(e){super(e),this.state={portals:[]},!H.isServer&&(uc(this.props.portalHost)?this.stopListeningToVnodeDiff=eB(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return g(oe,{children:this.state.portals.map(([i,r],n)=>i&&r?Ke(i,r):Ke(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:i,element:r}=e;if(!i||!r)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(a=>{let l=a.portals.findIndex(([c,d])=>d===r&&c!==null),u=[...a.portals];return l===-1?u.push([i,r]):(u[l]=[null,null],n=!0),{portals:u}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(i=>{let r=[...i.portals],n=r.findIndex(([a,l])=>l===e.element);return n!==-1?(r[n]=[null,null],{portals:[...r]}):null},()=>{})};onElementHostConnected=e=>{let i=e.element,r=[];this.setState(n=>{let a=[...n.portals];return a.forEach(([l,u],c)=>{i.contains(u)&&(r.push(u),a[c]=[null,null])}),{portals:a}},()=>{r.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,vt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),Ci(this.portalHostElement,"custom-element-connected",this.addPortal),Ci(this.portalHostElement,"custom-element-disconnected",this.removePortal),Ci(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let i=iy.filter(r=>this.portalHostElement.contains(r));i.forEach(r=>r.connectedCallback()),du.default.pullAll(iy,i)};componentDidMount(){}componentDidUpdate(e,i){H.isServer||this.state.portals.forEach(r=>{if(r[1]?.shadowRoot.children){let n=Array.from(r[1].shadowRoot.children).find(a=>a.id==="space-filler");n&&n.remove()}})}componentWillUnmount(){H.isServer||(this.portalHostElement&&(Si(this.portalHostElement,"element-host-connected",this.onElementHostConnected),Si(this.portalHostElement,"custom-element-disconnected",this.removePortal),Si(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.())}},li=_oe});var aB,ry,sB,lB=R(()=>{we();Lt();Ui();ao();xi();aB=de(Ie(),1);j();ry=class extends se{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null,readyForDrop:!1,draggingOverItem:!1,rect:{top:0,left:0,width:0,height:0}},this.dropRef=be(),this.onDragOver=aB.default.throttle(this.onDragOver,80)}showDropTarget=()=>{if(Math.abs(this.state.dragPos.x-this.state.referenceDragPos.x)>10||Math.abs(this.state.dragPos.y-this.state.referenceDragPos.y)>10){this.setState({swapTarget:null});return}Ce.globalDragEventController.customDropTarget!==this.dropRef.current&&(Ce.globalDragEventController.releaseCustomDropTarget(Ce.globalDragEventController.customDropTarget),Ce.globalDragEventController.setCustomDropTarget(this.dropRef.current)),this.setState({readyForDrop:!0})};getRect=()=>{this.state.swapTarget&&this.setState({rect:this.state.swapTarget.getBoundingClientRect()})};render(e,i){let{draggingOverItem:r,readyForDrop:n,rect:a}=i,l={frame:{display:n?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.6)",position:"fixed",top:a.top+"px",left:a.left+"px",width:a.width+"px",height:a.height+"px",pointerEvents:"none",zIndex:999},replace:{pointerEvents:"none",position:"relative",top:"unset",left:"unset"}};return g("div",{ref:this.dropRef,style:l.frame,children:g("button",{className:"media-options-button multiple",style:l.replace,children:"Replace"})})}onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:!1})};onDragDrop=(e,i,r)=>{clearTimeout(this.showDropTargetTimer),this.onDragOver.cancel(),!(this.dropRef.current!==r.customDropTarget||!this.state.swapTarget||r.inAdmin)&&(CargoEditor.mutationManager.execute(()=>{let n=window.store.getState(),a=this.state.swapTarget,l=r.draggedMediaItems[0],u=a.closest("[thumbnail-index]"),c=a.getAttribute("hash"),d=l.getAttribute("hash"),f=a.closest("[id]")?.getAttribute("id");if(u){let F=a.getAttribute("href");f=at.getContentByPurl(n,F)?.id||null}if(!f||!d)return;let m=at.getMediaByHash(n)[d]||null,b=at.getMediaByHash(n)[c]||null;if(!m)return;let{CRDTItem:C}=Ce.getCRDTItem({reducer:"pages.byId",item:f});if(!(n.pages.byId[f].media||[]).find(F=>F.hash==m.hash)){if(!(C.get("media")instanceof Ce.adminWindow.Y.Array)){let _=new Ce.adminWindow.Y.Array;_.insert(0,C.get("media")||[]),C.set("media",_)}let F=Ce.convertStateToSharedType(m,new Ce.adminWindow.Y.Map);C.get("media").push([F])}u?Ce.applyChangesToYType(C,{thumb_media_id:m.id}):(b&&m.is_video!==b.is_video&&(m.is_video?(!m.has_audio_track||m.duration<15?(a.setAttribute("autoplay",!0),a.setAttribute("muted",!0),a.setAttribute("loop",!0)):(a.setAttribute("browser-default",!0),m.duration<20&&a.setAttribute("loop",!0)),a.setAttribute("autoplay",!0),a.setAttribute("loop",!0),a.setAttribute("muted",!0)):(a.removeAttribute("autoplay"),a.removeAttribute("loop"),a.removeAttribute("muted"),a.removeAttribute("poster"),a.removeAttribute("browser-default"))),a.removeAttribute("src"),a.setAttribute("hash",d),a.removeAttribute("width"),a.removeAttribute("height"))}),this.setState({readyForDrop:!1,swapTarget:null,draggingOverItem:!1}))};onBeforeDrop=(e,i,r)=>{!r.fromAdmin&&!r.fromOutside||this.state.readyForDrop&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&r.draggedMediaItems.length===1&&(Ce.globalDragEventController.releaseCustomDropTarget(r.customDropTarget),Ce.globalDragEventController.setCustomDropTarget(this.dropRef.current))};onDragOver=(e,i,r)=>{let n=i.target.closest("MEDIA-ITEM"),a=r.draggedMediaItems.length===1&&r.draggedMediaItems[0]!==n&&!r.draggedMediaItems.some(u=>u.getAttribute("hash")==="placeholder"),l=!r.inAdmin&&r.fromAdmin;if(n&&l&&a){let u=Math.abs(this.state.dragPos.x-r.cursorPosition.x)>2||Math.abs(this.state.dragPos.y-r.cursorPosition.y)>2;this.state.swapTarget!==n||u?(Ce.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({dragPos:{...r.cursorPosition},referenceDragPos:{...r.cursorPosition},readyForDrop:!1,draggingOverItem:!0,swapTarget:n}),this.showDropTargetTimer=setTimeout(this.showDropTarget,400)):this.setState({dragPos:{...r.cursorPosition}}),this.getRect()}else Ce.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:null,dragPos:{...r.cursorPosition}})};componentDidMount(){this.findDragController().then(()=>{Ce.globalDragEventController.on("dragover",this.onDragOver),Ce.globalDragEventController.on("drop",this.onDragDrop),Ce.globalDragEventController.on("dragend",this.onDragEnd),Ce.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),this.getRect.cancel(),Ce.globalDragEventController.off("dragover",this.onDragOver),Ce.globalDragEventController.off("drop",this.onDragDrop),Ce.globalDragEventController.off("dragend",this.onDragEnd),Ce.globalDragEventController.off("before-drop",this.onBeforeDrop)}componentDidUpdate(e,i){(this.state.swapTarget!==i.swapTarget||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&this.state.swapTarget?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=()=>{this.ticking||(this.rectFrame=requestAnimationFrame(()=>{this.getRect(),this.ticking=!1}),this.ticking=!0)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,a=()=>{let l=Ce.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(a,300),a()})},sB=oo(ry)});var pg,ny,uB,cB=R(()=>{we();cs();Lt();Ui();ao();Pe();pg=de(Ie(),1);j();ny=class extends se{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,Kf.contentWindow?.CargoEditor&&Object.keys(Kf.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,i){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let i=window.pageYOffset,r=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-r);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=pg.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let r=document.querySelector('[editing="true"] bodycopy');if(!r)return null;let n,a=window.getComputedStyle(r);n=a.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let l=a.getPropertyValue("line-height");l=Number(l.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:l}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=pg.default.debounce((e,i)=>{e=CargoEditor.getActiveRange(),i=CargoEditor?.getActiveEditor();let r=i?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),a=!!(r||n);this.isDebug&&console.log("checkAndSetVisible",a),this.setVisible(a)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let i=e.endContainer.childNodes[e.endOffset-1],r=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;i&&CargoEditor.helpers.isWhitespaceNode(i);)i=i.previousSibling;for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(i)&&this.checkNodeContent(n)||this.checkNodeContent(r)&&!i))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,i,r)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=H.isSafari(),a=r.fontSize*.15*-1,l=r.lineHeight*.15*-1,u=document.createElement("input");u.style.display="inline-block",u.style.fontSize=r.fontSize+"px",u.style.border="0",u.style.background="blue",u.style.outline="none",u.style.width="2px",n?(u.style.height=r.lineHeight+"px",u.style.lineHeight=r.lineHeight+"px",u.style.margin=`${l}px 0 0 0`,u.style.padding="0",u.style.verticalAlign="text-bottom"):(u.style.height=r.fontSize+"px",u.style.verticalAlign="middle",u.style.margin=`${a}px 0 0 0`,u.style.padding="0"),u.setAttribute("data-ignore-changes",""),u.setAttribute("data-prevent-copy",""),u.setAttribute("disabled",""),u.setAttribute("readonly",""),u.setAttribute("test-delete-visible",""),u.setSaveable(!1),e.insertNode(u);let c=CargoEditor?.getActiveEditor()?.getElement()?.getBoundingClientRect(),d=u.getBoundingClientRect();u.nextSibling&&u.nextSibling.nodeType===Node.TEXT_NODE&&u.nextSibling.setSaveable(!0),u.remove();let f=c.height-i.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:d.bottom-f,height:d.height,center:d.bottom-f-(d.top-f),left:d.left,right:d.right,top:d.top-f,width:d.width,x:d.x-f,y:d.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),i=!1,r=!1,n=null,a=null,l=null,u=null,c=null,d=null,f=0,m=0,b=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(b>20&&(b=20),b<10&&(b=10),!pg.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(a=n.getElement()),i=n?.checkIfEmpty(),r=this.isEligibleEmptyLine(e)),d=a?a.getBoundingClientRect():null,r||i){let S=this.getTextCursorRect(e,d,this.state.parentFontInfo),A=0,F=0;if(!S){this.ticking=!1;return}let _=this.state.parentFontInfo,X=1-_.fontSize/_.lineHeight,k=_.lineHeight,B=_.fontSize;H.isSafari()?A=S.bottom-_.lineHeight*.5:A=S.bottom-S.height*.5,u=A,c=Math.ceil(S.left)}m=c?4:0,c=c+m,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:u,left:c},rect:{top:u,left:c}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let i=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),Ce.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:i})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,i=e>20?20:e;i=i<10?10:i;let r=i/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:i+"px",width:i+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${r}px)`},svg:{pointerEvents:"none",height:i+"px",width:i+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return g("div",{style:n.frame,children:g("button",{className:"insert-content-button",style:n.button,onContextMenu:a=>{a.preventDefault(),this.callContextMenu(a)},onMouseDown:a=>{this.callContextMenu(a)},children:g("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:i+"px",height:i+"px",viewBox:"0 0 20 20",fill:"none",children:[g("circle",{cx:"10",cy:"10",r:"8"}),g("g",{children:[g("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),g("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},uB=oo(ny)});var Ta,Be,oy,dB,Ui=R(()=>{we();Ee();lt();Ta=de(Ie(),1);Lt();Pe();lB();cB();zr();j();Be={},oy=class extends se{constructor(e){super(e),this.sR=document.createElement("div"),this.testHover=Ta.default.throttle(this.testHover,60),this.lockedElements=[],this.state={unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.onContentChange=Ta.default.throttle(this.onContentChange,80,{leading:!0,tailing:!0}),window.addEventListener("scroll",this.onScroll),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{this.updateElementRect(r.target)})}),this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=be(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),this.findDragController().then(i=>{this.dragController=i,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(i=>{console.warn("Editor overlay failed to find drag controller.",i)}),Be.lock=this.lock,Be.unlock=this.unlock,Be.lockItem=this.lockItem,Be.unlockItem=this.unlockItem,Be.setHoveredElements=this.setHoveredElements,Be.deactivateHoverElement=this.deactivateHoverElement,Be.activateHoverElement=this.activateHoverElement,Be.getPortal=this.getPortal,Be.removePortal=this.removePortal,Be.portalMap=this.portalMap,Be.testHover=this.testHover,Be.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return g("div",{id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:[g("style",{children:`@font-face {
				  font-display: block;
				  font-family: "Cargo Monument Grotesk Mono";
				  src: url("https://static.cargo.site/assets/C3/fonts/Monument-Grotesk-Mono/CargoMonumentGroteskMono-Regular.woff2") format("woff2"),url("https://static.cargo.site/assets/C3/fonts/Monument-Grotesk-Mono/CargoMonumentGroteskMono-Regular.woff") format("woff");
				  font-style: normal;
				  font-weight: 400;
				  unicode-range: U+0000-DFFF, U+F900-FFFD;
				}`}),this.state.unattachedOverlayContainer&&Ke(g(oe,{children:[g(sB,{}),e?g(uB,{}):null]}),this.state.unattachedOverlayContainer)]})}componentDidMount(){if(!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheet" href="https://build.cargo.site/frontend/30c2bd/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(r=>{this.editorOverlayRef.current.shadowRoot.appendChild(r)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let i=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:i})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{Ce.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor overlay failed to find Admin.",e)})}componentDidUpdate(e,i){let{hoveredElements:r}=i,{hoveredElements:n}=this.state,a=Ta.default.difference(n,r);Ta.default.difference(r,n).forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerOut?.()})}),a.forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerIn?.()})}),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),this.onContentChange.cancel(),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.CargoEditor&&(this.CargoEditor.events.off("mutation-start",this.onMutationStart),this.CargoEditor.events.off("mutation-end",this.onMutationEnd),this.CargoEditor.events.off("editor-keyup",this.onContentChange),this.CargoEditor.events.off("editor-summary-created",this.onContentChange)),this.portalMap.forEach((e,i,r)=>{this.removePortal(i)}),this.noPointerEventsArray=[],window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),Ce.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,i)=>{let r=0,n=null,a=()=>{let l=Ce.adminWindow;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(a,300),a()});onMutationStart=()=>{$G()};onMutationEnd=()=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{KG(),this.ticking=!1}))};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("mutation-start",this.onMutationStart),this.CargoEditor.events.on("mutation-end",this.onMutationEnd),this.CargoEditor.events.on("editor-keyup",this.onContentChange),this.CargoEditor.events.on("editor-summary-created",this.onContentChange)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,a=()=>{let l=Ce.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(a,300),a()});updateElementRect=e=>{let r=this.portalMap.get(e);if(r){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},a=e.getBoundingClientRect();Object.keys(n).forEach(l=>{n[l]=Math.round(a[l])}),n.height<22&&(n.height=22,n.bottom=n.top+22),r.extraMargins.forEach((l,u)=>{if(!(l===void 0||l===0))switch(u){case 0:n.top=n.y=n.top-l,n.height=n.height+l;break;case 1:n.right=n.right+l,n.width=n.width+l;break;case 2:n.height=n.height+l,n.bottom=n.bottom+l;break;case 3:n.left=n.x=n.left-l,n.width=n.width+l;break}}),this.portalMap.set(e,{portalHosts:r.portalHosts,rect:n,extraMargins:r.extraMargins}),r.portalHosts.forEach((l,u)=>{l?.updatePosition?.(n)})}};onContentChange=(e,i)=>{this.state.hoveredElements.forEach(r=>{this.updateElementRect(r)})};onScroll=()=>{this.noPointerEventsArray.forEach(this.updateElementRect)};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0}),this.dragContentChangeTimeout=setTimeout(()=>{this.onContentChange()},30)};getPortal=(e,i={})=>{if(e)if(this.portalMap.has(e)){var r=this.portalMap.get(e),n=null;if(r.portalHosts.forEach((a,l)=>{i.component===a&&(n=l)}),n)return n;{let a=document.createElement("div");return this.sR.appendChild(a),r.portalHosts.set(a,i.component),a}}else{let a=document.createElement("div");this.sR.appendChild(a);let l={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:i.extraMargins||[]};return a.setAttribute("editor-overlay-tag-name",e.tagName),a._editorBaseNode=e,l.portalHosts.set(a,i.component),this.portalMap.set(e,l),i.trackResize&&this.resizeObserver.observe(e),i.noPointerEvents&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),i.extraMargins&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),a}};removePortal=(e,i)=>{if(this.portalMap.has(e)){let r=this.portalMap.get(e);r.portalHosts.has(i)&&(r.portalHosts.delete(i),i.parentNode.removeChild(i)),r.portalHosts.size===0&&(this.resizeObserver.unobserve(e),this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let i=this.lockedElements.indexOf(e);i>-1&&this.lockedElements.splice(i,1)};deactivateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r],a=r.indexOf(e);if(a>-1)n=n.splice(a,1);else return null;return{...i,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r];if(n.indexOf(e)==-1)n.push(e);else return null;return{...i,hoveredElements:n}})};setHoveredElements=e=>{let i=Array.isArray(e)?e:[e];i=i.filter(r=>!!r),Ta.default.isEqual(this.state.hoveredElements,i)||this.setState({hoveredElements:i})};testHover=()=>{let{locked:e}=this.state;if(e)return;let i=Array.from(document.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[],r=Array.from(this.editorOverlayRef.current.shadowRoot.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[];r=r.map(a=>a.closest("[editor-overlay-tag-name]")?._editorBaseNode).filter(a=>!!a),r=Ta.default.difference(r,i),r.forEach(a=>{a&&i.indexOf(a)==-1&&i.push(a)}),this.noPointerEventsArray.forEach(a=>{let l=this.portalMap.get(a);l&&l.rect&&this.pointerPosition.x<=l.rect.left+l.rect.width&&this.pointerPosition.x>=l.rect.left&&this.pointerPosition.y<=l.rect.top+l.rect.height&&this.pointerPosition.y>=l.rect.top&&i.indexOf(a)==-1&&i.push(a)}),i=Ta.default.uniq(i);let n=[...this.state.hoveredElements];this.lockedElements.forEach(a=>{let l=n.indexOf(a),u=i.indexOf(a);u===-1&&l>-1?i.push(a):l===-1&&u>-1&&i.splice(u,1)}),this.setHoveredElements(i)};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{setTimeout(()=>{this.setHoveredElements([])},100)};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,this.testHover()}},dB=ke((t,e)=>({adminMode:t.frontendState.adminMode}))(oy)});var ay,Cd,Loe,hg,ir,zo=R(()=>{we();Ui();ay=de(Ie(),1);j();Cd=[],Loe=ay.default.debounce(()=>{if(CargoEditor&&Object.keys(CargoEditor).length>0){var t=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(t);let r=[],n=[];if(t&&!t.collapsed){var i=CargoEditor.helpers.getAllEffectivelyContainedNodes(t);i=i.filter(a=>a.shadowRoot),Cd.forEach(a=>{i.includes(a.props.baseNode)?r.push(a):n.push(a)})}else n=Cd;if(n.forEach(a=>{a.setState({selected:!1})}),r.forEach(a=>{a.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(a.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(a.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let a=Cd.find(l=>l.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);a&&a.setState({selected:!0,collapseDirection:e.collapseDirection})}Cd.length=0}},30),hg=class extends se{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+ay.default.uniqueId():"selection-status"}render(e,i){let r=i.collapseDirection?" "+i.collapseDirection+" collapsed-range":"";return g(oe,{children:[g("style",{id:"selection-status",children:`
		${this.state.selected&&!this.props.onlyAllowCollapsedRange?`
		::slotted(*) {
			--selection-color: transparent;
		}
		`:""}

		${this.props.onlyAllowCollapsedRange?"":`::selection{
			background-color:transparent;
		}
		:host(::selection) {
			background-color:transparent;
		}`}

		.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: var(--selection-color);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),g("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${r}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()&&(Cd.push(this),Loe()),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,i){this.state.collapseDirection!==i.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&(Be.updateElementRect(this.props.baseNode),this.updateCurrentColor());let i=e?.detail?.collapsed||!1,r=!0;this.props.onlyAllowCollapsedRange&&(r=i),this.setState({selected:r,collapseDirection:i}),this.props.onSelectionChange&&(i?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let r=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:r})}}};hg.defaultProps={inFront:!0,overlayMode:!1};ir=hg});var fg,Ad,pB,wd,hB,fB=R(()=>{we();fg=de(Ie(),1);j();Ad=new Map,pB=t=>{let e=[],i=[],r=[];Ad.forEach((a,l)=>{a.locateEyeball();let{rect:u}=a.state;if(a.props["roll-independently"]==!0){let c=Math.atan2(t.clientY-(u.top+u.height*.5),t.clientX-(u.left+u.width*.5))*(180/Math.PI)+90;a.setState({eyeRotation:c})}else i.push(u.left+u.width*.5),r.push(u.top+u.height*.5),e.push(a)});let n={x:fg.default.mean(i),y:fg.default.mean(r)};e.forEach(a=>{let l=Math.atan2(t.clientY-n.y,t.clientX-n.x)*(180/Math.PI)+90;a.setState({eyeRotation:l})})},wd=class extends se{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=fg.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,i){return g(oe,{children:[e.children,g("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){Ad.size==0&&window.addEventListener("pointermove",pB),Ad.set(this.props.baseNode,this)}componentWillUnmount(){Ad.delete(this.props.baseNode),Ad.size===0&&window.removeEventListener("pointermove",pB)}};wd.defaultProps={"roll-independently":!0};wd.transformSlot="--rotate-transform";hB=wd});var gB,xd,mB,bB=R(()=>{we();gB=de(Ie(),1);j();xd=class extends se{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,i){let{animate:r}=e,n=Number(r)!==0,a=n?50/Number(r):1,l="var(--base-translate, translate(0))",u=l;return e.transformSlots.forEach(c=>{c==="--rotate-transform"?(l+=` rotate(${parseFloat(e.rotation)}deg)`,u+=` rotate(${parseFloat(e.rotation)+360}deg)`):(l+=` var(${c}, translate(0))`,u+=` var(${c}, translate(0))`)}),g(oe,{children:[e.children,g("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${l};
                    }
                    to {
                        transform: ${u};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(a)}s linear ${Math.sign(Number(r))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=gB.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};xd.defaultProps={rotation:0,animate:0};xd.transformSlot="--rotate-transform";mB=xd});var vB,IB=R(()=>{vB={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var URe,gg,yB,CB=R(()=>{URe=de(Ie(),1);we();Ee();IB();gn();j();gg=class extends se{constructor(e){super(e),this.flierRef=be();let i=this.generateRandomIntInclusive(1,1e4);this.state={currentAnimation:"fly1",flightCount:i,calculatedAnimations:{fly1:this.calculateFlyAnimation(i,1),fly2:this.calculateFlyAnimation(i,2),fly3:this.calculateFlyAnimation(i,3),fly4:this.calculateFlyAnimation(i,4)}}}generateRandomIntInclusive(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var i=Math.sin(e)*1e4;return i-Math.floor(i)}shuffleFromSeed(e,i){for(var r=e.length,n,a;r;)a=Math.floor(this.generateRandomIntFromSeed(i)*r--),n=e[r],e[r]=e[a],e[a]=n,++i;return e}calculateFlyAnimation(e,i){let r=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),a=Number(this.props.scale.replace("vmax","")),l=this.props.rotation/5*180,u=[{x:`calc(0vw - ${1.4*a}vmax)`,y:`${this.generateRandomIntInclusive(r?0-1.4*a:60,r?40:100+1.4*a)}vh`},{x:`calc(100vw + ${1.4*a}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*a,r?100+1.4*a:40)}vh`}],c=[{x:`calc(100vw + ${1.4*a}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*a,r?100+1.4*a:40)}vh`},{x:`calc(0vw - ${1.4*a}vmax)`,y:`${this.generateRandomIntInclusive(r?0:60,r?40:100+1.4*a)}vh`}],d=[{x:`${this.generateRandomIntInclusive(r?0-1.4*a:60,r?40:100+1.4*a)}vw`,y:`calc(0vh - ${1.4*a}vmax)`},{x:`${this.generateRandomIntInclusive(r?60:0-1.4*a,r?100+1.4*a:40)}vw`,y:`calc(100vh + ${1.4*a}vmax)`}],f=[{x:`${this.generateRandomIntInclusive(r?60:0-1.4*a,r?100+1.4*a:40)}vw`,y:`calc(100vh + ${1.4*a}vmax)`},{x:`${this.generateRandomIntInclusive(r?0-1.4*a:60,r?40:100+1.4*a)}vw`,y:`calc(0vh - ${1.4*a}vmax)`}],m=n.reduce((b,C)=>{switch(C){case"ltr":return b.concat(u);case"rtl":return b.concat(c);case"ttb":return b.concat(d);case"btt":return b.concat(f);default:return b}},[]);switch(i){case 1:return`
					0% {
						transform: translateX(${m[0].x}) translateY(${m[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${m[0].x}) translateY(${m[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[1].x}) translateY(${m[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[1].x}) translateY(${m[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${m[2].x}) translateY(${m[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${m[2].x}) translateY(${m[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[3].x}) translateY(${m[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[3].x}) translateY(${m[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${m[4].x}) translateY(${m[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${m[4].x}) translateY(${m[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[5].x}) translateY(${m[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[5].x}) translateY(${m[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${m[6].x}) translateY(${m[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${m[6].x}) translateY(${m[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${m[7].x}) translateY(${m[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${m[7].x}) translateY(${m[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let i=Number(e.animationName.substr(3)),r=i<4?i+1:1;this.setState({currentAnimation:`fly${r}`,...r===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){this.flierRef.current&&this.flierRef.current.addEventListener("animationend",e=>this.onAnimationEnd(e)),this.manuallySetMediaItemVisibility(),setTimeout(this.manuallySetMediaItemVisibility,250)}manuallySetMediaItemVisibility=()=>{vt(this.props.baseNode,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),vt(this.props.baseNode,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1})};componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e))}render(e,i){let{speed:r,rotation:n,scale:a,delay:l,adminMode:u}=e,{currentAnimation:c,flightCount:d,calculatedAnimations:f}=i;return g(oe,{children:[g("style",{children:`
				:host { 
					--rotate-transform: rotate(0deg) !important;
				}

				.flier {
					pointer-events: none !important;
					top: 0;
					left: 0;
					position: fixed;
					z-index:9999;
					transform: translateX(-100%) translateY(-100%);
					animation-delay: ${l}s;
					animation-duration: ${this.calculateDuration(r)/4}s;
					animation-timing-function: linear;
					animation-direction: ${Math.sign(r)===1?"normal":"reverse"};
				}

				.fly1 {
					animation-name: fly1;
				}

				.fly2 {
					animation-name: fly2;
				}

				.fly3 {
					animation-name: fly3;
				}

				.fly4 {
					animation-name: fly4;
				}

				.spinner {
					${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
					width: ${a};
					height: ${a};
					display: flex;
					align-items: center;
					justify-content: center;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border: none !important;
					padding: 0 !important;
				}

				.spinner figure {
					height: ${a};
				}

				.spinner .sizing-frame {
					pointer-events: none;
					padding: unset;
				}

				.spinner img {
					object-fit: contain;
				}
			
				/* Keyframe values control where the element will begin
					and end its trajectory across the screen. Each rule
					represents a path the element follows across the screen. */
				
			
				@keyframes fly1 {
					${f.fly1}
				}

				@keyframes fly2 {
					${f.fly2}
				}

				@keyframes fly3 {
					${f.fly3}
				}

				@keyframes fly4 {
					${f.fly4}
				}

				@keyframes spin {
					0% {
						transform: rotateZ(0deg);
					}
					100% {
						transform: rotateZ(3600deg);
					}
				}
			`}),g("div",{className:`flier ${c}`,ref:this.flierRef,children:g("div",{className:"spinner",children:e.children})})]})}};gg.defaultProps=vB;yB=gg});var AB,Sd,wB,xB=R(()=>{we();Ee();AB=de(Ie(),1);gn();j();Sd=class extends Ii{constructor(e){super(e),this.uid=AB.default.uniqueId(),this.state={inited:!1,viewportIntersection:"below",lazyLoadIntersection:"below",isVisible:!1,hasLayout:!1,inTransition:!1,suppressTransition:!0}}render(e,i){let r=this.state.viewportIntersection,n=this.props["scroll-variables"].split(" ").filter(a=>a!=="").map(a=>"--scroll-"+a);return n.push("--scroll-translate","--scroll-transition","--scroll-opacity"),n=n.map(a=>a+": var("+(a.startsWith("--")?"":"--")+a+"-"+r+"); ").join(" "),g(oe,{children:[e.children,g("style",{id:"scroll-transition",children:`
				:host {
					--scroll-opacity-above: 1;
				    --scroll-opacity-inside: 1;
				    --scroll-opacity-below: 0;
					opacity: var(--scroll-opacity, 1);

					--scroll-transition-above: 0s transform ease-in-out, 0s opacity ease-in-out;
				    --scroll-transition-inside: 1s transform ease-in-out, 1s opacity ease-in-out;
				    --scroll-transition-below: 0s transform ease-in-out, 0s opacity ease-in-out;
					${this.state.suppressTransition||!this.state.inited?"":"transition: var(--scroll-transition);"}

					--scroll-translate-below: translateY(40px);
					--scroll-translate-inside: translateY(0px);
					--scroll-translate-above: translateY(0px);

					${n}
				}
			`})]})}onViewportIntersectionChange=e=>{this.mostRecentVisibility={isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout},!this.ticking&&(this.ticking=!0,this.viewportAnimFrame=requestAnimationFrame(()=>{this.props.onViewportChange&&this.props.onViewportChange(this.mostRecentVisibility.viewportIntersection),this.setState({...this.mostRecentVisibility}),this.ticking=!1}))};onTransitionStart=()=>{this.setState({inTransition:!0})};onTransitionEnd=()=>{this.setState({suppressTransition:!0,inTransition:!1})};componentDidMount(){this.props.baseNode.addEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.addEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.addEventListener("transitioncancel",this.onTransitionEnd),Ci(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.initTimeout=setTimeout(()=>{this.setState({inited:!0})},300)}componentDidUpdate(e,i){!this.state.hasLayout&&this.state.hasLayout!==i.hasLayout&&this.state.inited&&this.setState({inited:!1}),this.state.hasLayout!==i.hasLayout&&this.state.isVisible&&this.state.hasLayout&&!this.state.inited&&(clearTimeout(this.initTimeout),this.initTimeout=setTimeout(()=>{this.setState({inited:!0})},120)),this.state.viewportIntersection!==i.viewportIntersection&&this.state.inited&&(clearTimeout(this.transitionCheckTimeout),this.state.isVisible?this.setState({suppressTransition:!1},()=>{this.transitionCheckTimeout=setTimeout(()=>{!this.state.inTransition&&this.state.isVisible&&this.setState({suppressTransition:!0})},50)}):this.setState({suppressTransition:!0},()=>{this.transitionCheckTimeout=setTimeout(()=>{this.setState({suppressTransition:!1})},120)})),this.state.inited!==i.inited&&this.setState({suppressTransition:this.state.isVisible})}componentWillUnmount(){clearTimeout(this.transitionCheckTimeout),cancelAnimationFrame(this.viewportAnimFrame),cancelAnimationFrame(this.lazyloadFrame),clearTimeout(this.initTimeout),this.props.baseNode.removeEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.removeEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.removeEventListener("transitioncancel",this.onTransitionEnd),Si(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}};Sd.defaultProps={"scroll-variables":""};Sd.transformSlot="--scroll-translate";wB=Sd});var hEe,Rd,mg,Goe,SB,RB=R(()=>{we();lt();Ki();hEe=de(Ie(),1);j();Rd=new Map,mg=class extends se{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,i){if(e.adminMode)return e.children;let{x:r,y:n,z:a}=i;return g(oe,{children:[e.children,this.inSlideshow?null:g("style",{id:"draggable-item",children:`
				:host {
					cursor: grab;
					${this.props.adminMode?"":`
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${i.dragging?"--scroll-transition: 0s all!important;":""}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${i.interacted?`translate3d(${r}px, ${n}px, ${a+100}px)`:`translate(${r}px, ${n}px)`};
					${!this.props.adminMode&&i.interacted?`z-index: ${a+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let i=this.state.z;Rd.forEach((r,n)=>{n!==this.props.baseNode&&r.state.z>i&&r.setState(a=>({z:a.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:Rd.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let i=e.clientX,r=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-i,2)+Math.pow(this.mousePosition.y-r,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),Rd.set(this.props.baseNode,this),this.setState({z:Rd.size+10})}componentDidUpdate(e,i){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),Rd.delete(this.props.baseNode)}};mg.transformSlot="--drag-transform";Goe=ke((t,e)=>({adminMode:t.frontendState.adminMode}))(mg),SB=Goe});var EB,sy=R(()=>{EB={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var IEe,bg,FB,NB=R(()=>{we();IEe=de(Ie(),1);sy();j();bg=class extends se{constructor(e){super(e)}render(e,i){let r=this.props["dropshadow-offset"].split(" "),n=r[0],a=r.length>1?r[1]:r[0];return g(oe,{children:[e.baseNode.tagName==="MEDIA-ITEM"?g("style",{children:`
                        img {
                            filter: drop-shadow(${a} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):g("style",{children:`
                        :host {
                            filter: drop-shadow(${a} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};bg.defaultProps=EB;FB=bg});var SEe,vg,_B,WB=R(()=>{we();SEe=de(Ie(),1);j();vg=class extends se{constructor(e){super(e)}render(e,i){return g(oe,{children:[e.baseNode.tagName==="MEDIA-ITEM"?g("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):g("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};vg.defaultProps={"background-color":"rgba(0,0,0,0)"};_B=vg});var _Ee,Ig,OB,TB=R(()=>{we();_Ee=de(Ie(),1);sy();j();Ig=class extends se{constructor(e){super(e)}render(e,i){let r=Object.keys(e).reduce((n,a)=>{if(a.includes("-style")){let l=a.replace("-style","");n.push({part:l,styles:e[a]?e[a].replaceAll(";","!important;"):""})}return n},[]);return g(oe,{children:[g("style",{children:r.map(({part:n,styles:a})=>`[part*="${n}"] { ${a} }`)}),e.children]})}};Ig.defaultProps={};OB=Ig});var DB=R(()=>{});var MEe,yg,LB,GB=R(()=>{we();MEe=de(Ie(),1);DB();j();yg=class extends se{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,i){let r=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),a="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):a="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):a="ease";break;case Number(this.props["blink-transition"])>0:a="ease";break}return g(oe,{children:[e.children,g("style",{children:`
					:host {
						animation: ${r}s infinite ${a} blink;
						-webkit-animation: ${r}s infinite ${a} blink;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};yg.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};LB=yg});var Ed,Cg,lo,ly,Ag,pu=R(()=>{we();Ee();Ed=de(Ie(),1);Pe();zo();gn();fB();bB();CB();xB();RB();NB();WB();TB();GB();ao();j();Cg=new Set,lo=class extends se{constructor(e){switch(super(e),H.isServer||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["blink","dropshadow","drag","rotation","eye-roll","scroll-animate","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:mB,"eye-roll":hB,drag:SB,"scroll-transition":wB,"flying-object":yB,dropshadow:FB,background:_B,"inline-part-styles":OB,blink:LB},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,i){let r=e.customElementMode?this.props.children:g("slot",{});if(i.attributes.uses.length==0)return g(oe,{children:[g("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),r]},"uses-fragment");let n=[];i.attributes.uses.forEach((l,u)=>{this.usesKeys[l]&&this.usesKeys[l].transformSlot&&n.push(this.usesKeys[l].transformSlot)}),i.attributes.uses.forEach((l,u)=>{this.usesKeys[l]&&(r=At(this.props.customElementMode?this.usesKeys[l]:oo(this.usesKeys[l]),{...this.state.attributes,...this.props,lowestLevel:u==0,baseNode:this.props.baseNode,children:r,transformSlots:n}))});let a=g(oe,{children:[this.props.adminMode&&!e.customElementMode&&g(ir,{baseNode:this.props.baseNode}),g("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(l=>`var(${l}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode?`:host::selection {
				background: none;
			}`:""}
			`}),r]},"uses-fragment");return e.customElementMode?a:Ke(a,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,i){e.uses!==this.props.uses&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[r,n]of Object.entries(this.state?.attributes||{}))e[r]=void 0;let i=[...this.props.baseNode.attributes].reduce((r,n)=>(r[n.name]=n.value,r),{});for(let[r,n]of Object.entries(i))n==="false"?i[r]=!1:n==="true"&&(i[r]=!0);return this.props.customElementMode&&(i.uses=(i.uses||"")+" "+this.props.uses),i.uses=i.uses?.split(" ")||[],i.uses=Ed.default.uniq(i.uses),i.uses.sort((r,n)=>this.usesOrder.indexOf(r)<this.usesOrder.indexOf(n)?-1:1),{...e,...i}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let r=this.getAttributes();if(r.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else Ed.default.isEqual(this.state.attributes,r)||this.setState({attributes:r})}};lo.defaultProps={uses:[]};ly=class extends se{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!H.isServer&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){let e=Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]"));e=e.filter(i=>!window.customElements.get(i.tagName.toLowerCase())),e.forEach(this.addToUseList),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"],attributeOldValue:!0})}componentWillUnmount(){this.observer?.disconnect(),Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=e=>{this.mutationsList.push(...e),cancelAnimationFrame(this.onSummaryAnimationFrame),this.hasRunFirstMutationSummary?this.onSummaryAnimationFrame=requestAnimationFrame(this.onSummary):(this.onSummary(),this.hasRunFirstMutationSummary=!0)};onSummary=()=>{let e=this.mutationsList,i=[],r=[];e.forEach(n=>{let a=Array.from(n.addedNodes),l=Array.from(n.removedNodes);a.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(i=[...i,...Array.from(u.querySelectorAll("[uses]"))])}),l.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(r=[...r,...Array.from(u.querySelectorAll("[uses]"))])}),i=[...i,...a.filter(u=>u.hasAttribute?.("uses"))],r=[...r,...l.filter(u=>u.hasAttribute?.("uses"))],n.type==="attributes"&&(n.oldValue===null?i.push(n.target):n.target.getAttribute("uses")===null&&r.push(n.target))}),i=Ed.default.uniq(i),r=Ed.default.uniq(r),i=i.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),r=r.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),i=i.filter(n=>n.hasAttribute("uses")),r=r.filter(n=>!n.hasAttribute("uses")),i.forEach(this.addToUseList),r.forEach(this.removeFromUseList),this.mutationsList=[]};addToUseList=e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let n=CargoEditor.helpers.wrap(e,"span",{uses:e.getAttribute("uses"),rotation:e.getAttribute("rotation"),animate:e.getAttribute("animate"),"scroll-transition":e.getAttribute("scroll-transition")});n.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=n});return}Cg.has(e)||Cg.add(e);let i={component:g(lo,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};vt(e,"custom-element-connected",i),this.portalHost=i.portalHost};removeFromUseList=e=>{if(vt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Cg.has(e)&&(Cg.delete(e),e.shadowRoot&&document.body.contains(e)))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let i=document.createElement("div");i.innerHTML=e.outerHTML,e.replaceWith(i.childNodes[0])});else{let i=document.createElement("div");i.innerHTML=e.outerHTML,e.replaceWith(i.childNodes[0])}}},Ag=ly});var kn,Boe,BB,uy,MB,Moe,kB=R(()=>{we();xi();Pe();kn=de(Ie(),1);j();Boe={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/30c2bd/_jsapps/backdrop/wave/main.js")},BB=kn.default.memoize(t=>new Promise(async(e,i)=>{if(H.isServer)return i();await Moe();let{default:r}=await Boe[t]();e(r)})),uy=class extends se{constructor(e){super(e),this.ref=be(),BB(this.props.path).catch(i=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await BB(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let i=_a[this.props.path.replace("legacy/","")],r={page_id:this.props.id};kn.default.each(i?.default.defaults,(n,a)=>{r[a]=n.value}),this.onChangeCustom=i?.onChangeCustom?i.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...r,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+kn.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.remove(),delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!kn.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("bonk")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return g("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},MB=uy,Moe=kn.default.once(async()=>{if(H.isServer)return;let{Backbone:t,underscore:e,jQuery:i}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=i,window.Backbone=t,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>!1,IsAdminEdit:()=>H.isAdminEdit},Event:kn.default.extend({},t.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=t.Collection.extend({model:function(r,n){return r&&r.type==="local"?new Cargo.o.model.localImage(r,n):new Cargo.o.model.image(r,n)},fetchImage:function(r,n){let a=window.store.getState(),l=at.getMediaByHash(a)[r],u=new Cargo.o.model.image({...l});if(l&&u)return u.getImageWithOptions({w:n})},fetchWebGLImage:function(r,n){let a=window.store.getState(),l=at.getMediaByHash(a)[r];return l?{w:l.width,h:l.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+l.hash+"/"+l.name,id:r}:null}}),Cargo.o.model.image=t.Model.extend({initialize:function(){kn.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(r){var n={};return r>this.get("width")&&(r=this.get("width")),n.w=r,this.getImageWithOptions(n).url},getImageByWidth2x:function(r){return this.getImageByWidth(r*2)},getImageWithOptions:function(r){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:r.hasOwnProperty("t")&&r.t=="webgl"};if(kn.default.extend(n,r),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var a=this.getSquareCrop();n.c={x:a.x,y:a.y,w:a.w,h:a.h}}var l=["t","w","h","q","c"],u=[],c=!1,d=!1;kn.default.each(n,function(m,b){l.indexOf(b)===-1||m===""||(b==="c"?u.push("c/"+m.x+"/"+m.y+"/"+m.w+"/"+m.h):u.push(b+"/"+m),c=b=="w"?m:b=="c"&&m.w?m.w:c,d=b=="h"?m:b=="c"&&m.h?m.h:d)},this);var f=this.getScaleSize(c,d);return n.w=f.w,n.h=f.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+u.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var r=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),r=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),r=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),r=y=0),{w,h,x:r,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(r){return typeof r!="string"?!1:r.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(r){var n=[128,256,512,1024,2048,4096];return r>this.get("width")&&kn.default.each(n,function(a){a<1e3&&(r=a)}),r},getScaleSize:function(r,n){var a,l,u=r,c=n;if(a=parseInt(this.get("width")),l=parseInt(this.get("height")),!(r&&n)){if(a==l)u=r||n||a,c=u;else if(r)var d=a/r,c=Math.floor(l/d),u=r;else if(n)var d=l/n,u=Math.floor(a/d),c=n}return{w:u,h:c}},getFitSize:function(r,n,a,l){if(r=parseInt(r),n=parseInt(n),n>r)var u=r/a,c=Math.floor(n/u),d=a;else if(r>n)var u=n/l,d=Math.floor(r/u),c=l;else var d=r,c=n;return[d,c]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var hu,fu,_s=R(()=>{we();hu=function(t,e,i={}){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let r={},n=[],a=0,l=t.attributes,u=t.childNodes;for(a=l.length;a--;)r[l[a].name]=l[a].value;for(i={...r,...i},a=u.length;a--;){let c=hu(u[a],null);n[a]=c}return At(e||t.nodeName,i,n)},fu=(t,e,i)=>{let r=window.devicePixelRatio>1,n=i/t-e*((t-1)/t);n=Math.max(n,1);let a=[];n*t+e*(t-1)>i+.001&&(e=Math.floor(i/(t-1)-n));let u=r?Math.round(e*2)/2:Math.round(e);for(let c=0;c<t;c++){let d={left:n*c+e*c,right:n*c+e*c+n};c<t-1?d.right=r?Math.round(d.right*2)/2:Math.round(d.right):d.right=i,c>0&&(d.left=a[c-1].right+u),a.push(d)}return{columnAndGutterMap:a,columnWidth:n,gutterPixelWidth:u,halfPixels:r}}});var CFe,cy,wg,Wr,Da=R(()=>{we();Pe();CFe=de(Ie(),1);j();H.isServer||(cy=new ResizeObserver(function(t){t.forEach(function(e){e.target.dispatchEvent(new CustomEvent("reference-resize",{detail:{width:e.contentRect.width},bubbles:!1,cancelable:!0,composed:!0}))})}));wg=class extends se{constructor(e){super(e),this.elementRef=be(),this.elementRef.current={},this.saveRef=i=>r=>{this.elementRef.current[i]=r}}render(){let{values:e={elWidth:"100%"}}=this.props;return g("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(i=>{let r=e[i];return g("div",{tabIndex:"-1",ref:this.saveRef(i),style:typeof r=="object"?r:{width:r}})})})}componentDidUpdate(e,i){}onResize=e=>{let i=Object.keys(this.elementRef.current).find(r=>this.elementRef.current[r]===e.target);this.props.onResize&&this.props.onResize(i,e.detail.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];i.addEventListener("reference-resize",this.onResize),cy?.observe(i)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];cy?.unobserve(i)})}};wg.defaultProps={values:{elWidth:"100%"}};Wr=wg});var OFe,xg,mn,Ws=R(()=>{we();Ee();ao();Ui();OFe=de(Ie(),1);j();xg=class extends se{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,i){return this.renderElement?Ke(g(oe,{children:e.render({...i,...e})}),this.renderElement):null}pointerIn=e=>{this.requestTick(),this.setState(i=>({pointerAttention:!0,scrollIncrement:i.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let i=this.props.buttonHeight||0,r=0,n=e.height,a=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:a,width:e.width,height:n}})};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,this.props.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),Be.removePortal(this.props.baseNode,this.renderElement)}requestTick=()=>{this.ticking||(Be.updateElementRect(this.props.baseNode),this.ticking=!0,requestAnimationFrame(()=>{this.ticking=!1}))};attachToBaseNode(){this.props.baseNode&&(this.renderElement=Be.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{this.requestTick();let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(r)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&(this.setState({pointerAttention:!0}),this.requestTick()),Be.testHover()}componentDidUpdate(e,i){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==i.pointerAttention||this.state.noPointerEvents!==i.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),Be.testHover(),this.requestTick())}};xg.defaultProps={buttonMode:"inside",buttonHeight:0};mn=oo(xg)});var Or,Sg,uo,gu=R(()=>{we();Ee();Lt();Ws();Ui();zo();lt();Or=de(Ie(),1);xi();j();Sg=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=Or.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,i){let{galleryInstance:r}=e,{initialShowOutlines:n,showTransition:a,draggingOver:l,adjacentIndexes:u,showInsertionIndicator:c,galleryIsEmpty:d,buttonHovered:f,UIWindow:m}=i,b=this.props["thumbnail-index"]!==void 0,C=23;return g(oe,{children:[g(ir,{onlyAllowCollapsedRange:!0,baseNode:r}),g("style",{children:c&&`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}

					::slotted(media-item:nth-child(${u.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${u.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${u.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${u.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`}),g(mn,{...this.props,hasFocus:!!m,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:C,buttonMode:"inside",baseNode:this.props.galleryInstance,render:S=>{let{pointerAttention:A,overlayPosition:F}=S,_=0;return F.y<=1&&(_=Math.min(-F.y+1,F.height+-C+1)),g(oe,{children:g("div",{className:`editor-overlay editor-outline${A||m?" hover":""}${A||m?" button-hover":""}${m?" focus":""}`,style:{transform:`translate3d(${F.x}px, ${F.y}px, 0)`,width:F.width+"px",height:F.height+"px",display:A||m?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${_}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:g("button",{onMouseDown:X=>{this.launchUIWindow(X)},ref:this.galleryButtonRef,className:"text",children:b?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.galleryInstance.getBoundingClientRect(),n={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:10};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let i=[],r=[],n=[],a=!1,l=!1,u=this.props["thumbnail-index"],c=!1;e.forEach(f=>{if(f.target.tagName=="MEDIA-ITEM"){if(i.indexOf(f.target)>-1||f.type!=="attributes"||f.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(f.attributeName)>-1)return;u&&i.push(f.target),!(f.attributeName==="style"||f.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(f.attributeName)&&i.push(f.target)}else f.target==this.props.galleryInstance&&(f.removedNodes.length>0||f.addedNodes.length>0)?(this.props.allowedElements&&(l=[...Array.from(f.addedNodes),...Array.from(f.removedNodes)].some(this.props.allowedElements)),a=f.addedNodes.length>0||a,r=[...r,...Array.from(f.addedNodes).filter(m=>m.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(f.removedNodes).filter(m=>m.tagName==="MEDIA-ITEM")],n.forEach(m=>{m?.parentElement?.tagName?.startsWith("GALLERY-")||m.removeAttribute("style")})):f.type==="characterData"&&(c=f.target)}),r=Or.default.uniq(r),n=Or.default.uniq(n),i=Or.default.uniq(i);let d=Array.from(this.props.galleryInstance.childNodes).filter(f=>this.props["thumbnail-index"]!==void 0&&f.nodeName==="SCRIPT"&&f.getAttribute("type")==="text/thumbnail-metadata"?!1:f?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&Or.default.remove(d,this.props.allowedElements),d.forEach(f=>{f.remove()}),(r.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(f=>f.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),(r.length>0||n.length>0||i.length>0||l||this.props["thumbnail-index"]&&c)&&this.props.onCleanUp&&this.props.onCleanUp(r,n,i,c),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=Or.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,i,r)=>{if(!this.props.disableDragOver)if((!r.customDropTarget||r.customDropTarget===this.props.galleryInstance)&&(r.draggedMediaItems.length>0||r.fromOutside)&&!r.inAdmin&&this.props.galleryInstance.contains(r.dropTarget)){this.state.showInsertionIndicator||this.dragMap.clear();let a=this.props.galleryInstance.getBoundingClientRect(),l=60,u=1.033,c=2.399827721492203,d=Array.from(this.props.galleryInstance.children),f=[],m=i.clientX+-a.left,b=i.clientY+-a.top,C=15,S,A=0,F,_=0,X=null;for(S=0;S<l;S++)if(X=null,A=A+c,C=C*u+2,F=i.clientX+Math.cos(A)*C,_=i.clientY+Math.sin(A)*C,X=document.elementFromPoint(F,_),X&&(X=X.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(X)||(X=null),X&&f.indexOf(X)===-1)if(this.dragMap.has(X)){let K=this.dragMap.get(X);F<=K.x2+a.left&&F>=K.x1+a.left&&_<=K.y2+a.top&&_>=K.y1+a.top&&f.push(X)}else f.push(X);let k=f.map(K=>{let $;if(this.dragMap.has(K))$=this.dragMap.get(K);else{let Ye=K.getBoundingClientRect();$={w:Ye.width+-(15*2),h:Ye.height+-(15*2),x1:Ye.left+-a.left+15,x2:Ye.left+Ye.width+-a.left+-15,y1:Ye.top+-a.top+15,y2:Ye.top+Ye.height+-a.top+-15},this.dragMap.set(K,$)}let fe=!1,J=!1,Z=!1,ee=!1,ue=!1,ce=!1,he=0,ve=0,Oe=0;m>=$.x1&&m<=$.x2?(J=!0,m<$.x1+$.w*.5?ce=!0:ue=!0,Oe=0):$.x1>m?(ce=!0,Oe=$.x1-m):m>$.x2&&(Oe=$.x2-m,ue=!0),b>=$.y1&&b<=$.y2?(fe=!0,b<$.y1+$.h*.5?ee=!0:Z=!0,ve=0):$.y1>b?(ee=!0,ve=$.y1-b):b>$.y2&&(Z=!0,ve=$.y2-b),he=Math.sqrt(ve*ve+Oe*Oe);let Le=d.indexOf(K),Te=K.getAttribute("slot"),He=0,rt=0;return this.props.dragIndicationType==="columns"&&(He=Array.from(K.assignedSlot.parentElement.children).indexOf(K.assignedSlot)),{inX:J,inY:fe,distance:he,rise:ve,run:Oe,above:Z,below:ee,toRight:ce,toLeft:ue,index:Le,slotIndex:He,el:K,rect:$}}),B={el:null,index:-1},G=B,V=B,te=B,D=B,z=[],re=[],ne=[],q=[];k.forEach(K=>{K.above&&ne.push(K),K.below&&q.push(K),K.toRight&&re.push(K),K.toLeft&&z.push(K)});let L=null,Q=!1;if(this.props.dragIndicationType==="columns"){let K=Or.default.minBy(ne,Z=>Math.abs(Z.distance)),$=Or.default.minBy(q,Z=>Math.abs(Z.distance)),fe=Or.default.minBy(z.filter(Z=>Z.inY),Z=>Math.abs(Z.distance)),J=Or.default.minBy(re?.filter(Z=>Z.inY),Z=>Math.abs(Z.distance));K&&$?Math.abs($.run)<Math.abs(K.run)?(D=$,te=ne.find(Z=>Z.rect.x1<D.rect.x2&&Z.rect.x2>D.rect.x1)||B):(te=K,D=q.find(Z=>Z.rect.x1<te.rect.x2&&Z.rect.x2>te.rect.x1)||B):K?te=K:$&&(D=$),fe&&J?Q=J.rect.y1!==fe.rect.y1:(fe?.rect?.y1>15||J?.rect?.y1>15||te?.index>-1)&&(Q=!0)}if(Q){if(G=B,V=B,te=te,D=D,D?.el)L=D.el;else for(L=te.el?.nextElementSibling?.assignedElements?.()[0]||null;L&&L.tagName!=="MEDIA-ITEM";)L=L?.nextElementSibling||null;r.draggedMediaItems.length===1&&d.indexOf(r.draggedMediaItems[0])>-1&&d.indexOf(L)>d.indexOf(r.draggedMediaItems[0])&&(L=L.nextElementSibling)}else{let K=Or.default.minBy(z,fe=>Math.abs(fe.distance)),$=Or.default.minBy(re,fe=>Math.abs(fe.distance));if(K&&$?Math.abs($.rise)<Math.abs(K.rise)?(V=$,G=z.find(fe=>fe.index==V.index+-1)):(G=K,V=re.find(fe=>fe.index==G.index+1)):K?G=K:$&&(V=$),te=B,D=B,V=V||B,G=G||B,V?.el)L=V.el;else for(L=G.el?.nextElementSibling;L&&L.tagName!=="MEDIA-ITEM";)L=L.nextElementSibling}this.setState({adjacentIndexes:{left:G.index,right:V.index,above:te.index,below:D.index},insertBeforeTarget:L,showInsertionIndicator:!0}),Ce.globalDragEventController.setCustomDropTarget(this.props.galleryInstance)}else this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1}),Ce.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,i,r)=>{if(!(this.props["thumbnail-index"]&&(!r.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(r.draggedMediaItems[0])))&&(Be.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart)){i.preventDefault();return}};onAfterDragStart=(e,i,r)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,i,r)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!r.inAdmin){if(r.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{r.draggedMediaItems.forEach((l,u)=>{this.props["thumbnail-index"]&&l.setSaveable(!1),this.props.galleryInstance.insertBefore(l,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(r.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=r.draggedMediaItems[0],a=r.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let l=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(u=>u.getAttribute("href")==a)),n&&(l.selectNode(n),CargoEditor.helpers.setActiveRange(l))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,i,r)=>{this.props.disableBeforeDrop};onDragFinish=()=>{Be.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(i=>i?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1}))};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),Or.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach(i=>{i._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,Ce.globalDragEventController.on("dragstart",this.onDragStart),Ce.globalDragEventController.on("dragover",this.onDragOver),Ce.globalDragEventController.on("dragend",this.onDragEnd),Ce.globalDragEventController.on("before-drop",this.onBeforeDrop),Ce.globalDragEventController.on("drop",this.onDragDrop),Ce.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),Ce.globalDragEventController.off("dragstart",this.onDragStart),Ce.globalDragEventController.off("dragover",this.onDragOver),Ce.globalDragEventController.off("dragend",this.onDragEnd),Ce.globalDragEventController.off("before-drop",this.onBeforeDrop),Ce.globalDragEventController.off("drop",this.onDragDrop),Ce.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};Sg.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};uo=ke((t,e)=>({Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}))(Sg)});var dy,py,XB,ZB=R(()=>{we();dy=de(Ie(),1);Lt();Ui();gu();j();py=class extends se{constructor(e){super(e),this.state={isDragging:!1,thumbnailsVisible:!1,thumbnailsVisibleWhileDragging:!1,hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=dy.default.debounce(this.checkRange,120)}render(e,i){let{isDragging:r,thumbnailsVisible:n}=i,{galleryInstance:a,dragContext:l}=e;return g(oe,{children:[g("style",{children:`
			media-item figcaption.caption {
				${this.state.thumbnailsVisible?"display: block":""}
			}	
		`}),g(uo,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:a,disableDragOver:!n,disableDrop:!n,allowedElements:u=>u.part=="previous-button"||u.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut})]})}onCleanUp=(e,i,r,n,a,l)=>{this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n,a,l)};onPointerIn=()=>{this.setState({pointerAttention:!0})};onPointerOut=()=>{this.setState({pointerAttention:!1})};onDragOver=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&!this.state.thumbnailsVisible&&(this.setState({thumbnailsVisibleWhileDragging:!0}),this.props.galleryInstance.showThumbnails())};onDragDrop=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&this.state.thumbnailsVisible?setTimeout(()=>{this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.debouncedCheckRange())},500):this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.props.galleryInstance?.hideThumbnails?.())};updateThumbStatus=e=>{let i=this.props.galleryInstance.thumbnailsVisible;this.setState({thumbnailsVisible:i}),i&&requestAnimationFrame(()=>{let r=CargoEditor?.rangy?.createRange(),n=this.props.galleryInstance.querySelector(".sizing-frame");n&&r&&(r.setStartBefore(n),r.setEndAfter(n),CargoEditor.helpers.setActiveRange(r),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor()))})};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),this.state.hasUIWindow||this.props.childArray.some(i=>i._editorInterface?.state?.UIWindow)||e&&this.props.galleryInstance.contains(e.commonAncestorContainer)||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};onClick=e=>{this.props.galleryInstance.thumbnailsVisible};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=dy.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{r.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,r,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let i=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");if(this.props.inTransition)i.forEach(r=>{Be.deactivateHoverElement(r),Be.lockItem(r)});else if(this.state.pointerAttention){i.forEach(n=>{Be.deactivateHoverElement(n),Be.unlockItem(n)});let r=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));r&&Be.activateHoverElement(r)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),Ce.globalDragEventController.on("dragover",this.onDragOver),Ce.globalDragEventController.on("drop",this.onDragDrop),this.props.galleryInstance.addEventListener("click",this.onClick),this.props.galleryInstance.addEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.addEventListener("hide-thumbnails",this.updateThumbStatus),this.updateThumbStatus()}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),this.props.galleryInstance.removeEventListener("click",this.onClick),this.props.galleryInstance.removeEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.removeEventListener("hide-thumbnails",this.updateThumbStatus),Ce.globalDragEventController.off("drop",this.onDragDrop),Ce.globalDragEventController.off("dragover",this.onDragOver)}},XB=py});var PB,VB=R(()=>{PB=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function UB(t,e,i,r){let n,a,l;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(a=n.constructor,a&&a.getDerivedStateFromError!=null&&(n.setState(a.getDerivedStateFromError(t)),l=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n._dirty),l)return n._pendingError=n}catch(u){t=u}throw t}var HB=R(()=>{});var koe,Fd,zB=R(()=>{HB();koe={_catchError:UB},Fd=koe});function co(t,e,i,r,n){let a;for(a in i)a!=="children"&&a!=="key"&&!(a in e)&&QB(t,a,null,i[a],r);for(a in e)(!n||typeof e[a]=="function")&&a!=="children"&&a!=="key"&&a!=="value"&&a!=="checked"&&i[a]!==e[a]&&QB(t,a,e[a],i[a],r)}function YB(t,e,i){e[0]==="-"?t.setProperty(e,i??""):i==null?t[e]="":typeof i!="number"||PB.test(e)?t[e]=i:t[e]=i+"px"}function QB(t,e,i,r,n){let a;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||YB(t.style,e,"");if(i)for(e in i)(!r||i[e]!==r[e])&&YB(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")if(a=e!==(e=e.replace(/Capture$/,"")),e.toLowerCase()in t?e=e.toLowerCase().slice(2):e=e.slice(2),t._listeners||(t._listeners={}),t._listeners[e+a]=i,i){if(!r){let l=a?JB:jB;t.addEventListener(e,l,a)}}else{let l=a?JB:jB;t.removeEventListener(e,l,a)}else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||e.indexOf("-")!=-1)?t.setAttribute(e,i):t.removeAttribute(e))}}function jB(t){return this._listeners[t.type+!1](Fd.event?Fd.event(t):t)}function JB(t){return this._listeners[t.type+!0](Fd.event?Fd.event(t):t)}var La=R(()=>{VB();zB()});var qB,$B=R(()=>{qB=(t,e={})=>{let i=t.replace(/[#$%<>&=\?\\\/]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),r=i.length>0?i:"_";if(e.inUse){let n=r,a=1;for(;e.inUse.includes(n);)n=r+`-${a++}`;return n}return r}});function KB(t){let e=t.split(":"),i=e[0],r="all";switch(i){case"set":r=Os.default.tail(e).map(n=>n).join(":");break;case"tag":r=Os.default.tail(e)[0]?.split(",").map(n=>qB(n.trim()));break;case"img":r="all";break;case"all":r="all";break}return{type:i,value:r}}function Zoe(t){class e extends Ii{constructor(r){super(r),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150}}getMapFromAttribute=()=>{let r={};try{let n=unescape(this.props["thumbnail-index-metadata"]||"{}");r=JSON.parse(n)}catch(n){r={},console.error("failed to load saved thumbnail map: ",n)}return r};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=r=>r.purl===this.props.activePURL||r.id===this.props.PIDBeingEdited;render(r){if(!r["thumbnail-index"]||r["thumbnail-index"]==="null"){let c={...r,"thumbnail-index":void 0};return g(t,{...c})}let n=this.state.thumbnails.length>0,a=n&&r["show-tags"],l=n&&r["show-title"],u=n||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?[null,null,null].fill({attributes:{href:null,hash:"placeholder"},purl:null,thumbnail:null,tags:[],title:null}):[];return this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(u=Os.default.sortBy(u,c=>{let d=this.state.attributeMap?.[c.id];return d!=null?d.sort+1:0})),u=u.slice(0,this.state.renderLimit),this.renderedItemCount=u.length,g(t,{...r,onCleanUp:this.onCleanUp,disableDragOver:!0,children:u.map((c,d)=>{let f=c.thumbnail?.is_video||null;return At("media-item",{...this.state.attributeMap[c.id]?.attributes,saveable:!1,model:c.thumbnail,autoplay:f,loop:f,muted:f,href:c.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+c.id,"disable-zoom":!0,className:`thumbnail linked ${c.tags.map(m=>/^\d/.test(m.url)?"-"+m.url:m.url).join(" ").toLowerCase()}${this.isActiveLink(c)?" active":""}`,...c.attributes},g("figcaption",{class:`caption${!l&&!a?" empty":""}`,slot:"caption",children:[l?g("div",{className:"page-title",children:c.title},"title-"+c.url+"-"+c.title+"-"+this.state.layoutIncrement):null,c.tags.length>0&&a?g("div",{className:"tags",children:c.tags.map((m,b)=>g(oe,{children:[g("a",{href:m.url,className:"tag-link",rel:r["links-filter-index"]?"filter-index":"history","data-tag":m.tag,children:m.tag+""}),b<c.tags.length-1?g("span",{className:"tag-separator"}):null]},"tag-link-"+m.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=r=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(r.preventDefault(),r.stopPropagation())};componentDidUpdate(r,n){this.fixBadNullValue(),this.props["thumbnail-index"]&&(r["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==r.thumbCollection||this.props.sort!==r.sort||this.props.lastPublishedAt!==r.lastPublishedAt)&&this.setThumbnails(),this.props["thumbnail-index-metadata"]!==r["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==r["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var r=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(r)}))};updateOldThumbMetaData=Os.default.debounce(()=>{let r=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(r){try{let n=escape(r.textContent);CargoEditor&&CargoEditor.mutationManager&&CargoEditor.mutationManager.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",n)})}catch{}CargoEditor&&CargoEditor.mutationManager&&CargoEditor.mutationManager.execute?.(()=>{r.remove()})}},2e3);componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails)}componentWillUnmount(){cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=r=>{r.metaKey||r.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(r.key)||r.key==="Enter"||r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let r=KB(this.props["thumbnail-index"]),n=this.props.lastPublishedAt,a=[];switch(r.type){case"set":try{({data:a}=await Nd.default.get(`${Pt}/pages/${this.props.siteId}/thumbs/set/${r.value}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:a}=await Nd.default.get(`${Pt}/pages/${this.props.siteId}/thumbs/tag/${r.value.join(",")}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"img":try{({data:a}=await Nd.default.get(`${Pt}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}))}catch{}a=a.filter(c=>c.media.length>0&&c.password_enabled==!1),a=Os.default.flatMap(a,c=>c.media.map(d=>({display:!0,id:d.id,purl:c.purl,url:c.purl,sort:0,tags:[],thumbnail:d,title:g(oe,{children:[g("a",{href:c.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:c.title}),g("br",{}),g("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+d.hash+"/"+d.name,children:d.name})]}),attributes:{href:null,"force-quick-view":!0,hash:d.hash}})));break;default:try{({data:a}=await Nd.default.get(`${Pt}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let l=Os.default.unionBy(this.props.thumbCollection,a,"id").sort((c,d)=>c.sort-d.sort);switch(this.props.sort||"forward"){case"reverse":l.reverse();break;case"shuffle":l.sort(c=>Math.random()-.5);break}l=l.filter(c=>c.pin!==!0&&c.display!==!1&&c.id!==this.props.homepageID&&c.id!==this.props.mobileHomepageID&&c.crdt_state!==Vt.Deleted&&c.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==c.id),this.setState({initialLoad:!0,thumbnails:l})};onCleanUp=(r,n,a,l)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode)return;let u={},c="",d=store.getState();if(Array.from(this.props.baseNode.children).filter(m=>m.tagName==="MEDIA-ITEM").forEach((m,b)=>{let C=m.getAttribute("href"),S={},A=m.attributes,F=0;for(F=A.length;F--;)A[F].name==="saveable"||A[F].name==="limit-by"||A[F].name==="class"||A[F].name==="hash"||A[F].name==="href"||A[F].name==="rel"||A[F].name==="slot"||A[F].name==="width"||A[F].name==="height"||A[F].name==="disable-zoom"||(S[A[F].name]=A[F].value);let _=at.getContentByPurl(d,C)?.id||null;_&&(u[_]={sort:b,attributes:S})}),u={...this.state.attributeMap,...u},c=JSON.stringify(u),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor&&CargoEditor.mutationManager&&CargoEditor.mutationManager.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)}),this.setState({attributeMap:u||{}});else if(l){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let m=CargoEditor.rangy.createRange();m.selectNode(this.props.baseNode),m.collapse(),CargoEditor.helpers.setActiveRange(m)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return qt(ke((i,r)=>{let n=Xoe(r["thumbnail-index"],i.structure,i.pages),a=(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl;return!H.isServer&&!a&&(a=window.location.pathname.replace(/^\//,"")),typeof a=="string"&&(a=a.toLowerCase()),{lastPublishedAt:i.adminState?.crdt?.publishedAt??"000",thumbCollection:n,activePURL:a,adminMode:i.frontendState.adminMode,PIDBeingEdited:i.frontendState.PIDBeingEdited,inAdminFrame:i.frontendState.inAdminFrame,siteId:i.site.id,homepageID:i.site.homepage_id,mobileHomepageID:i.site.mobile_homepage_id}})(e))}var Nd,Os,Xoe,po,mu=R(()=>{we();Ee();lt();Lt();Pe();Nd=de(Ur(),1);Ki();zr();xi();$B();Os=de(Ie(),1);j();we();Xoe=Es((t,e,i)=>{let r=[];if(!t)return r;let n=KB(t);switch(n.type){case"set":r=(e.byParent[n.value]||[]).map(a=>i.byId[a]).filter(a=>a!==void 0);break;case"tag":r=Object.values(i.byId).filter(a=>a.tags&&a.tags.find(l=>n.value.includes(l.url)));break;case"img":r=[];break;default:r=Object.values(i.byId);break}return r.map(a=>{let l=null;return a.thumb_media_id&&a.media?l=a.media.find(u=>u.id===a.thumb_media_id)||null:a.thumbnail&&(l=a.thumbnail),{id:a.id,title:a.title,purl:a.purl,thumb_meta:a.thumb_meta||{},display:a.display,sort:e.bySort[a.id],tags:a.tags||[],pin:a.pin,crdt_state:a.crdt_state,thumbnail:l}})});po=Zoe});var rM,ui,eM,hy,tM,iM,Poe,Voe,Uoe,Hoe,Ts,fy,gy,Rg,zoe,Eg=R(()=>{we();Ee();Ee();_s();lt();er();Da();ZB();La();tr();mu();gn();ao();Ki();Pe();rM=de(Ie(),1);j();we();ui={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};ui.defaults=H.collapseOptions(ui.options);ui.mobileDefaults=H.collapseOptions(ui.mobileOptions);eM=.04,hy=.25,tM=.05,iM=.1,Poe=.08,Voe=2,Uoe=3,Hoe=15,Ts=0,fy=1,gy=2,Rg=class extends Ii{constructor(e){super(e),this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:H.isServer,visible:!H.isServer,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:Ts},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.slideListRef=be(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:i=>this.setState({showThumbnails:!!i}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:i,nextNavigation:r}=this.getNavigation();(this.state.prevNavigation!==i||this.state.nextNavigation!==r)&&this.setState({nextNavigation:r,prevNavigation:i})}}render(e,i){this.updateOptions();let{baseNode:r,adminMode:n,pageInfo:a}=e,{showThumbnails:l,activeIndex:u,destinationIndex:c,inTransition:d,isPointerDown:f,scrubAnimating:m,hasLoaded:b,pointerOver:C,hasSizes:S,initialShowNavigation:A,captionHeightMap:F}=i,{showCaptions:_,autoPlayDelay:X,limitBy:k,adjustForCaptions:B}=this.options,{elWidth:G}=i;S.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,G=this.cachedElWidth);let V=k==="fit"?"var(--fit-height)":H.getCSSValueAndUnit(this.options.scale,k=="width"?"%":"rem").join(""),te=this.renderSlides(),D=g("div",{ref:this.slideListRef,className:"slide-list",draggable:!1,tabIndex:0,children:te}),z={};l||(z.onKeyDown=this.handleKeyDown,z.onClickCapture=this.onClickCapture,z.className="slideshow-wrapper",d&&(z.className+=" in-transition"),f&&(z.className+=" pointer-down"),m&&this.isScrub&&(z.className+=" scrubbing"));let re=k==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,ne=this.makeMediaItemAttributes(),q=this.mediaItems.map(($,fe)=>{let J=ne[fe].slot,Z=$._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},ee="100%",ue=Z.width,ce=Z.height,he=null;if(l)ee=null;else if(typeof ue=="string"&&ue.indexOf("%")>-1)ee=ue;else if(k!=="width"){let ve=this.state.captionHeightMap[fe]||0;B?he=re+-ve:he=re;let Oe=ce/ue,Le=he+-Z.mediaItemSize.padSize+-Z.mediaSize.padSize,Te=Le*(1/Oe),He=(Le+Z.mediaSize.padSize)/(Te+Z.mediaSize.padSize),rt=(he+-Z.mediaItemSize.padSize)*(1/He);Math.abs(rt+Z.mediaItemSize.padSize-G)<1?ee="100%":ee=`${Math.min(100,100*(rt+Z.mediaItemSize.padSize)/G)}%`}return{captionHeight:this.state.captionHeightMap[fe]||0,customSlideHeight:he,figureWidth:ee,slot:J}}),L=Math.min(this.options.speed/2,.1),Q=Math.max(Math.floor(G/200),2);this.setMediaElementProperties(ne);let K=this.getSlideListStyles();return this.slideListRef.current&&K.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=K.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=K["--slideshow-caption-transform"]),g(oe,{children:[Ke(g(oe,{children:[g("style",{children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${b||l?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${C||A?1:0};
    --slide-height: ${re}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${l?`
	    display: grid;
		grid-template-columns: repeat(${Q}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${L}s;	
		--display-slideshow-captions: ${_?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${l?"":q.map(($,fe)=>`
::slotted(media-item[slot="${$.slot}"]){
	--item-width: ${$.figureWidth};
	--slide-height: ${$.customSlideHeight||re}px; 
	--caption-height: ${$.captionHeight}px;
}`).join("")}

${l?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${G}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${G}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${G}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap)}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
    display: none;
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    cursor: ew-resize;
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${L==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n&&a.isEditing&&!H.isServer&&g(XB,{...e,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:[],galleryInstance:r}),!l&&this.options.navigation&&this.len>1&&g("div",{className:"navigation-wrapper",part:`slideshow-nav ${C||A?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),l?g("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):g("div",{part:"slides",...z,onPointerDown:this.onPointerDown,children:D}),g(Wr,{values:{slideHeightPx:V,elWidth:"100%"},style:l?{gridColumn:`1 / span ${Q}`}:null,onResize:this.onResize})]}),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),i=e.find(n=>n.getAttribute("part")=="previous-button"),r=e.find(n=>n.getAttribute("part")=="next-button");return i?i=hu(i,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,gy),key:"previous-button",part:"previous-button"}):i=g("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,gy),children:g("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),r?r=hu(r,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,fy),key:"next-button",part:"next-button"}):r=g("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,fy),children:g("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:i,nextNavigation:r}};updateOptions(){let{"adjust-for-captions":e=ui.defaults["adjust-for-captions"].value,"limit-by":i=ui.defaults["limit-by"].value,scale:r=ui.defaults.scale.value,autoplay:n=ui.defaults.autoplay.value,"autoplay-delay":a=ui.defaults["autoplay-delay"].value,"transition-speed":l=ui.defaults["transition-speed"].value,"transition-type":u=ui.defaults["transition-type"].value,navigation:c=ui.defaults.navigation.value,"vertical-align":d=ui.defaults["vertical-align"].value,"horizontal-align":f=ui.defaults["horizontal-align"].value,shuffle:m=ui.defaults.shuffle.value,"show-captions":b=ui.defaults["show-captions"].value,"disable-zoom":C=ui.defaults["disable-zoom"].value,"pause-on-hover":S=ui.defaults["pause-on-hover"].value,"mobile-limit-by":A,"mobile-scale":F,"mobile-adjust-for-captions":_,"mobile-autoplay":X,"mobile-autoplay-delay":k,"mobile-transition-speed":B,"mobile-transition-type":G,"mobile-navigation":V,"mobile-vertical-align":te,"mobile-horizontal-align":D,"mobile-shuffle":z,"mobile-show-captions":re,"mobile-pause-on-hover":ne,"auto-height":q=ui.defaults["auto-height"].value,"height-limit":L=ui.defaults["height-limit"].value,"mobile-auto-height":Q,"mobile-height-limit":K}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(q==="custom"?(i="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(r=L)):q==="fit"?(i="fit",this.props.scale==null&&(r=100)):(i="width",this.props.scale==null&&(r=100))),u=u=="fade"||u=="scrub"?u:"slide";let $=this.props.isMobile,fe={adjustForCaptions:$&&_!==void 0?_:e,shuffle:$&&z!==void 0?z:m,autoplay:$&&X!==void 0?X:n,autoPlayDelay:$&&k!==void 0?k:a,speed:$&&B!==void 0?B:l,type:$&&G!==void 0?G:u,navigation:$&&V!==void 0?V:c,disableZoom:C,limitBy:$&&A!==void 0?A:i,scale:$&&F!==void 0?F:r,vAlign:$&&te!==void 0?te:d,hAlign:$&&D!==void 0?D:f,showCaptions:$&&re!==void 0?re:b,pauseOnHover:$&&ne!==void 0?ne:S};fe.speed==0&&fe.type==="slide"&&(fe.type="fade"),this.options=fe,this.isScrub=fe.type==="scrub",this.isSlide=fe.type==="slide",this.isFade=fe.type==="fade";let J=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(ue=>ue.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let he=0;he<this.len;he++)this.shuffleList.push(he);let ue=this.shuffleSeed,ce=0;this.shuffleList=this.shuffleList.sort(he=>(ce++,Math.sin(he*1e3+ce*2+ue*ue)))}}else this.shuffleList=[];let Z=this.isScrub?Math.min(Hoe,(this.len-1)/2):Math.min(Uoe,(this.len-1)/2),ee=Z;ee=Math.max(1,Math.floor(ee)),Z=Math.max(1,Math.ceil(Z)),this.len==3?(ee=1,Z=1):this.len==2?ee=0:this.len==1&&(ee=0,Z=0),this.lazyloadPrev=ee,this.lazyloadNext=Z}setMediaElementProperties=e=>{if(this.len==0)return;[...this.mediaItems].forEach((r,n)=>{let a=e[n]||{},l=a.visibility||!1;delete a.isAdjacent,delete a.visibility,this.state.hasLoaded?a.itemLoad=null:a.itemLoad=this.onMediaLoad;let u=r._props||{};co(r,{...u,...a},u,!1,!1),r._setZoomStatus?.(this.options.disableZoom),r.assignedSlot&&this.state.visible&&!this.state.inTransition?(vt(r,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),l||r.getAttribute("autoplay")==="true"?vt(r,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):vt(r,"viewportIntersectionChange",{visible:!1,position:"below"},{bubbles:!1})):vt(r,"viewportIntersectionChange",{visible:!1,position:"below"},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(r=>{let n=r.assignedSlot;return r.tagName==="MEDIA-ITEM"&&n!==null&&r.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let i=this.props.pageInfo.getPageData(this.props.baseNode);i.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,i.activeSlide>=this.len?this.waitingToGoToSlide=i.activeSlide:this.goToSlide(i.activeSlide)),H.isServer||(Ci(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),H.isServer||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),Si(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible})};componentDidUpdate(e,i){if(e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),this.props.quickView.inited&&(this.props.quickView.activeIndex!==e.quickView.activeIndex||this.props.quickView.inited!==e.quickView.inited)){let a=(this.props.quickView.elementArray&&this.props.quickView.elementArray[this.props.quickView.activeIndex])?.el;if(a&&this.props.baseNode.contains(a)){let l=this.mediaItems.indexOf(a),u=this.getWrapAroundDistanceFromIndex(l,this.state.activeIndex,this.mediaItems.length),c=!1,d=!1,f=!1;u>1||this.state.inTransition||this.state.activeIndex!==this.state.destinationIndex?f=!0:this.state.activeIndex===this.mediaItems.length-1&&l==0?c=!0:this.state.activeIndex===0&&l===this.mediaItems.length-1?d=!0:l>this.state.activeIndex&&u==1?c=!0:l<this.state.activeIndex&&u==-1&&(d=!0),f?this.goToSlide(l):c?this.nextSlide():d&&this.prevSlide()}}e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(i.layoutIncrement!==this.state.layoutIncrement||i.elWidth!==this.state.elWidth||i.slideHeightPx!==this.state.slideHeightPx||i.hasSizes.elWidth!==this.state.hasSizes.elWidth||i.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes();let r=!1;this.props.thumbnails!=e.thumbnails&&(r=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({destinationIndex:n.activeIndex,cancelFadeTransition:!0}),()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})}),r=!0,this.onPointerUp(),this.onSlideEnd()),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(r=!0),i.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(r=!0),i.visible!=this.state.visible&&(r=!0),i.hasLoaded!==this.state.hasLoaded&&(r=!0),r&&clearTimeout(this.autoplayInterval),r&&this.startAutoplay(),this.isScrub&&(!i.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&i.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==i.activeIndex&&(this.props.pageInfo.setPageData({activeSlide:this.state.activeIndex},this.props.baseNode),this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80))),(this.state.inTransition!==i.inTransition||this.state.isPointerDown!==i.isPointerDown||this.state.isDragging!==i.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform()),this.state.activeIndex!==i.activeIndex&&this.state.activeIndex}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearInterval(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,i,r)=>{this.setState(n=>{let a=Array.from(i.children).find(d=>d.getAttribute("slot")==="caption"),l=[...n.captionHeightMap],u=n.captionHeightMap[r],c=0;if(a){let d=window.getComputedStyle(a),f=d.getPropertyValue("position");f==="fixed"||f==="absolute"?c=0:d.getPropertyValue("box-sizing")==="content-box"?(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0,c+=parseFloat(d.getPropertyValue("padding-top"))||0,c+=parseFloat(d.getPropertyValue("padding-bottom"))||0,c+=parseFloat(d.getPropertyValue("border-top"))||0,c+=parseFloat(d.getPropertyValue("border-bottom"))||0):(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0)}else c=0;return c!==u?(l[r]=c,{captionHeightMap:l,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:i}=this.state;!e.elWidth&&this.cachedElWidth&&(i=this.cachedElWidth);let r=this.mediaItems.map((l,u)=>{let c=l._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},d=c.width,f=c.height,m=f;if(typeof d=="string"&&d.indexOf("%")>-1)m=parseFloat(f)+c.mediaItemSize.padSize+c.mediaSize.padSize||150+c.mediaItemSize.padSize+c.mediaSize.padSize;else{let b=f/d;if(c.mediaSize.padSize>0){let C=((i-c.mediaSize.padSize)*b+c.mediaSize.padSize)/i;m=(i-c.mediaItemSize.padSize)*C+c.mediaItemSize.padSize}else m=(i-c.mediaItemSize.padSize)*b+c.mediaItemSize.padSize}return m}),n=rM.default.maxBy(r,l=>l||0)||0,a={index:r.indexOf(n),height:n};this.setState({tallestSlide:a})};onResize=(e,i)=>{this.setState(r=>({hasSizes:{...r.hasSizes,[e]:!0},[e]:i}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{this.setState({pointerOver:!1})};scrubAnimate=()=>{let{elWidth:e}=this.state,i=eM===0?1/this.len:eM,r=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let a=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=a,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===gy?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-iM):this.state.scrubStatus===fy?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+iM):this.state.scrubStatus===Ts&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+tM):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-tM));if(Math.abs(this.pointerFrameDeltaX)>hy*i*e&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=hy*i*e:this.pointerFrameDeltaX=-(hy*i)*e),this.state.isPointerDown){let a=this.lastPointerX-this.pointerX,l=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(a-l)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,r=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=r-this.firstPointerX,Math.abs(this.xDrag/e)>i&&this.len>1){let a=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:a,activeIndex:a}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==Ts&&this.scrubCounter>=30&&!this.state.isPointerDown?(this.setState({scrubAnimating:!1}),this.scrubCounter=0,this.options.autoplay&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter++,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,i)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:i}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:Ts}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onPointerDown=e=>{e.defaultPrevented||e.target.closest(".caption")||!this.slideListRef.current||e.button==2||(this.cancelClick=!1,clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(i=>({isPointerDown:!0})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",i="translateX(0)";return this.isSlide&&(e=`translateX(${this.state.elWidth*(-1+(1-this.lazyloadPrev))+Math.round(this.xTransform)}px)`,i=`translateX(${-Math.round(this.xTransform)}px)`),{"--slideshow-caption-transform":i,transform:e}};updateSlideTransform=e=>{let{destinationIndex:i,activeIndex:r,elWidth:n,finishingTransition:a}=this.state,l="";this.progress===void 0&&(this.progress=0);let u=!1;if(this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){l="transform";let d=this.xDrag+this.initialXTransform,f=0,m=d,b=n;i>r?b=-n:i<r?b=n:b=0;let C=Math.abs(b-m);if(u=C<40,this.state.isDragging||this.state.isPointerDown)this.progress=0;else{let S=0;!e||e==0?this.lastTimestamp=0:(this.lastTimestamp==0&&(this.lastTimestamp=e),S=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isPointerDown||(this.progress=this.progress+S)),a?f=H.easeOutCubic(this.progress/(this.options.speed*1e3*(C/n))):f=H.easeInOutSine(this.progress/(this.options.speed*1e3)),d=f*b+(1-f)*m}d=Math.min(Math.max(-n,d),n),this.xTransform=d,f>=1&&!(this.state.isPointerDown||this.state.isDragging)?this.onSlideEnd():this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.xTransform=0,this.progress=0;let c=this.getSlideListStyles();this.slideListRef.current&&c.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=c.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=c["--slideshow-caption-transform"],this.slideListRef.current.style.willChange=l),this.setState(d=>d.skipTransitionWhenClicked!==u?{skipTransitionWhenClicked:u}:null)};onPointerUp=e=>{window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let i=!1;e?.target?.closest("a, [href]")?i=!0:e?.preventDefault(),this.dragDelta=void 0;let r=!1;this.setState(n=>{let{elWidth:a,scrubStatus:l,isPointerDown:u,isDragging:c,inTransition:d,finishingTransition:f,scrubAnimating:m,activeIndex:b,destinationIndex:C,skipTransitionWhenClicked:S}=n;return S&&d?(r=!0,cancelAnimationFrame(this.updateSlideTransformAnimationFrame),d=!1,this.initialXTransform=0,this.xDrag=0,this.xTransform=0,r=!0):(n.isDragging||d?((this.isSlide||this.isFade)&&(f=!0),this.isScrub&&(m=!0)):i?C=b:(!this.isScrub||this.isScrub&&Math.abs(this.xDrag)<8)&&(C=b+1),this.isScrub||this.options.speed==0?d=!1:d=!0),l=Ts,c=!1,u=!1,{elWidth:a,scrubStatus:l,isPointerDown:u,isDragging:c,inTransition:d,destinationIndex:C,scrubAnimating:m,finishingTransition:f}},()=>{(this.isScrub||this.options.speed==0||r)&&!i&&(this.onSlideEnd(),r&&this.nextSlide())})};onWindowPointerMove=e=>{this.dragDelta=this.pointerX===void 0?0:e.clientX-this.pointerX,this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(i=>{let{activeIndex:r,destinationIndex:n,elWidth:a,scrubStatus:l,isPointerDown:u,isDragging:c,scrubAnimating:d}=i,f={...i},m=Math.abs(this.xDrag/a),b=a*(-2+(1-this.lazyloadNext)),C=a*(1-this.lazyloadPrev);if(!i.isDragging&&i.isPointerDown&&Math.abs(this.xDrag)>Voe&&(f.isDragging=!0,this.cancelClick=!0),f.isDragging&&(m>Poe&&this.len>1&&(n=this.xDrag<0?r+1:r-1),n<-1&&(n=n+this.len)),f.destinationIndex=n,f.activeIndex=r,i.activeIndex!==r||i.destinationIndex!==n)return f;{let S=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=S.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=S["--slideshow-caption-transform"]),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex+1;return r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Ts):r.destinationIndex=n,this.xDrag=0,r.finishingTransition=!1,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e&&(e.stopPropagation(),e.preventDefault()),!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex-1;return n<-1&&(n=n+this.len),r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Ts):r.destinationIndex=n,this.xDrag=0,r.finishingTransition=!1,r}),this.options.speed==0&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let i=e?.target?.closest?.("media-item")||null;if(i){let r=Array.from(this.props.baseNode.children).indexOf(i);this.setState({destinationIndex:r,activeIndex:r},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0},()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(e=>{e.offsetHeight}),this.setState({cancelFadeTransition:!1})}),this.setState(e=>{let i={...e};return i.inTransition=!1,this.xTransform=0,i.activeIndex=i.destinationIndex=(i.destinationIndex+this.len+this.len+this.len)%this.len,i},()=>{if(this.props.afterSlideChange){let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,i)}}),this.startAutoplay()};onSlideOpacityTransitionEnd=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,i,r)=>{let n=r*.5,a=n-Math.abs((e+-i)%(2*n)-n);return a<-n&&a<0&&(a=a+r),a};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:i,slideHeightPx:r,activeIndex:n,actualCardSize:a,destinationIndex:l}=this.state,{shuffle:u,limitBy:c,scale:d,adjustForCaptions:f}=this.options,m=u&&!e,b=[];for(let C=0;C<this.len;C++){let S=(C+this.len)%this.len,A=S;m&&(A=this.shuffleList[S]);let F=`slot-${A}`,_=Math.abs(this.getWrapAroundDistanceFromIndex((A+this.len)%this.len,n,this.len))<3,X={itemDragStart:this.onDragStart,itemResize:(k,B)=>{this.onItemResize(k,B,A)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:_,visibility:n==S,slot:e?"thumbnails":F};b.push(X)}return b};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let i=Array.from(this.props.baseNode.children).filter(n=>{let a=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&a!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var r=this.isFade?Math.min(i.length,3):i.length;this.loadedItems.size>=r&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:i,activeIndex:r,inTransition:n,showThumbnails:a}=this.state,{xDrag:l,initialXTransform:u}=this,c=[],f=(u%e+l>0||i<r)&&this.isSlide&&this.len==2;for(let m=-this.lazyloadPrev;m<this.lazyloadNext+1;m++){let b=m;f&&(b=b+-1);let C=(b+r+this.len*2)%this.len,S="slot-"+C,A=!1,F=!1,_={};_.className=`slide ${this.options.type}-transition`,(i+this.len)%this.len==C&&(F=!0,_.className+=" destination-slide"),(r+this.len)%this.len==C&&(A=!0,_.className+=" active-slide"),_.part="slide",_.style={},a||(_.style={width:`${e}px`,transform:f?"translateX("+-e+"px)":null}),this.isFade&&(_.onTransitionEnd=X=>{this.onSlideOpacityTransitionEnd(X,b)}),b==-1&&(_.part+=" "+this.options.type+"-slide-previous"),b==1&&(_.part+=" "+this.options.type+"-slide-next"),b>=-1&&b<=1?(_.className+=" adjacent-slide",_.part+=" "+this.options.type+"-slide-adjacent"):_.className+=" non-adjacent-slide",_.slot=S,c.push(At("div",{..._,key:"slot_"+S},g("slot",{name:S})))}return c};goToSlide=e=>{e=e%this.len||0,this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1})};getActiveSlide=()=>{let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,i]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var r=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);r&&window.getSelection()?.removeAllRanges()}this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};Rg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};zoe=qt(po(ke((t,e)=>({isMobile:t.frontendState.isMobile,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode}))(Rg)));li(zoe,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var nM,my,by,oM,aM=R(()=>{we();Ee();nM=de(Ie(),1);Eg();La();lt();xi();Pe();oi();er();gn();j();my={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_image:!0,is_video:!1},by=class extends se{constructor(e){super(e),this.state={isMobile:tt.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=be(),this.wallpaperRef=be(),this.slideshowRef=be(),this.navigationRef=be()}render(){let{showNavigation:e,navigationContainer:i,isMobile:r}=this.state,{modelArray:n,singleModel:a,visibility:l,wrapperDimensions:u}=this.props,c={};for(let[X,k]of Object.entries(_a.wallpaper.default.defaults))this.props.settings?.hasOwnProperty(X)?c[X]=this.props.settings[X]:c[X]=k.value;let d=bv(c.margin,"%"),f="";d[1]==="%"?(d[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(d[0])*.01,d[1]="px"):d[1].includes("rem")&&r&&(d[0]="calc( var(--mobile-padding-offset, 1) * "+d[0]+"rem )",d[1]="");let m;d[1]==="px"?m=this.props.dimensions.height+.5-d[0]*2+"px":d[0]?.indexOf?.("calc(")>-1?m=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${d[0].replace("calc(","")} ) )`:m=`calc( ${this.props.dimensions.height+.5}px - ${d[0]*2+d[1]} )`;let b=c["image-fit"]=="fit",C={autoplay:c.autoplay,"transition-speed":c["transition-speed"],"transition-type":c["transition-type"],"autoplay-delay":c["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:c.shuffle,navigation:!1,scale:m,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange},S=this.props.settings.alignments||{},A="";for(let[X,k]of Object.entries(S))A+=` media-item[hash="${X}"] { --position-image: ${k.x}% ${k.y}% }`;let F=null,_=null;return n.length>0&&(_=c.navigation&&c["cycle-images"]&&n.length>1?g(oe,{children:[g("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:g("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?Ke(g(oe,{children:[g("style",{children:`
[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),g("div",{part:"slideshow-nav",children:[g("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:g("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),g("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:g("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),g("div",{className:"page-layout",children:g("div",{className:"page-content"})})]}):null,F=c["cycle-images"]&&n.length>1?g("gallery-slideshow",{...C,className:"image-container multiple-item",ref:this.slideshowRef,children:n.length<2?g(oe,{children:[g("media-item",{"disable-zoom":!0,hash:"placeholder",part:"media-item"},"slide-1"),g("media-item",{"disable-zoom":!0,hash:"placeholder",part:"media-item"},"slide-2")]}):n.map((X,k)=>g("media-item",{"image-fit":b?"fit":"fill","disable-zoom":!0,hash:X.hash,muted:"true",autoplay:X.is_video,loop:!0,part:"media-item"},"slide-"+k))}):g("div",{className:"image-container single-item",children:g("media-item",{"image-fit":b?"fit":"fill","disable-zoom":!0,hash:a?.hash||"placeholder",model:a,part:"media-item",muted:"true",autoplay:a.is_video,loop:"true",itemLoad:this.onFirstLoad,"limit-by":b?"height":"width",scale:b?m:"100%"})})),g("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&Ke(g(oe,{children:[g("style",{children:`:host {
						background-color: ${c["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					    
					    transform: translate3d(0,0,0);
					    opacity: ${this.state.loaded?1:0};
					    transition: opacity 0.5s ease-in-out;

					}

					gallery-slideshow media-item figcaption.caption {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${b?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${d.join("")};
					}

					.image-container {
						opacity: ${c.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${b?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${m};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${A}`}),_&&i&&Ke(_,i),g("div",{className:"overlay"}),g("div",{className:"inner",ref:this.containerRef,children:F})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{this.state.showNavigation||this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=nM.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){if(tt.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),window.addEventListener("pointermove",this.onPointerMove),this.props.backdropRef.current){let e=document.createElement("div");e.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(e),this.setState({navigationContainer:e})}setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){tt.off("mobile-change",this.onMobileChange),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove),this.hideNavigation.cancel()}componentDidUpdate(e,i){if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.onPointerMove(),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let r=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(r){let n=Array.from(this.slideshowRef.current.children).indexOf(r);this.slideshowRef.current.goToSlide(n)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{Array.from(this.containerRef.current.querySelectorAll("media-item")).forEach(i=>{vt(i,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),vt(i,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1})})};onFirstLoad=e=>{if(this.slideshowRef.current){let i=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:i[0],mediaItem:i[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,i)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:i},composed:!1,bubbles:!1}))}},oM=ke((t,e)=>{let i=at.getMediaByParent(t)[e.id],r=i.some(l=>l.loading);i=i.filter(l=>!l.loading&&!l.is_deleted);let n=null,a=e.settings?.activeImage||null;return a===my.hash?(n=my,i.push(n)):(a&&(n=i.find(l=>l.hash==a)),n||(n=i[0])),!n&&!r&&i.length==0&&(n=my,i.push(n)),e.settings.excluded&&(i=i.filter(l=>e.settings.excluded.indexOf(l.hash)==-1),i.length==1&&e.settings["cycle-images"]&&(n=i[0])),e.settings.order&&i.sort(function(l,u){return e.settings.order.indexOf(l.hash)<e.settings.order.indexOf(u.hash)?-1:1}),{singleModel:n,modelArray:i}})(by)});var CNe,vy,sM,lM=R(()=>{we();Ee();CNe=de(Ie(),1);lt();xi();Pe();j();vy=class extends se{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=be()}render(){let{visibility:e,dimensions:i}=this.props,{counter:r}=this.state,n={};for(let[ue,ce]of Object.entries(_a.gradient.default.defaults))this.props.settings?.hasOwnProperty(ue)?n[ue]=this.props.settings[ue]:n[ue]=ce.value;let{repeat:a,rotation:l,scale:u,smoothness:c,"animation-speed":d,"pos-x":f,"pos-y":m,"gradient-type":b,"color-one":C,"color-two":S,"color-three":A,"color-one-active":F,"color-two-active":_,"color-three-active":X}=n;C=C||"transparent",S=S||"transparent",A=A||"transparent",m=m+50,f=f+50,u=parseFloat(u)/100,c=parseFloat(c)/100,l=parseInt(l);let k=d>0;d=Math.abs(d/100),d=d*d,d=k?d:-d;let B=d!==0,G=B&&b=="linear"&&a,V=B&&b=="radial"&&a,te=d>0?d*120+(1-d)*2400:Math.abs(d)*120+(1-Math.abs(d))*2400,D=(1-Math.abs(d))*40+Math.abs(d)*4,z=r%te/te;d>0&&(z=1-z);let re=0,ne=V?z*100*u:0,q=[];F&&q.push(C),_&&q.push(S),X&&q.push(A);let L="",Q="",K="",$=0,fe=0,J="",Z="",ee=[];if(q.length!=0)if(q.length==1)L+=`background-color: ${q[0]}`;else if(q.length==2)if(a){u=(1-c)*u+u*c;let ue=(100/4*1+-c*(100/4))*u-(1-c)*(100/5)*u;ee[0]=0+ne,ee[1]=(100/4*1+c*(100/4))*u-(1-c)*(100/5)*u+-ue+ne,ee[2]=(100/4*3+-c*(100/4))*u-(1-c)*(100/5)*u+-ue+ne,ee[3]=(100/4*3+c*(100/4))*u-(1-c)*(100/5)*u+-ue+ne,ee[4]=100*u+ne}else ee[0]=0,ee[1]=u*100+-(u*100)*c,ee[2]=u*100+(1-u)*100*c,ee[3]=100;else if(a){u=(1-c)*u+u*c;let ue=(100/6*1+-c*(100/6))*u-(1-c)*(100/7)*u;ee[0]=0+ne,ee[1]=(100/6*1+c*(100/6))*u-(1-c)*(100/7)*u+-ue+ne,ee[2]=(100/6*3+-c*(100/6))*u-(1-c)*(100/7)*u+-ue+ne,ee[3]=(100/6*3+c*(100/6))*u-(1-c)*(100/7)*u+-ue+ne,ee[4]=(100/6*5+-c*(100/6))*u-(1-c)*(100/7)*u+-ue+ne,ee[5]=(100/6*5+c*(100/6))*u-(1-c)*(100/7)*u+-ue+ne,ee[6]=100*u+ne}else u=(1-c)*3*u+u*c,ee[0]=100/6*0+c*(100/6)*0,ee[1]=100/6*2+-c*(100/6)*2,ee[2]=100/6*2+c*(100/6)*1,ee[3]=100/6*4+-c*(100/6)*1,ee[4]=100/6*4+c*(100/6)*2,ee[5]=100/6*6+-c*(100/6)*0,ee[0]=Math.max(ee[0]*u+50*(1-u),0),ee[1]=Math.max(ee[1]*u+50*(1-u),0),ee[2]=ee[2]*u+50*(1-u),ee[3]=ee[3]*u+50*(1-u),ee[4]=Math.min(ee[4]*u+50*(1-u),100),ee[5]=Math.min(ee[5]*u+50*(1-u),100);if(q.length>1){L="background-image: ",L+=a?"repeating-":"",L+=b=="linear"?`linear-gradient( ${l+180}deg`:`radial-gradient( circle at ${f}% ${m}%`,Q=K="background-position: ";let ue=[];if(q.length==2?a?ue=[0,1,1,0,0]:ue=[0,0,1,1]:a?ue=[0,1,1,2,2,0,0]:ue=[0,0,1,1,2,2],G?ee.forEach((ce,he)=>{let ve=q[ue[he]]||q[0];L+=`, ${ve} ${ce/2}%`}):ee.forEach((ce,he)=>{let ve=q[ue[he]]||q[0];L+=`, ${ve} ${ce}%`}),L+=")",G){let ce=(l+90)*(Math.PI/180),he=i.width/i.height,ve=Math.cos(ce),Oe=Math.sin(ce),Le=ee[ee.length-1]+"%";ve<0?(K+="0% ",Q+=Le+" "):(K+=Le+" ",Q+="0% "),Oe<0?(Oe*=-1,K+="0%;",Q+=Le+";"):(K+=Le+";",Q+="0%;")}}return g("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&Ke(g("style",{children:`:host {
						${L};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${G?"200% 200%;":"100% 100%;"}
					    ${G&&"will-change: background-position, background-image;"}
					    ${G&&"animation: slideAnimation "+D+"s linear infinite "+(d<0?"reverse":"normal")+";"}
					}

					${G?`
					@keyframes slideAnimation {
						0% {
							${Q}
						}

						100% {
							${K}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,i){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},sM=vy});var WNe,_d,Wd,Yoe,Qoe,Iy,yy,uM,Cy=R(()=>{we();WNe=de(Ie(),1);Pe();tr();kB();aM();lM();j();H.isServer||(_d=new IntersectionObserver(function(t){t.forEach(function(e){let i="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?i="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(i="below"),e.target.dispatchEvent(new CustomEvent("intersectionChange",{detail:{visible:e.isIntersecting,position:i}}))})},{root:document,rootMargin:"0px 0px",threshold:0}),Wd=new ResizeObserver(t=>{t.forEach(e=>{e.target.dispatchEvent(new CustomEvent("contentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},composed:!0,bubbles:!1}))})}));Yoe=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],Qoe={wallpaper:oM,gradient:sM},Iy={};Yoe.forEach(t=>{t.startsWith("legacy")?Iy[t]=MB:Iy[t]=Qoe[t]});yy=class extends se{constructor(e){super(e),this.backdropRef=be(),this.backdropWrapperRef=be(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"}}}onWrapperIntersectionChange=e=>{this.setState({wrapperVisibility:e.detail})};onIntersectionChange=e=>{this.setState({innerVisibility:e.detail})};onWrapperResize=e=>{this.setState({wrapperDimensions:e.detail})};onResize=e=>{this.setState({dimensions:e.detail})};render(e,i){let{settings:r,id:n}=this.props,a=Iy[r.activeBackdrop];if(!a)return r.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${r.activeBackdrop}" not found`),null;let l=r.backdropSettings?.[r.activeBackdrop]||{},u=l.clipScroll==!0;return g("div",{className:`backdrop ${u?"clip":""}`,ref:this.backdropWrapperRef,children:[g("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:g(a,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:r.activeBackdrop,settings:l,dimensions:this.state.dimensions,visibility:this.state.visibility,onLoad:this.onLoad})}),g(so,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let i=this.backdropRef.current.querySelector("[data-backdrop]");i&&i.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(r=>({loaded:r.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,i){if(this.state.innerVisibility!==i.innerVisibility||this.state.wrapperVisibility!==i.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(r=>({loaded:r.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.addEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.addEventListener("contentResize",this.onResize),this.backdropRef.current.addEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Wd.observe(this.backdropRef.current),Wd.observe(this.backdropWrapperRef.current),_d.observe(this.backdropWrapperRef.current),_d.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.removeEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.removeEventListener("contentResize",this.onResize),this.backdropRef.current.removeEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Wd.unobserve(this.backdropRef.current),Wd.unobserve(this.backdropWrapperRef.current),_d.unobserve(this.backdropWrapperRef.current),_d.unobserve(this.backdropRef.current))}},uM=yy});var Xn,ze,Fg,cM=R(()=>{Xn=de(Ie(),1);Pe();ze={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedChangeObserver:H.isServer?null:new MutationObserver(t=>{t.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&ze.add(e.target)})}),loadEmbedScript:(t,e)=>{if(ze.embedScriptsCache[t])return ze.embedScriptsCache[t];let i=new Promise(r=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=r,document.head.appendChild(n)});return ze.embedScriptsCache[t]=i,i},initializeBandsInTown:function(t,e){var i="https://widget.bandsintown.com/main.min.js";e==="v3"&&(i="https://widgetv3.bandsintown.com/main.min.js"),ze.loadEmbedScript(i).then(function(){BIT.widgetInitializer?t():BIT.onReady=t})},findEmbedsIn:function(t){t&&Xn.default.each(t.querySelectorAll("cargo-embed"),ze.add,ze)},add:function(t){if(!(!t||t.nodeType!==Node.ELEMENT_NODE)){var e=t.getAttribute("data-type");if(!(!e||ze.handledEmbeds.includes(t)&&t.children.length>0))switch(e){case"tweet":ze.handleTwitterEmbed(t);break;case"twitter-timeline":ze.handleTwitterTimelineEmbed(t);break;case"bandsintown":ze.handleBandsIntownEmbed(t);break;case"songkick":ze.handleSongkickEmbed(t);break;case"opentable":ze.handleOpentableEmbed(t);break;case"typeform":ze.handleTypeFormEmbed(t);break}}},handleTwitterEmbed:function(t){var e=t.getAttribute("data-id");!e||e===""||ze.embedsIniting.includes(t)||(ze.embedsIniting.push(t),ze.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTweet(e,t).then(function(i){i&&(i.setAttribute("contenteditable","false"),ze.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),ze.embedsIniting=ze.embedsIniting.filter(r=>r!==t)})}),ze.handledEmbeds.push(t))},handleTwitterTimelineEmbed:function(t){if(!ze.embedsIniting.includes(t)){ze.embedsIniting.push(t);try{var e=JSON.parse(t.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=t.getAttribute("data-source"));var i;if(t.hasAttribute("data-options"))try{i=JSON.parse(t.getAttribute("data-options"))}catch{}ze.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTimeline(e,t,i).then(function(r){r&&(r.setAttribute("contenteditable","false"),ze.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),ze.embedsIniting=ze.embedsIniting.filter(n=>n!==t)})}),ze.handledEmbeds.push(t)}},handleOpentableEmbed:function(t){if(!t.ownerDocument.contains(t))return;let e=document.createElement("opentable-embed-anchor");e.src=t.getAttribute("data-src"),t.appendChild(e),fetch(t.getAttribute("data-src")).then(i=>i.text()).then(i=>{e.id=Xn.default.uniqueId("opentable-"),i=i.replace('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(i),e.remove()}),ze.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),ze.handledEmbeds.push(t)},handleBandsIntownEmbed:function(t){ze.initializeBandsInTown(()=>{t.innerHTML="";var e={},i={};Xn.default.each(t.attributes,function(a){if(/^data-/.test(a.name)&&a.name!=="data-type"){var l=a.name.substr(5).replace(/-/g,"_");e[l]=a.value;var u=l.split("_").map(function(c,d){return d>0?c.charAt(0).toUpperCase()+c.slice(1):c}).join("");i[u]=a.value}});var r=document.createElement("a");if(r.setAttribute("id","bit-widget-"+Xn.default.uniqueId()),r.setAttribute("class","bit-widget-initializer"),Xn.default.each(e,function(a,l){r.setAttribute("data-"+l.replace(/_/g,"-"),a)}),t.appendChild(r),H.isAdminEdit){var n=new MutationObserver(function(a){Xn.default.each(a,function(l){l.type=="childList"&&l.addedNodes.forEach(function(u){u&&u.nodeType===Node.ELEMENT_NODE&&(u.setAttribute("contenteditable",!1),u.classList.contains("bit-widget-container")&&(u.style.pointerEvents="none",n.disconnect()))})})});n.observe(t,{childList:!0})}BIT.widgetInitializer.append(r,i),ze.embedChangeObserver?.observe(t,{childList:!0}),ze.handledEmbeds.push(t)},t.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(t){if(!ze.embedsIniting.includes(t)){ze.embedsIniting.push(t);var e={};Xn.default.each(t.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var a=n.name.substr(5).replace(/-/g,"_");e[a]=n.value}});var i=document.createElement("a");i.setAttribute("class","songkick-widget"),i.setAttribute("href","https://www.songkick.com/artists/"+e.id),i.setAttribute("contenteditable","false"),Xn.default.each(e,function(n,a){i.setAttribute("data-"+a.replace(/_/g,"-"),n)}),t.appendChild(i);var r="https://widget.songkick.com/"+e.id+"/widget.js";ze.songKickWidgets[e.id]===void 0?ze.songKickWidgets[e.id]=0:r=r+"?"+ ++ze.songKickWidgets[e.id],ze.loadEmbedScript(r).then(()=>{ze.embedsIniting=ze.embedsIniting.filter(n=>n!==t),t.children.length===0&&ze.add(t)}),ze.embedChangeObserver?.observe(t,{childList:!0}),ze.handledEmbeds.push(t)}},handleTypeFormEmbed:function(t){ze.embedsIniting.includes(t)||(ze.embedsIniting.push(t),ze.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{let e={};Xn.default.each(t.attributes,function(i){i.name.startsWith("data-tf")&&(e[Xn.default.camelCase(i.name.replace("data-tf",""))]=i.value)}),e.container=t,delete e.iframeProps,t.innerHTML="",window.tf.createWidget(e.widget,e),t.children[0]?.setAttribute("style",t.getAttribute("data-style")),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},100),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},1e3),ze.embedsIniting=ze.embedsIniting.filter(i=>i!==t)}),ze.embedChangeObserver?.observe(t,{childList:!0}),ze.handledEmbeds.push(t))},remove:function(){}},Fg=ze});var dM,QNe,Ay,bu,Ng=R(()=>{we();dM=de(Ur(),1);Pe();ai();lt();Gt();QNe=de(Ie(),1);j();Ay=class extends se{constructor(e){super(e),this.state={error:!1}}render(e){return g(oe,{children:[g("style",{children:`
					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 350px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					input[type="password"] {
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
					    padding: 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: 340px;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),g("div",{className:this.props.target==="site"?"site-password":"page-password",children:[g("form",{onSubmit:this.submit,children:g("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown})}),this.state.error&&g("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let i;this.props.target==="site"?i=`/sites/${this.props.siteId}/validatepassword`:i=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,dM.default.post(Pt+i,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:r})=>{if(!r.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:r.token,id:null}}),this.props.onSucces?.()}).catch(r=>{console.error(r),this.setState({error:!0})})}},bu=ke((t,e)=>({siteId:t.site.id}),t=>wt({setAuthentication:De.setAuthentication},t))(Ay)});var wy,pM,hM=R(()=>{we();Ee();Ws();Ui();Lt();Lt();j();wy=class extends se{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=be(),this.layoutButtonRef=be(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,i)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,i)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.layoutButtonRef.current.getBoundingClientRect(),r={x:i.x+0,y:i.y+-212,left:i.left+0,right:i.right+0,top:i.top+0+-212,bottom:i.top+27+-212,width:i.width,height:i.height};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:r,closeButton:!1,closeOnAllClickout:!1})};render(e){let i=this.props.isEditingPage,r=this.props.pageIsPin,n=this.state.showEmpty,a=23;return g(mn,{trackResize:!0,noPointerEvents:!0,buttonHeight:a,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:l=>{let{pointerAttention:u,overlayPosition:c}=l,d=-a,f=-2;return c.y<=a&&(d=Math.max(0,-c.y),f=0,d>c.height&&(f=-2,d=c.height+1)),g(oe,{children:i&&n?g("div",{className:"editor-overlay editor-outline page-outline hover empty",style:{display:"block",width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`}}):i?null:g("div",{className:`editor-overlay editor-outline page-outline${u?" hover button-hover":""}${this.state.showEmpty?" hover empty":""}`,style:{display:u?"block":"none",width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`},children:g("div",{className:"in-editor-buttons page",style:{transform:`translate(${f}px, ${d}px)`},children:g("div",{className:"pointer-mask",children:g("button",{className:"edit-page text",onMouseDown:m=>{m.button==2||m.metaKey||this.props.editPage(m)},ref:this.editPageButtonRef,children:[g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})})})})}})}},pM=wy});function joe(t){return wt({pageMounted:De.pageMounted,pageUnMounted:De.pageUnMounted,updateFrontendState:De.updateFrontendState,fetchContent:De.fetchContent,fetchCommerceProducts:De.fetchCommerceProducts},t)}var vr,Ds,_g,Od,Wg,Yo,xy,Og,Sy,fM,vu,Tg,Joe,Iu,Ry=R(()=>{we();ai();lt();Gt();vr=de(Ie(),1);xi();Id();Ki();ao();tr();pu();er();Cy();cM();Pe();Ng();hM();zr();j();Ds=new WeakMap,_g=new WeakMap,Od=new WeakMap,Wg=new WeakMap,fM=t=>{t.forEach(function(e){Ds.has(e.target)&&Ds.get(e.target).onAboveViewPort(e)})},vu=0;H.isServer||(Yo=new ResizeObserver(function(t){let e={};fM(Og.takeRecords()),t.forEach(function(i){let r=Ds.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),_g.has(i.target)&&_g.get(i.target).onBodyCopyResize(i.contentRect.width),Od.has(i.target)||Wg.has(i.target)){var n=window.getComputedStyle(i.target);let a=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(Od.has(i.target)){let u=Od.get(i.target);(u.state.pageContentPad.top!==a||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:a,bottom:l}})}else{let u=Wg.get(i.target);(u.state.pageLayoutPad.top!==a||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:a,bottom:l}})}}}),qI(e),vu!==0&&(document.scrollingElement.scrollTop+=vu,vu=0)}),Og=new IntersectionObserver(fM,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Sy=new IntersectionObserver((t,e)=>{t.forEach(function(i){Ds.has(i.target)&&Ds.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),xy=new MutationObserver(function(t){vr.default.each(t,function(e){e.type=="childList"&&e.addedNodes.forEach(function(i){i.nodeName==="CARGO-EMBED"&&Fg.add(i)})})}));Tg=class extends se{constructor(e){super(e),this.bodycopyRef=be(),this.pageContentRef=be(),this.pageRef=be(),this.pageLayoutRef=be(),this.lastBodycopyRef=be(),this.lastPageContentRef=be(),this.lastPageRef=be(),this.lastPageLayoutRef=be(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=be()}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=su(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(i=>i.windowHeight===tt.data.window.h?null:{windowHeight:tt.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(vu+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=vu,vu=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let i=e.isIntersecting;(H.isServer||this.props.isPin||this.props.isEditingPage)&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{if(this.state.fullyRender===e)return;let r={fullyRender:e,renderSparseHeightDiv:!e};e?(r.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender&&this.setState({renderSparseHeightDiv:!1})},250)):r.lastPageLayoutHeight=this.pageLayoutRef.current?.getBoundingClientRect().height||100,this.setState(r,i)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=vr.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return vr.default.keys(r).length>0&&vr.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};determinePinCSS=()=>{if(H.isServer||vr.default.isEmpty(this.context.levelData))return;let e=1,i={},r=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(i.paddingTop=n.top,i.paddingBottom=n.bottom,r){let a=this.context?.renderedPins[this.props.pid];if(a){let l=a.depth,u=vr.default.keys(this.context.levelData?.levels)?.length+e,c=u-l+e,d=c+this.zIndexLayerPosition(100-a?.pinSort);if(i.zIndex=a.type!=="adjust"?d??null:null,localStorage.getItem("pin_testing")==="true"){let m={old_zIndex:c+this.zIndexLayerPosition(100-a?.sort),new_zIndex:d,pid:this.props.pid,pageList_sort:a?.sort,renderedPageSort:a?.pinSort};console.log(m)}let f=this.context.levelData?.levels[l][a.location];a.type==="overlay"?i[a.location]=f.startingHeight-n[a.location]:a.type==="adjust"&&n[a.location]!==null&&(i[a.location]=f.adjustsSelf?null:f.startingHeight-n[a.location])}}return i["--pin-padding-top"]=(i.paddingTop||0)+"px",i["--pin-padding-bottom"]=(i.paddingBottom||0)+"px",vr.default.isEmpty(i)?null:i};getAdjustOnlyPinStartHeight=(e,i,r)=>{let n=0;return vr.default.each(this.context.renderedPins,(a,l)=>{a.depth===e&&a.location===r&&(r==="top"?a.sort<i:a.sort>i)&&a.type==="adjust"&&(n+=this.context.pageHeights[l])}),n};determinePinClassList(e){if(!e)return"";let i="";return i+=" pinned pinned-"+e.position,i+=e.fixed?" fixed":e.overlay?" overlay":"",i}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||H.isServer&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",i=this.props.isPin&&this.props.pin_options,r=i?this.props.pin_options:null,n=null,a=this.determinePinCSS(),l=this.determinePinClassList(r);if(this.state.fullyRender){let u=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;a&&(a.paddingTop&&(u+=a.paddingTop),a.paddingBottom&&(u+=a.paddingBottom));let c=Math.max(10,this.state.windowHeight-u),d=null;this.props.access_level==="password"?d=g(bu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?d=this.lockedContent:d=this.lockedContent=this.props.content,this.maxFitHeight=c;let f=g("bodycopy",{style:{"--fit-height":c+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof d=="string"?{__html:d}:void 0,children:uc(d)?d:null});n=g(oe,{children:g(lg,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:g("div",{className:"page-layout",ref:this.pageLayoutRef,children:g("div",{className:"page-content",ref:this.pageContentRef,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&g(pM,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),g(Ag,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[g(so,{portalHost:f}),f]})]})})})})}return g("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${l!==null?l:""}`,ref:this.pageRef,style:a,editing:this.props.isEditingPage,children:[e&&g(uM,{id:this.props.pid,settings:this.props.backdrops}),g("a",{id:this.props.purl}),g(cu,{passthrough:!r?.fixed,scrollingElement:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&g("div",{style:{height:this.state.lastPageLayoutHeight+"px"}}),n]}),g("style",{ref:this.localStyleRef,children:this.props.local_css}),g("style",{id:`mobile-offset-styles-${this.props.pid}`,children:this.state.mobileOffsetsString})]})}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.setPinProperties(e),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.checkAndSetActiveLinks(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&ag({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&vr.default.isEqual(this.props.pin_options,e.pin_options)===!1&&(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom")){let i=this.context.adjustPairs[this.props.pid];if(i&&i.adjusts){let r=document.body.querySelector("[id='"+i.adjusts[0]+"']");requestAnimationFrame(()=>{r.scrollIntoView({block:"end"})})}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=vr.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let i=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(i)?i.classList.remove("accepts-pointer-events"):i.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let i=window.getComputedStyle(e,null),r=i.getPropertyValue("background-color"),n=r.match("rgba")?r.replace(/^.*,(.+)\)/,"$1"):null;return r==null||r=="transparent"||r=="initial"||n==0};setFixedPinScrollability=()=>{if(!this.pageRef.current)return;let e=this.pageContentRef.current,i=this.bodycopyRef.current;e&&i&&i.clientHeight>e.clientHeight?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll")};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let i=e?.detail?.filter;i?.startsWith("tag:")?i=i.replace("tag:","").trim():i?i="all":i=null;let r=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!r)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"]');vr.default.each(n,a=>{let l=a.getAttribute("href")?.toLowerCase(),u=a.getAttribute("data-tags")?.toLowerCase(),c=a.getAttribute("rel")==="filter-index";!r&&(l===this.props.activePURL||this.props.activePurlParents?.includes(l))?a.classList.add("active"):a.classList.remove("active")})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(Ds.delete(this.lastPageRef.current),Yo.unobserve(this.lastPageRef.current),Og.unobserve(this.lastPageRef.current),Sy.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(Ds.set(this.pageRef.current,this),Yo.observe(this.pageRef.current),Og.observe(this.pageRef.current),Sy.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Wg.delete(this.lastPageLayoutRef.current),Yo.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Wg.set(this.pageLayoutRef.current,this),Yo.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(Od.delete(this.lastPageContentRef.current),Yo.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(Od.set(this.pageContentRef.current,this),Yo.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),_g.delete(this.lastBodycopyRef.current),Yo.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(_g.set(this.bodycopyRef.current,this),Yo.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}componentDidMount(){this.runHashScroll(),this.onWindowResize(),tt.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.context.onPageMount(this.pageRef.current),this.pageRef.current&&(Fg.findEmbedsIn(this.pageRef.current),xy&&xy.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{Fg.findEmbedsIn(this.pageRef.current)}))}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){tt.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];vr.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),vr.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(a=>{n.setAttribute(a.nodeName,a.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Tg.contextType=Fs;Joe=vr.default.memoize((t,e)=>t.map(i=>e.sets.byId[i]?.purl).filter(i=>i&&typeof i=="string").map(i=>i.toLowerCase())),Iu=ke((t,e)=>{let i=at.getContentById(t,e.id),r=t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID],n,a;return r&&(n=r.purl?.toLowerCase(),a=Joe(at.getParentSetList(t,r.id),t)),!H.isServer&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase()),{inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,isEditingPage:i?.id&&t.frontendState.PIDBeingEdited===i?.id,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:n,activePurlParents:a,pageDepth:at.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},joe)(Tg)});var Td,gM=R(()=>{we();Ry();j();Td=class t extends se{constructor(e){super(e)}render=()=>g("div",{"data-container":"set","data-id":this.props.id,children:this.props.children.filter(e=>e.parent===this.props.id).map(e=>e.content.page_type==="set"?g(t,{id:e.content.id,children:this.props.children,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad},e.content.id):g(Iu,{id:e.content.id,position:e.position,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad},e.content.id))})}});var D_e,Ey,Dg,Fy=R(()=>{we();D_e=de(Ie(),1);j();Ey=class extends se{constructor(e){super(e)}render=()=>g(oe,{children:[g("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},Dg=Ey});function Koe(t,e){let i=e.idType==="purl"?at.getContentByPurl(t,e.id):at.getContentById(t,e.id),r,n=null,a=null,l=!1,u=!1;if(!i){let c=!1;if(t.frontendState.networkErrors.find(d=>d.id===e.id&&d.idType===e.idType&&d)!==void 0){if(e.idType==="purl"&&(r=t.site.tags.find(d=>d.url===e.id),!r)){for(let d in t.pages.byId)if(r=t.pages.byId[d].tags.find(f=>f.url===e.id),r)break}r||(c=!0)}if(c)return{content:null,contentFailedLoading:c}}if(i)if(i.page_type==="set"){n=i.id;let c=at.getContentByPurl(t,e.hashPurl),d=t.structure.indexById[c?.id]||0,f=t.sets.byId[at.getItemParentId(t,c?.id)]||i;a=$oe(t.structure,t.pages,t.sets,f,d)}else n=at.getItemParentId(t,i.id);else r&&(n="root",a=Object.values(t.pages.byId).filter(c=>t.structure.indexById[c.id]===null?!1:c.tags.find(d=>d.tag===r.tag)).map(c=>({content:c,position:"below"})),a.sort((c,d)=>t.structure.bySort[c.content.id]-t.structure.bySort[d.content.id]));return{tag:r,hasContent:i!==void 0,contentId:i?.id,contentType:i?.page_type,contentTitle:i?.title,contentPurl:i?.purl,contentIsStack:i?.stack,contentIsPin:i?.pin,contentCRDTState:i?.crdt_state,children:a,missingContentAbove:l,missingContentBelow:u,isFeed:t.sets.byId.root.stack,topPins:at.getPinsForSet(t,n,"top",i?.id),bottomPins:at.getPinsForSet(t,n,"bottom",i?.id),adminMode:t.frontendState.adminMode}}function eae(t){return wt({fetchContent:De.fetchContent,fetchPagesByTag:De.fetchPagesByTag,fetchSitePackage:De.fetchSitePackage,updateFrontendState:De.updateFrontendState},t)}var mM,ho,qoe,Ny,Dd,Lg,bM,$oe,_y,vM=R(()=>{we();ai();lt();mM=de(Nc(),1);ig();ho=de(Ie(),1);Ls();Gt();Pe();xi();Lt();Ry();gM();Fy();Id();zr();j();qoe=async t=>{let e=[];if(!t.hasContent){let i=t.fetchContent(t.id,{idType:t.idType});e.push(i)}if(t.hashPurl){let i=t.fetchContent(t.hashPurl,{idType:"purl"});e.push(i)}H.isServer&&e.push(bM(t,{up:!1,down:!0})),await Promise.allSettled(e).catch(i=>{})},Ny={top:0,bottom:0},Dd=10,Lg=class extends se{constructor(e){super(e),this.contentRef=be(),this.contentParentRef=be(),this.topPaginationWatcherRef=be(),this.bottomPaginationWatcherRef=be(),this.paginationLimitsTriggered={up:!1,down:!1},this.pageLimits={above:0,below:Dd},this.state={contentPad:Ny},H.isServer||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{var n=window.getComputedStyle(r.target);let a=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(a!==this.state.contentPad.top||l!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:a,bottom:l}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}getContentByPosition(e){return this.props.children?.filter(i=>i.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),i=[];return this.props.topPins.forEach(r=>{i.push(g(Iu,{id:r.id,contentPad:Ny},r.id))}),this.renderedChildren=[...ho.default.takeRight(this.getContentByPosition("above"),this.pageLimits.above),...ho.default.take(this.getContentByPosition("below"),this.pageLimits.below)],i.push(g("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:g(oe,{children:[g("div",{className:"pagination-watcher","data-direction":"up",ref:this.topPaginationWatcherRef}),g(Td,{id:this.props.contentId,children:this.renderedChildren,hashPurl:this.props.hashPurl,contentPad:this.state.contentPad},this.props.contentId),g("div",{className:"pagination-watcher","data-direction":"down",ref:this.bottomPaginationWatcherRef})]}):this.props.contentIsPin?null:g(Iu,{id:this.props.contentId,contentPad:this.state.contentPad},this.props.contentId)})),this.props.bottomPins.forEach(r=>{i.push(g(Iu,{id:r.id,contentPad:Ny},r.id))}),i}render(){if(this.props.contentFailedLoading)return g(Dg,{message:"Page not found."});if((!this.props.hasContent||this.props.contentCRDTState===Vt.Deleted)&&!this.props.tag)return null;let e=this.getPageStack();return g("div",{className:"content",ref:this.contentParentRef,children:e})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}shouldComponentUpdate(e,i,r){if(this.props===e&&this.state===i&&this.context===r)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=!1;this.props.hashPurl!==e.hashPurl&&this.renderedChildren&&this.renderedChildren.some(a=>a.content.purl===e.hashPurl)&&(n=!0),n||(this.pageLimits={above:0,below:Dd})}return!0}componentDidUpdate(e,i,r){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==Vt.Deleted&&this.props.contentCRDTState===Vt.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),Zn.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0}),this.requestPagination()),e.hashPurl!==this.props.hashPurl&&this.props.hashPurl&&this.props.fetchContent(this.props.hashPurl,{idType:"purl"}).then(()=>{this.requestPagination()}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId}),this.requestPagination()),this.attachPaginationWatchers()}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let i=!1;e.forEach(r=>{let n=r.target.dataset.direction;r.isIntersecting?(this.paginationLimitsTriggered[n]=!0,i=!0):this.paginationLimitsTriggered[n]=!1}),i&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}this.paginationLimitsTriggered.up&&(this.pageLimits.above+=Dd),this.paginationLimitsTriggered.down&&(this.pageLimits.below+=Dd),this.forceUpdate(),await bM(this.props,this.paginationLimitsTriggered).then(i=>{i.length===0&&!(this.paginationLimitsTriggered.up&&this.pageLimits.above<this.getContentByPosition("above").length)&&!(this.paginationLimitsTriggered.down&&this.pageLimits.below<this.getContentByPosition("below").length)&&(this.isPaginating=!1)}).catch(i=>{console.error(i),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.pageLimits.above+=9e9,this.pageLimits.below+=9e9),await new Promise(i=>setTimeout(i,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(H.isServer)return e;let i=r=>(r.hasOverlayPins&&!r.adjustsSelf&&r.adjusterId!==null?r.totalHeight:0)-(r.adjustedLevel==="content"?r.adjusterHeight:0);return ho.default.each(this.context.levelData.levels,(r,n)=>{e.marginTop+=i(r.top),e.marginBottom+=i(r.bottom)}),e}},bM=(t,e,i={})=>new Promise((r,n)=>{if(!t||!e)return n("Missing pagination parameters");if(t.tag)return t.fetchPagesByTag(t.tag.url).then(r).catch(n);let a=t.store.getState(),l=[];if(ho.default.each(e,(u,c)=>{if(!u)return;let d,f;if(c==="up"){let b=ho.default.first(t.children);b&&(f=b.index,d=b.parent)}else if(c==="down"){let b=ho.default.last(t.children);b?(f=b.index,d=b.parent):t.contentType==="set"&&(f=0,d=t.contentId)}if(d===void 0||f===void 0)return;let m=0;ou(a.structure,a.pages,a.sets,a.sets.byId[d],f,{reverse:c==="up",callback:(b,C,S)=>{if(S||(l.push({parent:b,index:C}),m++),m>=Dd)return"break"}})}),l.length>0){let u=ho.default.groupBy(l,"parent"),c=ho.default.map(u,(d,f)=>t.fetchContent(f,{indexes:ho.default.map(d,"index"),idType:"pid"}));Promise.all(c).then(r).catch(n)}else r([])}),$oe=Es((t,e,i,r,n)=>{let a=[];return ou(t,e,i,r,n-1,{reverse:!0,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&a.unshift({parent:l,index:u,content:c,position:"above"});else return"break"}}),ou(t,e,i,r,n,{reverse:!1,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&a.push({parent:l,index:u,content:c,position:"below"});else return"break"}}),a});Lg.contextType=Fs;_y=ru(ke(Koe,eae)((0,mM.frontloadConnect)(qoe,{onMount:!0,onUpdate:!1})(Lg)))});function tae(t){return wt({pageMounted:De.pageMounted,pageUnMounted:De.pageUnMounted,updateFrontendState:De.updateFrontendState,fetchContent:De.fetchContent,fetchCommerceProducts:De.fetchCommerceProducts},t)}var Qo,Gs,Gg,Ld,Bg,jo,Mg,Wy,IM,yu,Gd,yM,CM=R(()=>{we();ai();lt();Gt();Qo=de(Ie(),1);xi();Id();Ki();ao();tr();pu();er();Cy();Pe();Ng();zr();j();Gs=new WeakMap,Gg=new WeakMap,Ld=new WeakMap,Bg=new WeakMap,IM=t=>{t.forEach(function(e){Gs.has(e.target)&&Gs.get(e.target).onAboveViewPort(e)})},yu=0;H.isServer||(jo=new ResizeObserver(function(t){let e={};IM(Mg.takeRecords()),t.forEach(function(i){let r=Gs.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),Gg.has(i.target)&&Gg.get(i.target).onBodyCopyResize(i.contentRect.width),Ld.has(i.target)||Bg.has(i.target)){var n=window.getComputedStyle(i.target);let a=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(Ld.has(i.target)){let u=Ld.get(i.target);(u.state.pageContentPad.top!==a||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:a,bottom:l}})}else{let u=Bg.get(i.target);(u.state.pageLayoutPad.top!==a||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:a,bottom:l}})}}}),yu!==0&&(document.scrollingElement.scrollTop+=yu,yu=0)}),Mg=new IntersectionObserver(IM,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Wy=new IntersectionObserver((t,e)=>{t.forEach(function(i){Gs.has(i.target)&&Gs.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));Gd=class extends se{constructor(e){super(e),this.bodycopyRef=be(),this.pageContentRef=be(),this.pageRef=be(),this.pageLayoutRef=be(),this.galleryRef=be(),this.lastBodycopyRef=be(),this.lastPageContentRef=be(),this.lastPageRef=be(),this.lastPageLayoutRef=be(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},authorized:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:tt.data.window.h,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=be(),this.scrollingElement={current:H.isServer?null:window}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=su(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===tt.data.window.h?null:{windowHeight:tt.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(yu+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=yu,yu=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let i=e.isIntersecting;H.isServer&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},i)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=Qo.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return Qo.default.keys(r).length>0&&Qo.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let i=e?.target.closest("media-item");i&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{i?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),i.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{i.classList.contains("hey-listen")?i.classList.remove("hey-listen"):i.classList.add("hey-listen")},300),setTimeout(()=>{i.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,i=!1;if(this.state.fullyRender){let r=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-r),a=null;this.props.access_level==="password"?a=g(bu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?a=this.lockedContent:a=this.lockedContent=this.props.content,e=g(oe,{children:g(lg,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[g("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: ${this.state.authorized?"grid":"none"};
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),g("div",{className:"page-layout",ref:this.pageLayoutRef,children:g("div",{className:"page-content",ref:this.pageContentRef,children:[g("div",{className:"sort-controls",children:[g("text-icon",{icon:"downwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),g("text-icon",{icon:"upwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),g("text-icon",{icon:"shuffle",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.state.imageSort==="shuffle"?this.galleryRef.current.dispatchEvent(new Event("refresh-thumbnail-index")):this.setState({imageSort:"shuffle"})},className:this.state.imageSort==="shuffle"?"active":""}),g("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}),g(Ag,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[g(so,{portalHost:this.bodycopyRef}),g("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?g("gallery-justify",{onContextMenu:this.onItemClick,ref:this.galleryRef,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"}):null})]})]})})]})})}else e=g("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return g("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[g("a",{id:this.props.purl}),g(cu,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&ag({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(Gs.delete(this.lastPageRef.current),jo.unobserve(this.lastPageRef.current),Mg.unobserve(this.lastPageRef.current),Wy.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(Gs.set(this.pageRef.current,this),jo.observe(this.pageRef.current),Mg.observe(this.pageRef.current),Wy.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Bg.delete(this.lastPageLayoutRef.current),jo.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Bg.set(this.pageLayoutRef.current,this),jo.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(Ld.delete(this.lastPageContentRef.current),jo.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(Ld.set(this.pageContentRef.current,this),jo.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(Gg.delete(this.lastBodycopyRef.current),jo.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(Gg.set(this.bodycopyRef.current,this),jo.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};componentDidMount(){this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)}),setTimeout(()=>{e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)})},100),this.runHashScroll(),tt.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.disabled=!1}),tt.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];Qo.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||Qo.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=Qo.default.keys(this.props.cartData).length,i=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');Qo.default.each(i,r=>{if(r.hasAttribute("show-count")){let n=r.innerHTML.replace(/ *\([^)]*\) */g,"");r.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),Qo.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(a=>{n.setAttribute(a.nodeName,a.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Gd.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};Gd.contextType=Fs;yM=ke((t,e)=>{let i={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},r=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!H.isServer&&!r&&(r=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof r=="string"&&(r=r.toLowerCase()),{inAdminFrame:!1,isMobile:t.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:r,pageDepth:at.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,cartData:t.commerce?.cart,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},tae)(Gd)});var AM,SWe,Oy,wM,xM=R(()=>{we();AM=de(Ur(),1);Pe();oi();SWe=de(Ie(),1);j();Oy=class extends se{constructor(e){super(e),this.state={error:!1},this.inputRef=be()}submit=e=>{e.preventDefault(),this.setState({error:!1});let i=this.inputRef.current?.value;if(!i)return this.setState({error:"Email address is not valid."});AM.default.post(`https://${mv?gd:"dev.cargo.site"}/c3filedownload/validate/${i}/${this.props.hash}`).then(r=>{if(r?.data?.jdata?.valid)return window.location.href=`https://dev.cargo.site/c3filedownload/download/${i}/${this.props.hash}`;this.setState({error:r?.data?.error||"Email address is not valid."})}).catch(r=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return g(oe,{children:[g("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),g("span",{className:"message",children:"Please verify your email address:"}),g("form",{noValidate:!0,onSubmit:this.submit,children:[g("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),g("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&g(oe,{children:[g("br",{}),g("span",{class:"error",children:this.state.error})]})]})}},wM=Oy});var EM={};jt(EM,{default:()=>aae});function rae(t,e){return{siteId:t.site.id,contactForm:t.frontendState.contactForm}}function nae(t){return wt({updateFrontendState:De.updateFrontendState},t)}var SM,RM,kg,Ly,Ty,LWe,Dy,iae,oae,aae,FM=R(()=>{we();Ee();cs();SM=de(Ur(),1);lt();ai();Gt();RM=de(Ie(),1);j();kg={},Ly=window.matchMedia("(max-aspect-ratio: 1/1)"),Ty=Ly.matches,LWe=Ly.addEventListener("change",t=>{Ty=t.matches,kg[1]&&kg[1].setState({isMobile:Ty})}),Dy=class extends se{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:Ty,shadowRoot:null},this.cssLinkRef=be(),this.contactFormRef=be(),this.startTime=null,this.inputRef=be(),this.throttledResize=RM.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}})}resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue},i="https://cargo.site/dispatch/notifications/sendContactMessage";SM.default.post(i,e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(r=>{let a=new Date-this.startTime;if(this.startTime=null,a<=2500){let l=2500-a;setTimeout(()=>{this.closeForm(null,"submit")},l)}else this.closeForm(null,"submit")}).catch(r=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,i)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),i?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete kg[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm()};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,i=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,r=!0,n=!0,a=this.state.emailValue,l=this.state.messageValue;a.length<=0&&(r=!1),l.length<=0&&(n=!1);let u=a.split("@");return u.length!==2&&(r=!1),e.test(u[0])||(r=!1),i.test(u[1])||(r=!1),r||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!r||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:Ly.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",kg[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){return g("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&Ke(g(oe,{children:[g("link",{rel:"stylesheet",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/30c2bd/css/front-end/contact-form.css"}),this.state.showContents===!0?g("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}`,children:g("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:e=>{this.state.sent===!0&&this.handleTransitionEnd(e)},children:g("div",{className:"modal-inner",children:[g("div",{className:"header",children:[g("div",{className:"title"}),g("div",{className:"exit",onPointerUp:e=>{this.closeForm(e)},children:g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[g("circle",{opacity:"0.25",cx:"10",cy:"10",r:"10",fill:"black"}),g("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"white"})]})})]}),g("hr",{}),g("div",{onPointerUp:e=>{this.focusInput(e)},className:"email",children:[g("label",{htmlfor:"email",children:["From:",String.fromCharCode("160")]}),g("div",{className:`text-input${this.state.emailError?" error":""}`,children:g("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:e=>{this.handleEmailChange(e)},placeholder:"(enter your email address)..."})})]}),g("hr",{}),g("div",{className:`text-area${this.state.messageError?" error":""}`,children:g("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:e=>{this.handleMessageChange(e)}})}),g("hr",{}),g("div",{className:"button-area",children:this.state.loading?g(oe,{children:g("button",{className:"send",children:["Sending",g(iae,{})]})}):g(oe,{children:[g("button",{className:"cancel",onPointerUp:e=>{this.closeForm(e)},children:"Cancel"}),g("button",{className:"send",onPointerUp:e=>{this.submitForm(e)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},iae=()=>g("div",{className:"caution-processing"});oae=ke(rae,nae)(Dy),aae=oae});var _M={};jt(_M,{default:()=>uae});function sae(t){return wt({updateFrontendState:De.updateFrontendState,fetchCommerceProducts:De.fetchCommerceProducts,fetchContent:De.fetchContent,fetchShopModel:De.fetchShopModel,addCommerceProductToCart:De.addCommerceProductToCart,resetCommerceCart:De.resetCommerceCart},t)}var NM,Xg,Gy,ky,By,zWe,My,lae,uae,WM=R(()=>{we();Ee();va();lt();ai();Gt();Ls();Pe();NM=de(Ur(),1),Xg=de(Ie(),1);j();Gy={},ky=window.matchMedia("(max-aspect-ratio: 1/1)"),By=ky.matches,zWe=ky.addEventListener("change",t=>{By=t.matches,Gy[1]&&Gy[1].setState({isMobile:By})}),My=class extends se{constructor(e){if(super(e),Xt.getState().site.shop_id===null){this.closeOverlay();return}this.props.fetchShopModel().then(()=>{let r=Xt.getState().commerce.shop;if(Xg.default.isEmpty(r)){this.closeOverlay();return}H.isAdminEdit===!1&&r.has_valid_config===!1&&!Xt.getState().site?.is_template?(console.log("coming soon"),Xt.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),this.closeOverlay()):this.setState({shopModel:r},()=>{this.openOverlay()})}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:By,shadowRoot:null},this.cartElementRef=be(),this.iframeRef=be(),this.startTime=null,this.inputRef=be(),this.throttledResize=Xg.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let r=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(r||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),NM.default.get("https://build.cargo.site/frontend/30c2bd/following_frame.html",{use_auth:!1}).then(e=>{this.iframeRef.current.contentWindow.document.write(e.data),this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()},this.iframeRef.current.contentWindow.addEventListener("commerce-ready",()=>{this.proxyHistory()})}))})}onCSSLoad=()=>{this.setState({loaded:!0,isMobile:ky.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",document.scrollingElement.style.overflow="hidden",Gy[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),document.body.style.overflow="",document.scrollingElement.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidUpdate(){this.proxyHistory()}proxyHistory(){!this.iframeRef||!this.iframeRef.current||Xg.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}render(){return this.state.shopModel?g("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&Ke(g(oe,{children:[g("link",{rel:"stylesheet",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/30c2bd/css/front-end/cart.css"}),g("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing":""}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:g("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:g("div",{className:"modal-inner",children:g("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};lae=fs(ke(null,sae)(My)),uae=lae});function cae(t){return wt({fetchContent:De.fetchContent,updateFrontendState:De.updateFrontendState},t)}var Xy,Jo,Zg,OM,TM,Zy,DM,Py=R(()=>{we();va();ai();JG();lt();Pe();Gt();xi();Id();vM();CM();xM();Xy=de(Ie(),1);j();Jo={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},Zg={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};H.isServer||(OM=(FM(),oc(EM)).default,TM=(WM(),oc(_M)).default);Zy=class extends se{constructor(e){super(e),this.checkForOverlayPath(this.props.location)}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let i in Zg){let r=Zg[i],n=Xo(e.pathname,{path:r});if(n){if(Xy.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};deferredContentRenderer(e,i){return H.isServer?g(_y,{id:e,idType:i}):(this.lastRequestedId=e,this.lastRequestedIdType=i,this.currentId?(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType)&&(window.__deferred_page_load_promise__=new Promise(r=>{Xy.default.defer(n=>{this.props.fetchContent(n,{idType:i}).catch(()=>{}).finally(()=>{this.lastRequestedId===n&&(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType,this.forceUpdate()),delete window.__deferred_page_load_promise__,r()})},this.lastRequestedId)})):(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType),g(tB,{children:g(_y,{id:this.currentId,idType:this.currentIdType,hashPurl:this.props.hashPurl})}))}componentDidUpdate=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,i=null,r=this.props.location;return this.lockedUnderlayLocation&&(r=this.lockedUnderlayLocation,i=this.props.location,e=g("div",{class:"overlay",children:g(Ch,{location:i,children:[g(pn,{exact:!0,path:Zg.CART,render:({match:n})=>g(TM,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})}),g(pn,{exact:!0,path:Zg.CONTACT,render:({match:n})=>g(OM,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})})]})})),g(oe,{children:[e,g(Ch,{location:r,children:[g(pn,{exact:!0,path:Jo.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),g(pn,{exact:!0,path:Jo.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>g(wM,{hash:n.params.hash})}),g(pn,{exact:!0,path:Jo.IMG_PATH,render:({match:n})=>g(yM,{})}),g(pn,{exact:!0,path:Jo.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),g(pn,{exact:!0,path:Jo.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),g(pn,{exact:!0,path:Jo.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),g(pn,{exact:!0,path:Jo.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),g(pn,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};DM=fs(ke((t,e)=>{let i=H.isServer?null:window.location.hash.substring(1).toLowerCase();return{hasSite:!!t.site,homepageId:at.getHomepageId(t),isFeed:t.sets.byId.root.stack,adminInitialized:t.adminState?.initialized||!1,adminMode:t.frontendState.adminMode,hashPurl:i}},cae)(Zy))});var LM,GM,BM=R(()=>{gn();LM=de(Ie(),1);Pe();GM={};H.isServer||(GM=window.lightbox={});(function(){"use strict";(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=n()})(this,function(){"use strict";var r=function(n,a,l,u){var c={features:null,bind:function(I,W,T,O){var ae=(O?"remove":"add")+"EventListener";W=W.split(" ");for(var Ae=0;Ae<W.length;Ae++)W[Ae]&&I[ae](W[Ae],T,!1)},isArray:function(I){return I instanceof Array},createEl:function(I,W){var T=document.createElement(W||"div");return I&&(T.className=I),T},getScrollY:function(){var I=window.pageYOffset;return I!==void 0?I:document.documentElement.scrollTop},unbind:function(I,W,T){c.bind(I,W,T,!0)},removeClass:function(I,W){var T=new RegExp("(\\s|^)"+W+"(\\s|$)");I.className=I.className.replace(T," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(I,W){c.hasClass(I,W)||(I.className+=(I.className?" ":"")+W)},hasClass:function(I,W){return I.className&&new RegExp("(^|\\s)"+W+"(\\s|$)").test(I.className)},getChildByClass:function(I,W){for(var T=I.firstChild;T;){if(c.hasClass(T,W))return T;T=T.nextSibling}},arraySearch:function(I,W,T){for(var O=I.length;O--;)if(I[O][T]===W)return O;return-1},extend:function(I,W,T){for(var O in W)if(W.hasOwnProperty(O)){if(T&&I.hasOwnProperty(O))continue;I[O]=W[O]}},easing:{sine:{out:function(I){return Math.sin(I*(Math.PI/2))},inOut:function(I){return-(Math.cos(Math.PI*I)-1)/2}},cubic:{out:function(I){return--I*I*I+1}}},detectFeatures:function(){if(c.features)return c.features;var I=c.createEl(),W=I.style,T="",O={};if(O.oldIE=document.all&&!document.addEventListener,O.touch="ontouchstart"in window,window.requestAnimationFrame&&(O.raf=window.requestAnimationFrame,O.caf=window.cancelAnimationFrame),O.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!O.pointerEvent){var ae=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Ae=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);Ae&&Ae.length>0&&(Ae=parseInt(Ae[1],10),Ae>=1&&Ae<8&&(O.isOldIOSPhone=!0))}var We=ae.match(/Android\s([0-9\.]*)/),Ze=We?We[1]:0;Ze=parseFloat(Ze),Ze>=1&&(Ze<4.4&&(O.isOldAndroid=!0),O.androidVersion=Ze),O.isMobileOpera=/opera mini|opera mobi/i.test(ae)}for(var _e=["transform","perspective","animationName"],ft=["","webkit","Moz","ms","O"],Qe,ct,St=0;St<4;St++){T=ft[St];for(var vi=0;vi<3;vi++)Qe=_e[vi],ct=T+(T?Qe.charAt(0).toUpperCase()+Qe.slice(1):Qe),!O[Qe]&&ct in W&&(O[Qe]=ct);T&&!O.raf&&(T=T.toLowerCase(),O.raf=window[T+"RequestAnimationFrame"],O.raf&&(O.caf=window[T+"CancelAnimationFrame"]||window[T+"CancelRequestAnimationFrame"]))}if(!O.raf){var dr=0;O.raf=function(ei){var Yt=new Date().getTime(),ri=Math.max(0,16-(Yt-dr)),Ei=window.setTimeout(function(){ei(Yt+ri)},ri);return dr=Yt+ri,Ei},O.caf=function(ei){clearTimeout(ei)}}return O.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=O,O}};c.detectFeatures(),c.features.oldIE&&(c.bind=function(I,W,T,O){W=W.split(" ");for(var ae=(O?"detach":"attach")+"Event",Ae,We=function(){T.handleEvent.call(T)},Ze=0;Ze<W.length;Ze++)if(Ae=W[Ze],Ae)if(typeof T=="object"&&T.handleEvent){if(!O)T["oldIE"+Ae]=We;else if(!T["oldIE"+Ae])return!1;I[ae]("on"+Ae,T["oldIE"+Ae])}else I[ae]("on"+Ae,T)});var d=this,f=25,m=3,b={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(I){return I.tagName==="A"},getDoubleTapZoom:function(I,W){return I||W.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};c.extend(b,u);var Eo=null,C=function(){var I=c.getScrollY();Eo===null&&(Eo=I),$s||(ki=ki+(I-Eo),Eo=I,Q<=d.currItem.fitRatio&&!Br&&b.modal&&(!b.animatedCloseOnScroll||Io||ar?ki=0:Ye&&Math.abs(ki)>0&&!Tr&&(xn(),Uu()),Cr&&clearTimeout(Cr),b.animatedCloseOnScroll,Cr=setTimeout(function(){xn(),qa()},200)))},S=function(){return{x:0,y:0}},A=function(){return{x:0,y:0,rotation:0}},F,_,X,k,B,G,V=S(),te=A(),D=A(),z,re,ne,q={},L={},Q,K,$,fe,J,Z,ee=0,ue={},ce=S(),he,ve,Oe=0,Le,Te,He,rt,Ye,Me,Ue=!0,et,st=[],Xe,Dt,Li,$t,xt,Ut,ut,Qr={},Kt=!1,mo,Tr=!1,In=function(I,W){c.extend(d,W.publicMethods),st.push(I)},qo=function(I){var W=Yi();return I>W-1?I-W:I<0?W+I:I},bo={},mi=function(I,W){return bo[I]||(bo[I]=[]),bo[I].push(W)},pt=function(I){var W=bo[I];if(W){var T=Array.prototype.slice.call(arguments);T.shift();for(var O=0;O<W.length;O++)W[O].apply(d,T)}},Ir=function(){return new Date().getTime()},nr=function(I){Va=I,d.bg.style.opacity=I*b.bgOpacity},ks=function(I,W,T,O,ae,Ae){(!Kt||ae&&ae!==d.currItem)&&(O=O/(ae?ae.fitRatio:d.currItem.fitRatio)),T=T+L.top,I[Ye]=$+W+"px, "+T+"px"+fe+" scale("+O+") rotateZ("+Ae+"rad)"},ii=function(I){sr&&(I&&(Q>d.currItem.fitRatio?Kt||(qr(d.currItem,!1,!0),Kt=!0):Kt&&(qr(d.currItem),Kt=!1)),ks(sr,D.x,D.y,Q,null,D.rotation))},vo=function(I){I.container&&ks(I.container.style,I.initialPosition.x,I.initialPosition.y,I.initialZoomLevel,I,0)},$o=function(I,W,T){T[Ye]=$+I+"px, "+W+"px"+fe},Xs=function(I,W){if(!b.loop&&W){var T=k+(ce.x*ee-I)/ce.x,O=I-Lr.x;(T<0&&O>0||T>=Yi()-1&&O<0)&&(I=Lr.x+O*b.mainScrollEndFriction)}Lr.x=I,$o(I,0,B)},xu=function(I,W){var T=So[I]-ue[I];return te[I]+V[I]+T-T*(W/K)},Gi=function(I,W){I.x=W.x,I.y=W.y,W.id&&(I.id=W.id)},Su=function(I){I.x=Math.round(I.x),I.y=Math.round(I.y)},Ru=null,Eu=function(){Ru&&(c.unbind(document,"mousemove",Eu),c.addClass(n,"quick-view-has-mouse"),b.mouseUsed=!0,pt("mouseUsed")),Ru=setTimeout(function(){Ru=null},100)},mm=function(){c.bind(document,"keydown",d),ut.transform&&c.bind(d.scrollWrap,"click",d),b.mouseUsed||c.bind(document,"mousemove",Eu),c.bind(window,"resize scroll orientationchange",d),pt("bindEvents")},bm=function(){c.unbind(window,"resize scroll orientationchange",d),c.unbind(window,"scroll",ne.scroll),c.unbind(document,"keydown",d),c.unbind(document,"mousemove",Eu),ut.transform&&c.unbind(d.scrollWrap,"click",d),ar&&c.unbind(window,z,d),clearTimeout(mo),pt("unbindEvents")},Zs=function(I,W){var T=Ha(d.currItem,q,I);return W&&(nt=T),T},zd=function(I){return I||(I=d.currItem),I.initialZoomLevel},Yd=function(I){return I||(I=d.currItem),I.w>0?b.maxSpreadZoom:1},Qd=function(I,W,T,O){return O===d.currItem.initialZoomLevel?(T[I]=d.currItem.initialPosition[I],!0):(T[I]=xu(I,O),T[I]>W.min[I]?(T[I]=W.min[I],!0):T[I]<W.max[I]?(T[I]=W.max[I],!0):!1)},Fu=function(){if(Ye){var I=ut.perspective&&!et;$="translate"+(I?"3d(":"("),fe=ut.perspective?", 0px)":")";return}Ye="left",c.addClass(n,"quick-view-ie"),$o=function(W,T){T.left=W+"px"},vo=function(W){var T=W.fitRatio>1?1:W.fitRatio,O=W.container.style,ae=T*W.w,Ae=T*W.h;O.width=ae+"px",O.height=Ae+"px",O.left=W.initialPosition.x+"px",O.top=W.initialPosition.y+"px"},ii=function(){if(sr){var W=sr,T=d.currItem,O=T.fitRatio>1?1:T.fitRatio,ae=O*T.w,Ae=O*T.h;W.width=ae+"px",W.height=Ae+"px",W.left=D.x+"px",W.top=D.y+"px"}}},vm=function(I){var W="";b.escKey&&I.keyCode===27?W="close":b.arrowKeys&&(I.keyCode===37?W="prev":I.keyCode===39&&(W="next")),I.keyCode===32&&(I.preventDefault(),I.stopImmediatePropagation(),W="close"),W&&!I.ctrlKey&&!I.altKey&&!I.shiftKey&&!I.metaKey&&(I.preventDefault?I.preventDefault():I.returnValue=!1,d[W]())},Nu=function(I){I&&(yn||Pn||Bi||ea)&&(I.preventDefault(),I.stopPropagation())},jd=function(){d.setScrollOffset(0,c.getScrollY())};H.isServer||window.addEventListener("scroll",C);var or={},Io=0,Ma=function(I){or[I]&&(or[I].raf&&Dt(or[I].raf),Io--,delete or[I])},_u=function(I){or[I]&&Ma(I),or[I]||(Io++,or[I]={})},ka=function(){for(var I in or)or.hasOwnProperty(I)&&Ma(I)},Ko=function(I,W,T,O,ae,Ae,We){var Ze=Ir(),_e;_u(I);var ft=function(){if(or[I]){if(_e=Ir()-Ze,_e>=O){Ma(I),Ae(T),We&&We();return}Ae((T-W)*ae(_e/O)+W),or[I].raf=Xe(ft)}};ft()},Im={shout:pt,listen:mi,viewportSize:q,options:b,isMainScrollAnimating:function(){return Bi},getZoomLevel:function(){return Q},getCurrentIndex:function(){return k},isDragging:function(){return ar},isZooming:function(){return jr},setScrollOffset:function(I,W){ue.x=I,Ut=ue.y=W,pt("updateScrollOffset",ue)},applyZoomPan:function(I,W,T,O){D.x=W,D.y=T,Q=I,ii(O)},init:function(){if(!(F||_)){e("init",d);var I;d.framework=c,d.template=n,d.bg=c.getChildByClass(n,"quick-view-bg"),d.captionPositioner=c.getChildByClass(n,"quick-view-caption-positioner"),d.captionWrapper=c.getChildByClass(d.captionPositioner,"quick-view-caption-wrapper"),d.caption=c.getChildByClass(d.captionWrapper,"quick-view-caption"),Li=n.className,F=!0,ut=c.detectFeatures(),Xe=ut.raf,Dt=ut.caf,Ye=ut.transform,xt=ut.oldIE,d.scrollWrap=c.getChildByClass(n,"quick-view-scroll-wrap"),d.container=c.getChildByClass(d.scrollWrap,"quick-view-container"),B=d.container.style,d.itemHolders=he=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}],he[0].el.style.display=he[2].el.style.display="none",Fu(),ne={resize:d.updateSize,orientationchange:function(){clearTimeout(mo),mo=setTimeout(function(){q.x!==d.scrollWrap.clientWidth&&d.updateSize()},500)},scroll:jd,keydown:vm,click:Nu};var W=ut.isOldIOSPhone||ut.isOldAndroid||ut.isMobileOpera;for((!ut.animationName||!ut.transform||W)&&(b.showAnimationDuration=b.hideAnimationDuration=0),I=0;I<st.length;I++)d["init"+st[I]]();if(a){var T=d.ui=new a(d,c);T.init()}pt("firstUpdate"),k=k||b.index||0,(isNaN(k)||k<0||k>=Yi())&&(k=0),d.currItem=Jr(k),(ut.isOldIOSPhone||ut.isOldAndroid)&&(Ue=!1),n.setAttribute("aria-hidden","false"),b.modal&&(Ue?n.style.position="fixed":(n.style.position="absolute",n.style.top=c.getScrollY()+"px")),n.classList.add("quick-view-vertical-align-"+b.alignVertical),n.classList.add("quick-view-horizontal-align-"+b.alignHorizontal),Ut===void 0&&(pt("initialLayout"),Ut=$t=c.getScrollY());var O="quick-view-open ";for(b.mainClass&&(O+=b.mainClass+" "),b.showHideOpacity&&(O+="quick-view-animate_opacity "),O+=et?"quick-view-touch":"quick-view-notouch",O+=ut.animationName?" quick-view-css_animation":"",O+=ut.svg?" quick-view-svg":"",c.addClass(n,O),d.updateSize(),G=-1,Oe=null,I=0;I<m;I++)$o((I+G)*ce.x+L.left,0,he[I].el.style);xt||c.bind(d.scrollWrap,re,d),mi("initialZoomInEnd",function(){d.setContent(he[0],k-1),d.setContent(he[2],k+1),he[0].el.style.display=he[2].el.style.display="block",b.focus&&n.focus(),mm()}),d.setContent(he[1],k),d.updateCurrItem(),setTimeout(d.updateCaption,b.showAnimationDuration+50),pt("afterInit",k),e("after-init",d),Ue||(J=setInterval(function(){!Io&&!ar&&!jr&&Q===d.currItem.initialZoomLevel&&d.updateSize()},1e3)),c.addClass(n,"quick-view-visible")}},close:function(){F&&(F=!1,_=!0,pt("close"),e("closing",d),bm(),Zu(d.currItem,null,!0,d.destroy))},destroy:function(){pt("destroy"),e("destroy",d),lr&&clearTimeout(lr),n.setAttribute("aria-hidden","true"),n.className=Li,J&&clearInterval(J),c.unbind(d.scrollWrap,re,d),c.unbind(window,"scroll",d),window.removeEventListener("scroll",C),Gu(),ka(),bo=null},panTo:function(I,W,T){T||(I>nt.min.x?I=nt.min.x:I<nt.max.x&&(I=nt.max.x),W>nt.min.y?W=nt.min.y:W<nt.max.y&&(W=nt.max.y)),D.x=I,D.y=W,ii()},handleEvent:function(I){I=I||window.event,ne[I.type]&&ne[I.type](I)},goTo:function(I){I=qo(I);var W=I-k;Oe=W,k=I,d.currItem=Jr(k),ee-=W,Xs(ce.x*ee),ka(),Bi=!1,d.updateCurrItem()},next:function(){d.goTo(k+1)},prev:function(){d.goTo(k-1)},updateCurrZoomItem:function(I){if(I&&(pt("beforeChange",0),e("before-slide-change",d,0)),he[1].el.children.length){var W=he[1].el.children[0];c.hasClass(W,"quick-view-zoom-wrap")?sr=W.style:sr=null}else sr=null;nt=d.currItem.bounds,K=Q=d.currItem.initialZoomLevel,D.x=nt.center.x,D.y=nt.center.y,I&&(pt("afterChange",k),e("after-slide-change",d))},invalidateCurrItems:function(){Z=!0;for(var I=0;I<m;I++)he[I].item&&(he[I].item.needsUpdate=!0)},updateCaption:function(){if(d.currItem.caption&&b.showCaption){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.appendChild(d.currItem.caption),Bt(d.currItem),d.caption.classList.remove("hidden")}else if(b.showCaption){var I=function(){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.removeEventListener("transitionend",I)};d.caption.classList.contains("hidden")?I():(d.caption.addEventListener("transitionend",I),d.caption.classList.add("hidden"))}},updateCurrItem:function(I){if(Oe!==0){var W=Math.abs(Oe),T;if(!(I&&W<2)){d.currItem=Jr(k),Kt=!1,pt("beforeChange",Oe);var O=Oe;O===null&&(O=0),e("slide-change",d,O),W>=m&&(G+=Oe+(Oe>0?-m:m),W=m);for(var ae=0;ae<W;ae++)Oe>0?(T=he.shift(),he[m-1]=T,G++,$o((G+2)*ce.x+L.left,0,T.el.style),d.setContent(T,k-W+ae+1+1)):(T=he.pop(),he.unshift(T),G--,$o(G*ce.x+L.left,0,T.el.style),d.setContent(T,k+W-ae-1-1));if(sr&&Math.abs(Oe)===1){var Ze=Jr(ve);Ze.initialZoomLevel!==Q&&(Ha(Ze,q),qr(Ze),vo(Ze))}var Ae=1+-Oe,We=he[Ae];Oe=0,d.updateCurrZoomItem(),ve!==void 0&&d.updateCaption();var Ze=Jr(ve),_e=Ze?.container?.querySelector("media-item");_e&&(_e.removeAttribute("autoplay"),_e.pause?.());var ft=Jr(k),Qe=ft?.container?.querySelector("media-item");Qe&&(vt(Qe,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),vt(Qe,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),ft.autoplay&&Qe?.play?.()),ve=k,pt("afterChange",k)}}},updateSize:function(I){if(!Ue&&b.modal){var W=c.getScrollY();if(Ut!==W&&(n.style.top=W+"px",Ut=W),!I&&Qr.x===window.innerWidth&&Qr.y===window.innerHeight)return;Qr.x=window.innerWidth,Qr.y=window.innerHeight,n.style.height=Qr.y+"px"}var T=window.getComputedStyle(d.template),O=parseFloat(T.getPropertyValue("padding-left"))+parseFloat(T.getPropertyValue("border-left-width")),ae=parseFloat(T.getPropertyValue("margin-left")),Ae=parseFloat(T.getPropertyValue("padding-right"))+parseFloat(T.getPropertyValue("border-right-width")),We=parseFloat(T.getPropertyValue("margin-right")),Ze=parseFloat(T.getPropertyValue("padding-top"))+parseFloat(T.getPropertyValue("border-top-width")),_e=parseFloat(T.getPropertyValue("margin-top")),ft=parseFloat(T.getPropertyValue("padding-bottom"))+parseFloat(T.getPropertyValue("border-bottom-width")),Qe=parseFloat(T.getPropertyValue("margin-bottom"));let ct="quick-view-vertical-align-"+b.alignVertical,St="quick-view-horizontal-align-"+b.alignHorizontal;ct!=="quick-view-vertical-align-center"&&n.classList.remove("quick-view-vertical-align-center"),ct!=="quick-view-vertical-align-top"&&n.classList.remove("quick-view-vertical-align-top"),ct!=="quick-view-vertical-align-bottom"&&n.classList.remove("quick-view-vertical-align-bottom"),St!=="quick-view-horizontal-align-center"&&n.classList.remove("quick-view-horizontal-align-center"),St!=="quick-view-horizontal-align-left"&&n.classList.remove("quick-view-horizontal-align-left"),St!=="quick-view-horizontal-align-right"&&n.classList.remove("quick-view-horizontal-align-right"),n.classList.add(ct),n.classList.add(St),L.top=Ze,L.left=O,L.bottom=ft,L.right=Ae,L.marginTop=_e,L.marginLeft=ae,L.marginBottom=Qe,L.marginRight=We;var vi=d.scrollWrap.getBoundingClientRect();if(q.x=vi.width,q.y=vi.height,jd(),ce.x=q.x+q.x*b.spacing,ce.y=q.y,Xs(ce.x*ee),pt("beforeResize"),G!==void 0){for(var dr,ei,Yt,ri=0;ri<m;ri++)dr=he[ri],$o((ri+G)*ce.x+L.left,0,dr.el.style),Yt=k+ri-1,b.loop&&Yi()>2&&(Yt=qo(Yt)),ei=Jr(Yt),ei&&(Z||ei.needsUpdate||!ei.bounds)?(d.cleanSlide(ei),d.setContent(dr,Yt),ri===1&&(d.currItem=ei,d.updateCurrZoomItem(!0)),ei.needsUpdate=!1):dr.index===-1&&Yt>=0&&d.setContent(dr,Yt),ei&&ei.container&&(Ha(ei,q),qr(ei),vo(ei));Z=!1}K=Q=d.currItem.initialZoomLevel,nt=d.currItem.bounds,nt&&(D.x=nt.center.x,D.y=nt.center.y,ii(!0)),pt("resize")},zoomTo:function(I,W,T,O,ae){W&&(K=Q,So.x=Math.abs(W.x)-D.x,So.y=Math.abs(W.y)-D.y,Gi(te,D));var Ae=Zs(I,!1),We={};Qd("x",Ae,We,I),Qd("y",Ae,We,I);var Ze=Q,_e={x:D.x,y:D.y};Su(We);var ft=function(Qe){Qe===1?(Q=I,D.x=We.x,D.y=We.y,d.currItem.caption&&b.showCaption&&(Math.abs(Q-d.currItem.fitRatio)>.01?d.caption.classList.add("hidden"):d.caption.classList.remove("hidden"))):(Q=(I-Ze)*Qe+Ze,D.x=(We.x-_e.x)*Qe+_e.x,D.y=(We.y-_e.y)*Qe+_e.y),ae&&ae(Qe),ii(Qe===1)};T?Ko("customZoomTo",0,1,T,O||c.easing.sine.inOut,ft):ft(1)}},Wu=30,Ou=10,Jd,Ps,Hi={},yo={},zi={},ci={},Co={},Dr=[],Ao={},Xa,wo=[],xo={},Vs,ea,Za,Us=0,Hs=S(),Tu=0,ar,zs,Pn,yn,Ys,Cn,Ri,jr,qd,Du,nt,Lr=S(),sr,Bi,So=S(),Vn=S(),Mi,Qs,Pa,Va,Ua,$d=function(I,W){return I.x===W.x&&I.y===W.y},Kd=function(I,W){return Math.abs(I.x-W.x)<f&&Math.abs(I.y-W.y)<f},Lu=function(I,W){return xo.x=Math.abs(I.x-W.x),xo.y=Math.abs(I.y-W.y),Math.sqrt(xo.x*xo.x+xo.y*xo.y)},Gu=function(){Ys&&(Dt(Ys),Ys=null)},ep=function(){ar&&(Ys=Xe(ep),xm())},ym=function(){return!(b.scaleMode==="fit"&&Q===d.currItem.initialZoomLevel)},Bu=function(I,W){return!I||I===document||I.getAttribute("class")&&I.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:W(I)?I:Bu(I.parentNode,W)},Mu={},tp=function(I,W){return Mu.prevent=!Bu(I.target,b.isClickableElement),pt("preventDragEvent",I,W,Mu),Mu.prevent},ip=function(I,W){return W.x=I.pageX+-L.left+-L.marginLeft,W.y=I.pageY+-L.top+-L.marginTop,W.clientY=I.clientY,W.id=I.identifier,W},rp=function(I,W,T){T.x=(I.x+W.x)*.5,T.y=(I.y+W.y)*.5},ku=function(I,W,T){if(I-Ps>50){var O=wo.length>2?wo.shift():{};O.x=W,O.y=T,wo.push(O),Ps=I}},np=function(){var I=D.y-d.currItem.initialPosition.y;return Math.min(1.2-Math.abs(I/(q.y/2)),1)},ta={},Cm={},Un=[],js,Et=function(I){for(;Un.length>0;)Un.pop();return Me?(js=0,Dr.forEach(function(W){js===0?Un[0]=W:js===1&&(Un[1]=W),js++})):I.type.indexOf("touch")>-1?I.touches&&I.touches.length>0&&(Un[0]=ip(I.touches[0],ta),I.touches.length>1&&(Un[1]=ip(I.touches[1],Cm))):(ta.x=I.pageX,ta.y=I.pageY,ta.clientY=I.clientY,ta.id="",Un[0]=ta),Un},Ft=function(I,W){var T,O=0,ae=D[I]+W[I],Ae,We=W[I]>0,Ze=Lr.x+W.x,_e=Lr.x-Ao.x,ft,Qe;if(ae>nt.min[I]||ae<nt.max[I]?T=b.panEndFriction:T=1,ae=D[I]+W[I]*T,(b.allowPanToNext||Q===d.currItem.initialZoomLevel)&&(sr?Mi==="h"&&I==="x"&&!Pn&&(We?(ae>nt.min[I]&&(T=b.panEndFriction,O=nt.min[I]-ae,Ae=Math.round(nt.min[I]-te[I])),(Ae<=0||_e<0)&&Yi()>1?(Qe=Ze,_e<0&&Ze>Ao.x&&(Qe=Ao.x)):nt.min.x!==nt.max.x&&(ft=ae)):(ae<nt.max[I]&&(T=b.panEndFriction,O=ae-nt.max[I],Ae=Math.round(te[I]-nt.max[I])),(Ae<=0||_e>0)&&Yi()>1?(Qe=Ze,_e>0&&Ze<Ao.x&&(Qe=Ao.x)):nt.min.x!==nt.max.x&&(ft=ae))):Qe=Ze,I==="x"))return Qe!==void 0&&(Xs(Qe,!0),Qe===Ao.x?Cn=!1:Cn=!0),nt.min.x!==nt.max.x&&(ft!==void 0?D.x=ft:Cn||(D.x+=W.x*T)),Qe!==void 0;Bi||Cn||Q>d.currItem.fitRatio&&(D[I]+=W[I]*T)},op=null,Am=function(I){if(!(I.type==="mousedown"&&I.button>0)){if(ia){I.preventDefault();return}if(!(Za&&I.type==="mousedown")){if(tp(I,!0)&&I.preventDefault(),Ja=I.type,op=setTimeout(function(){d.template.classList.add("mouse-down")},200),pt("pointerDown"),Me){var W=c.arraySearch(Dr,I.pointerId,"id");W<0&&(W=Dr.length),Dr[W]={x:I.pageX,y:I.pageY,clientY:I.clientY,id:I.pointerId}}var T=Et(I),O=T.length;Ri=null,ka(),(!ar||O===1)&&(ar=Qs=!0,c.bind(window,z,d),Vs=Br=Ua=Pa=ea=Cn=yn=zs=Pn=!1,Mi=null,Vu=T[0].y+-Ut,pt("firstTouchStart",T),Gi(te,D),V.x=V.y=0,Gi(ci,T[0]),Gi(Co,ci),Ao.x=ce.x*ee,wo=[{x:ci.x,y:ci.y}],Ps=Jd=Ir(),Zs(Q,!0),Gu(),ep()),!jr&&O>1&&!Bi&&!Cn&&(K=Q,Pn=!1,jr=zs=!0,V.y=V.x=0,Gi(te,D),Gi(Hi,T[0]),Gi(yo,T[1]),rp(Hi,yo,Vn),So.x=Math.abs(Vn.x)-D.x,So.y=Math.abs(Vn.y)-D.y,qd=Du=Lu(Hi,yo))}}},wm=function(I){if(I.preventDefault(),Me){var W=c.arraySearch(Dr,I.pointerId,"id");if(W>-1){var T=Dr[W];T.x=I.pageX,T.y=I.pageY,T.clientY=I.clientY}}if(ar){var O=Et(I);if(!Mi&&!yn&&!jr)if(Lr.x!==ce.x*ee)Mi="h";else{var ae=Math.abs(O[0].x-ci.x)-Math.abs(O[0].y-ci.y);Math.abs(ae)>=Ou&&(Mi=ae>0?"h":"v",Ri=O)}else Ri=O;ja=ja+(Vu-O[0].clientY),Vu=O[0].clientY}},xm=function(){if(Ri){var I=Ri.length;if(I!==0)if(Gi(Hi,Ri[0]),zi.x=Hi.x-ci.x,zi.y=Hi.y-ci.y,jr&&I>1){if(ci.x=Hi.x,ci.y=Hi.y,!zi.x&&!zi.y&&$d(Ri[1],yo))return;Gi(yo,Ri[1]),Pn||(Pn=!0,pt("zoomGestureStarted"),d.currItem.caption&&b.showCaption&&d.caption.classList.add("hidden"));var W=Lu(Hi,yo),T=bi(W);T>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(Ua=!0);var O=1,ae=zd(),Ae=Yd();if(T<ae)if(b.pinchToClose&&!Ua&&K<=d.currItem.initialZoomLevel){var We=ae-T,Ze=1-We/(ae/1.2);nr(Ze),pt("onPinchClose",Ze),Pa=!0}else O=(ae-T)/ae,O>1&&(O=1),T=ae-O*(ae/3);else T>Ae&&(O=(T-Ae)/(ae*6),O>1&&(O=1),T=Ae+O*ae);O<0&&(O=0),qd=W,rp(Hi,yo,Hs),V.x+=Hs.x-Vn.x,V.y+=Hs.y-Vn.y,Gi(Vn,Hs),D.x=xu("x",T),D.y=xu("y",T),Vs=T>Q,Q=T,ii()}else{if(!Mi||(Qs&&(Qs=!1,Math.abs(zi.x)>=Ou&&(zi.x-=Ri[0].x-Co.x),Math.abs(zi.y)>=Ou&&(zi.y-=Ri[0].y-Co.y,ja-=-(Ri[0].y-Co.y))),ci.x=Hi.x,ci.y=Hi.y,zi.x===0&&zi.y===0))return;if(Mi==="v"&&b.animatedCloseOnScroll&&Ja==="touchstart"){if(ki=ja,ja=0,!Br&&!Tr){Br=!0,xn(),Uu();var _e=!1,ft=0,Qe=1,ct=0;Ro=0,Kr=0;var St=ci.y,vi=ci.y,dr,ei,Yt=document.documentElement.scrollTop,ri=document.documentElement.scrollHeight,Ei=q.y,na=!1,Ks=document.querySelectorAll(".content_container, .pinned > div:not(.fixed)"),el=[],tl=function(){na||(na=!0,ei=requestAnimationFrame(function(){Ks.style.transform="translateY("+-Kr+"px)",el.each(function(Re){var Je=this.parentElement.__backdropData,mt=this.parentElement.__cached_size,Qt=this.parentElement.__cached_page_size;if(Je){var Ct=0,Xi=0,Yn=0;mt&&(Ct=mt.top,Xi=mt.height,Yn=Xi),Qt&&(Yn=Qt.height);var Zi=parseFloat(Je.yPos)||0;this.style.position==="fixed"&&(this.style.position="absolute");var Sn=Yt+Kr,Fo=Yt+Kr+Cargo.Backdrop.cache_window_data.height,No=Ct+Yt,Ka=Ct+Yt+Yn;if(No<=Sn&&Ka>=Fo){var il=No-Sn;this.style.transform="translateY("+-il+"px)"}else Ka<Fo?this.style.transform="translateY("+(Yn-Cargo.Backdrop.cache_window_data.height)+"px)":this.style.transform="translateY(0px)"}}),na=!1}))},en=function(Re){if(Re.touches.length==0||Re.touches.length>1){oa(),Qi();return}Re.preventDefault(),Ro=vi-Re.touches[0].pageY,Kr=Ro,Ro+Yt<=0?(scrollMonitor.__frozen=!0,Kr=-Yt):Ro+Yt+Ei>=ri?(scrollMonitor.__frozen=!0,Kr=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,ct=St-Re.touches[0].pageY,St=Re.touches[0].pageY,tl()},oa=function(){window.removeEventListener("touchmove",en),window.removeEventListener("touchend",oa),window.addEventListener("touchstart",Qi),cancelAnimationFrame(ei),Ks.style.transform="",el.each(function(){this.__cacheStyle&&(this.style=this.__cacheStyle,delete this.__cacheStyle)}),document.documentElement.scrollTop=document.documentElement.scrollTop+Ro,Y(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},Qi=function(){ct=0,cancelAnimationFrame(dr),window.removeEventListener("touchstart",Qi)},Y=function(){Qe=Qe*.95;var Re=ct*Qe;document.documentElement.scrollTop=document.documentElement.scrollTop+Re,Math.abs(Re)>.5?dr=requestAnimationFrame(function(){Y()}):Qi()};window.addEventListener("touchmove",en),window.addEventListener("touchend",oa)}return}else if(Mi==="v"&&b.closeOnVerticalDrag&&!ym()){V.y+=zi.y,D.y+=zi.y;var pe=np();ea=!0,pt("onVerticalDrag",pe),nr(pe),ii();return}ku(Ir(),Hi.x,Hi.y),Mi==="h"&&b.showCaption&&!yn&&d.caption.classList.add("hidden"),yn=!0,nt=d.currItem.bounds;var le=Ft("x",zi);le||(Ft("y",zi),Su(D),ii())}}},Sm=function(I){if(Ja="",ut.isOldAndroid){if(Za&&I.type==="mouseup")return;I.type.indexOf("touch")>-1&&(clearTimeout(Za),Za=setTimeout(function(){Za=0},600))}clearTimeout(op),d.template.classList.remove("mouse-down"),pt("pointerUp"),tp(I,!1)&&I.preventDefault();var W;if(Me){var T=c.arraySearch(Dr,I.pointerId,"id");if(T>-1)if(W=Dr.splice(T,1)[0],navigator.pointerEnabled)W.type=I.pointerType||"mouse";else{var O={4:"mouse",2:"touch",3:"pen"};W.type=O[I.pointerType],W.type||(W.type=I.pointerType||"mouse")}}var ae=Et(I),Ae,We=ae.length;if(I.type==="mouseup"&&(We=0),We===2)return Ri=null,!0;We===1&&Gi(Co,ae[0]),We===0&&!Mi&&!Bi&&(W||(I.type==="mouseup"?W={x:I.pageX+-L.left+-L.marginLeft,y:I.pageY+-L.top+-L.marginTop,type:"mouse"}:I.changedTouches&&I.changedTouches[0]&&(W={x:I.changedTouches[0].pageX+-L.left+-L.marginLeft,y:I.changedTouches[0].pageY+-L.top+-L.marginTop,type:"touch"})),pt("touchRelease",I,W));var Ze=-1;if(We===0&&(ar=!1,c.unbind(window,z,d),Gu(),jr?Ze=0:Tu!==-1&&(Ze=Ir()-Tu)),Tu=We===1?Ir():-1,Ze!==-1&&Ze<150?Ae="zoom":Ae="swipe",jr&&We<2&&(jr=!1,We===1&&(Ae="zoomPointerUp"),pt("zoomGestureEnded")),Ri=null,!(!yn&&!Pn&&!Bi&&!ea&&!Br)){if(ka(),Xa||(Xa=Rm()),Xa.calculateSwipeSpeed("x"),Br)Cr&&clearTimeout(Cr),Br=!1,xn(),qa();else if(ea){var _e=np();if(_e<b.verticalDragRange)d.close();else{var ft=D.y,Qe=Va;Ko("verticalDrag",0,1,300,c.easing.cubic.out,function(St){D.y=(d.currItem.initialPosition.y-ft)*St+ft,nr((1-Qe)*St+Qe),ii()}),pt("onVerticalDrag",1)}return}if((Cn||Bi)&&We===0){var ct=Em(Ae,Xa);if(ct)return;Ae="zoomPointerUp"}if(!Bi){if(Ae!=="swipe"){Xu();return}!Cn&&Q>d.currItem.fitRatio&&ap(Xa)}}},Rm=function(){var I,W,T={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(O){wo.length>1?(I=Ir()-Ps+50,W=wo[wo.length-2][O]):(I=Ir()-Jd,W=Co[O]),T.lastFlickOffset[O]=ci[O]-W,T.lastFlickDist[O]=Math.abs(T.lastFlickOffset[O]),T.lastFlickDist[O]>20?T.lastFlickSpeed[O]=T.lastFlickOffset[O]/I:T.lastFlickSpeed[O]=0,Math.abs(T.lastFlickSpeed[O])<.1&&(T.lastFlickSpeed[O]=0),T.slowDownRatio[O]=.95,T.slowDownRatioReverse[O]=1-T.slowDownRatio[O],T.speedDecelerationRatio[O]=1},calculateOverBoundsAnimOffset:function(O,ae){T.backAnimStarted[O]||(D[O]>nt.min[O]?T.backAnimDestination[O]=nt.min[O]:D[O]<nt.max[O]&&(T.backAnimDestination[O]=nt.max[O]),T.backAnimDestination[O]!==void 0&&(T.slowDownRatio[O]=.7,T.slowDownRatioReverse[O]=1-T.slowDownRatio[O],T.speedDecelerationRatioAbs[O]<.05&&(T.lastFlickSpeed[O]=0,T.backAnimStarted[O]=!0,Ko("bounceZoomPan"+O,D[O],T.backAnimDestination[O],ae||300,c.easing.sine.out,function(Ae){D[O]=Ae,ii()}))))},calculateAnimOffset:function(O){T.backAnimStarted[O]||(T.speedDecelerationRatio[O]=T.speedDecelerationRatio[O]*(T.slowDownRatio[O]+T.slowDownRatioReverse[O]-T.slowDownRatioReverse[O]*T.timeDiff/10),T.speedDecelerationRatioAbs[O]=Math.abs(T.lastFlickSpeed[O]*T.speedDecelerationRatio[O]),T.distanceOffset[O]=T.lastFlickSpeed[O]*T.speedDecelerationRatio[O]*T.timeDiff,D[O]+=T.distanceOffset[O])},panAnimLoop:function(){if(or.zoomPan&&(or.zoomPan.raf=Xe(T.panAnimLoop),T.now=Ir(),T.timeDiff=T.now-T.lastNow,T.lastNow=T.now,T.calculateAnimOffset("x"),T.calculateAnimOffset("y"),ii(),T.calculateOverBoundsAnimOffset("x"),T.calculateOverBoundsAnimOffset("y"),T.speedDecelerationRatioAbs.x<.05&&T.speedDecelerationRatioAbs.y<.05)){D.x=D.x,D.y=D.y,ii(),Ma("zoomPan");return}}};return T},ap=function(I){if(I.calculateSwipeSpeed("y"),nt=d.currItem.bounds,I.backAnimDestination={},I.backAnimStarted={},Math.abs(I.lastFlickSpeed.x)<=.05&&Math.abs(I.lastFlickSpeed.y)<=.05)return I.speedDecelerationRatioAbs.x=I.speedDecelerationRatioAbs.y=0,I.calculateOverBoundsAnimOffset("x"),I.calculateOverBoundsAnimOffset("y"),!0;_u("zoomPan"),I.lastNow=Ir(),I.panAnimLoop()},Em=function(I,W){var T;Bi||(Us=k);var O;if(I==="swipe"){var ae=ci.x-Co.x,Ae=W.lastFlickDist.x<10;ae>Wu&&(Ae||W.lastFlickOffset.x>20)?O=-1:ae<-Wu&&(Ae||W.lastFlickOffset.x<-20)&&(O=1)}var We;O&&(k+=O,k<0?(k=b.loop?Yi()-1:0,We=!0):k>=Yi()&&(k=b.loop?0:Yi()-1,We=!0),(!We||b.loop)&&(Oe+=O,ee-=O,T=!0));var Ze=ce.x*ee,_e=Math.abs(Ze-Lr.x),ft;return!T&&Ze>Lr.x!=W.lastFlickSpeed.x>0?ft=333:(ft=Math.abs(W.lastFlickSpeed.x)>0?_e/Math.abs(W.lastFlickSpeed.x):333,ft=Math.min(ft,400),ft=Math.max(ft,250)),Us===k&&(T=!1),Bi=!0,pt("mainScrollAnimStart"),Ko("mainScroll",Lr.x,Ze,ft,c.easing.cubic.out,Xs,function(){ka(),Bi=!1,Us=-1,(T||Us!==k)&&d.updateCurrItem(),pt("mainScrollAnimComplete")}),T?d.updateCurrItem(!0):d.updateCaption(),T},bi=function(I){return 1/Du*I*K},Xu=function(){var I=Q,W=zd(),T=Yd();Q<W?I=W:Q>T&&(I=T);var O=1,ae,Ae=Va;return Pa&&!Vs&&!Ua&&Q<W?(d.close(),!0):(Pa&&(ae=function(We){nr((O-Ae)*We+Ae)}),d.zoomTo(I,0,200,c.easing.cubic.out,ae),!0)};In("Gestures",{publicMethods:{initGestures:function(){var I=function(W,T,O,ae,Ae){Le=W+T,Te=W+O,He=W+ae,Ae?rt=W+Ae:rt=""};Me=ut.pointerEvent,Me&&ut.touch&&(ut.touch=!1),Me?navigator.pointerEnabled?I("pointer","down","move","up","cancel"):I("MSPointer","Down","Move","Up","Cancel"):ut.touch?(I("touch","start","move","end","cancel"),et=!0):I("mouse","down","move","up"),z=Te+" "+He+" "+rt,re=Le,Me&&!et&&(et=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),d.likelyTouchDevice=et,ne[Le]=Am,ne[Te]=wm,ne[He]=Sm,rt&&(ne[rt]=ne[He]),ut.touch&&(re+=" mousedown",z+=" mousemove mouseup",ne.mousedown=ne[Le],ne.mousemove=ne[Te],ne.mouseup=ne[He]),et||(b.allowPanToNext=!1)}}});var lr,Zu=function(I,W,T,O){lr&&clearTimeout(lr),ia=!0,Js=!0;var ae;I.initialLayout?(ae=I.initialLayout,I.initialLayout=null):ae=b.getThumbBoundsFn&&b.getThumbBoundsFn(k);var Ae=T?b.hideAnimationDuration:b.showAnimationDuration,We=function(){if(Ma("initialZoom"),T)d.template.removeAttribute("style"),d.bg.removeAttribute("style");else{if(nr(1),W&&(W.style.display="block"),I.autoplay){let _e=I.container.querySelector("media-item");_e&&(_e.onload=()=>{_e.play?.()})}c.addClass(n,"quick-view-hide-overflow"),c.addClass(n,"quick-view-animated-in"),pt("initialZoom"+(T?"OutEnd":"InEnd"))}O&&O(),ia=!1};if(!Ae||!ae||ae.x===void 0){pt("initialZoom"+(T?"Out":"In")),Q=I.initialZoomLevel,Gi(D,I.initialPosition),ii(),n.style.opacity=T?0:1,nr(1),Ae?setTimeout(function(){We()},Ae):We();return}var Ze=function(){var _e=X,ft=d.currItem.loadError||b.showHideOpacity,Qe=Br,ct=T?25:90;_e&&(ct=0),I.miniImg&&(I.miniImg.style.webkitBackfaceVisibility="hidden");var St=parseFloat(I.w),vi=parseFloat(I.h);I.useViewportWidth&&(St=(q.x-(L.left+L.right))*I.viewportWidthPercentage),I.useViewportHeight&&(vi=(q.y-(L.top+L.bottom))*I.viewportHeightPercentage);var dr=ae.w/ae.h,ei=St/vi,Yt=dr>ei;if(!T){Q=Yt?ae.h/vi:ae.w/St;var ri=(ae.w-St*Q)*.5,Ei=(ae.h-vi*Q)*.5,na=ri*Math.cos(ae.transform.rotation)-Ei*Math.sin(ae.transform.rotation),Ks=ri*Math.sin(ae.transform.rotation)+Ei*Math.cos(ae.transform.rotation);D.rotation=ae.transform.rotation,D.y=ae.y+-(L.top+L.marginTop)+Ks,D.x=ae.x+-(L.left+L.marginLeft)+na,d[ft?"template":"bg"].style.opacity=.001,ii(),D.rotation=0}if(_u("initialZoom"),T&&!_e&&c.removeClass(n,"quick-view-animated-in"),T){c.removeClass(n,"quick-view-hide-overflow");var el=d.getCurrentIndex();LM.default.each(d.itemHolders,function(en){en.index!==el&&(en.el.style.display="none")}),b.showCaption&&d.caption.classList.add("hidden")}(ft||Qe)&&(T?c[(_e?"remove":"add")+"Class"](n,"quick-view-animate_opacity"):setTimeout(function(){c.addClass(n,"quick-view-animate_opacity")},30));var tl=function(){if(pt("initialZoom"+(T?"Out":"In")),T){var en=Yt?ae.h/vi:ae.w/St,oa=(ae.w-St*en)*.5,Qi=(ae.h-vi*en)*.5,Y=oa*Math.cos(ae.transform.rotation)-Qi*Math.sin(ae.transform.rotation),pe=oa*Math.sin(ae.transform.rotation)+Qi*Math.cos(ae.transform.rotation),le={x:D.x,y:D.y,rotation:0},Re=Q,Je=Va,mt=document.documentElement.scrollTop,Qt=Kr,Ct=function(Xi){var Yn=mt-document.documentElement.scrollTop,Zi=Qt-Kr;if(Xi===1?(Q=en,D.x=ae.x+-(L.left+L.marginLeft)+Y,D.y=ae.y+Yn+Zi+-(L.top+L.marginTop)+pe,D.rotation=ae.transform.rotation):(Q=(en-Re)*Xi+Re,D.x=(ae.x+-le.x+-(L.left+L.marginLeft)+Y)*Xi+le.x,D.y=(ae.y+Yn+Zi+-(L.top+L.marginTop)+pe)*Xi+(1-Xi)*(le.y+Yn+Zi),D.rotation=(ae.transform.rotation-le.rotation)*Xi+le.rotation),ii(),Qe){var Sn=1-Xi;if(Math.hasOwnProperty("cbrt")){var Fo=1-Math.cbrt(Sn);Sn=1-Fo*Fo*Fo*Fo}n.style.opacity=Sn}else ft?n.style.opacity=1-Xi:nr(Je-Xi*Je)};_e?Ko("initialZoom",0,1,Ae,c.easing.cubic.out,Ct,We):(Ct(1),lr=setTimeout(We,Ae+20))}else{if(Q=I.initialZoomLevel,Gi(D,I.initialPosition),ii(),nr(1),sr){sr.opacity="",sr.transitionDuration="";let Xi=I.container.offsetHeight}ft?n.style.opacity=1:nr(1),lr=setTimeout(We,Ae+20)}};ct===0?tl():lr=setTimeout(function(){tl()},ct)};Ze()},Hn,Nt={},zn=[],Js,ia,sp={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Hn.length}},Jr,Yi,ur,Fm=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},yr=function(I,W,T){var O=I.bounds;b.alignHorizontal==="left"?O.center.x=0:b.alignHorizontal==="right"?O.center.x=Nt.x-W+I.hGap.left:O.center.x=(Nt.x-W)/2+I.hGap.left,b.alignVertical==="top"?O.center.y=0:b.alignVertical==="bottom"?O.center.y=Nt.y-T+I.vGap.top:O.center.y=(Nt.y-T)/2+I.vGap.top,O.max.x=W>Nt.x?Nt.x-W+I.hGap.left:O.center.x,O.max.y=T>Nt.y?Nt.y-T+I.vGap.top:O.center.y,O.min.x=W>Nt.x?I.hGap.left:O.center.x,O.min.y=T>Nt.y?I.vGap.top:O.center.y},Ha=function(I,W,T){var O=!T;if(O&&(I.vGap||(I.vGap={top:0,bottom:0}),I.hGap||(I.hGap={left:0,right:0}),pt("parseVerticalMargin",I)),I.useViewportHeight||I.useViewportWidth?(Nt.x=W.x-I.hGap.left-I.hGap.right,Nt.y=W.y-I.vGap.top-I.vGap.bottom):(Nt.x=W.x-I.hGap.left-I.hGap.right+-(L.left+L.right),Nt.y=W.y-I.vGap.top-I.vGap.bottom+-(L.top+L.bottom)),O){var Ze=I.w,_e=I.h;I.useViewportWidth&&(Ze=(W.x-(L.left+L.right))*I.viewportWidthPercentage),I.useViewportHeight&&(_e=(W.y-(L.top+L.bottom))*I.viewportHeightPercentage);var ae=Nt.x/Ze,Ae=Nt.y/_e;I.useViewportHeight||I.useViewportWidth?I.fitRatio=1:I.fitRatio=ae<Ae?ae:Ae;var We=b.scaleMode;We==="orig"?T=1:We==="fit"&&(T=I.fitRatio),T>1&&(T=1),T==0&&(T=.01),I.initialZoomLevel=T,I.bounds||(I.bounds=Fm())}if(T){var Ze=I.w,_e=I.h;return I.useViewportWidth&&(Ze=W.x*I.viewportWidthPercentage),I.useViewportHeight&&(_e=W.y*I.viewportHeightPercentage),(I.useViewportHeight||I.useViewportWidth)&&(T=1),yr(I,Ze*T,_e*T),O&&T===I.initialZoomLevel&&(I.initialPosition=I.bounds.center),I.bounds}},za=function(I,W,T,O,ae,Ae){if(W.loadError)return;O&&(W.imageAppended=!0,qr(W,O,W===d.currItem&&Kt),Ae?(W.placeholder&&W.placeholder.classList.remove("quick-view-item"),setTimeout(function(){W&&W.loaded&&W.placeholder&&(W.placeholder.style.display="none",W.placeholder=null)},500)):(O.classList.add("quick-view-item"),T.appendChild(O)));let We=W.container.querySelector("media-item");if(We){vt(We,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),vt(We,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),W.hash&&W.hash!=="placeholder"&&We.hasAttribute("src")?(We.setAttribute("hash",W.hash),We.removeAttribute("src")):W.src&&We.getAttribute("src")!==W.src?(W.posterSrc&&!We.poster&&We.setAttribute("poster",W.posterSrc),We.setAttribute("src",W.src)):W.model&&(We.model=W.model);let Ze=We.shadowRoot.querySelector("video");Ze&&(Ze.style.display="table",setTimeout(()=>{Ze.style.display=""},0)),W.autoplay&&(We.onload=()=>{setTimeout(()=>{We?.play?.()})})}},An=function(I){I.loading=!0,I.loaded=!1;var W=document.createElement("img"),T=function(){I.loading=!1,I.loaded=!0,I.loadComplete?I.loadComplete(I):I.img=null,W.onload=W.onerror=null,W=null};W.onload=T,W.onerror=function(){I.loadError=!0,T()};var O=I.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;O||I.posterSrc?W.setAttribute("src",O||I.posterSrc):setTimeout(()=>{T()})},Ya=function(I,W){if(I.src&&I.loadError&&I.container)return W&&(I.container.innerHTML=""),I.container.innerHTML=b.errorMsg.replace("%url%",I.src),!0},qr=function(I,W,T){W||(W=I.container.lastChild);var O=T?I.w:I.w*I.fitRatio,ae=T?I.h:I.h*I.fitRatio,Ae=I.w*I.fitRatio,We=I.h*I.fitRatio;I.useViewportWidth&&(O=q.x*I.viewportWidthPercentage,O=Ae=O-(L.left+L.right)),I.useViewportHeight&&(ae=q.y*I.viewportHeightPercentage,ae=We=ae-(L.top+L.bottom)),I.renderedSize={w:Ae,h:We},I===d.currItem&&Bt(I),!ar&&L.top>5&&L.right>5&&L.bottom>5&&L.left>5&&(O=Math.round(O),ae=Math.round(ae)),W.style.transform="translate3d(0,0,0)",W.style.width=O+"px",W.style.height=ae+"px",W.style.setProperty("--frame-padding",ae+"px"),W.style.setProperty("padding","0px"),W.style.setProperty("border","none"),W.style.setProperty("outline","none")},Bt=function(I){var W=I.renderedSize.w,T=I.renderedSize.h,O=Math.max(1,I.fitRatio);d.captionWrapper.style.width=W/O+"px",d.captionWrapper.style.right=L.right+"px",d.captionWrapper.style.left=L.left+"px";var ae=0;switch(b.alignVertical){case"center":ae=(q.y+-L.bottom+-L.top+-T/O)*.5+L.bottom;break;case"top":ae=q.y+-L.bottom+-L.top+-T/O+L.bottom;break;case"bottom":ae=L.bottom;break}d.captionWrapper.style.height=ae+"px"},wn=function(){if(zn.length){for(var I,W=0;W<zn.length;W++)I=zn[W],I.holder.index===I.index&&za(I.index,I.item,I.baseDiv,I.img,!1,I.clearPlaceholder);zn=[]}};In("Controller",{publicMethods:{lazyLoadItem:function(I){I=qo(I);var W=Jr(I);!W||(W.loaded||W.loading)&&!Z||(pt("gettingData",I,W),An(W))},initController:function(){c.extend(b,sp,!0),d.items=Hn=l,Jr=d.getItemAt,Yi=b.getNumItemsFn,ur=b.loop,Yi()<3&&(b.loop=!1),mi("beforeChange",function(I){var W=b.preload,T=I===null?!0:I>=0,O=Math.min(W[0],Yi()),ae=Math.min(W[1],Yi()),Ae;for(Ae=1;Ae<=(T?ae:O);Ae++)d.lazyLoadItem(k+Ae);for(Ae=1;Ae<=(T?O:ae);Ae++)d.lazyLoadItem(k-Ae)}),mi("initialLayout",function(){d.currItem.initialLayout=b.getThumbBoundsFn&&b.getThumbBoundsFn(k)}),mi("mainScrollAnimComplete",wn),mi("initialZoomInEnd",wn),mi("destroy",function(){for(var I,W=0;W<Hn.length;W++)I=Hn[W],I.container&&(I.container=null),I.placeholder&&(I.placeholder=null),I.img&&(I.img=null),I.preloader&&(I.preloader=null),I.loadError&&(I.loaded=I.loadError=!1);zn=null})},getItemAt:function(I){return I>=0&&Hn[I]!==void 0?Hn[I]:!1},allowProgressiveImg:function(){return!0},setContent:function(I,W){b.loop&&(W=qo(W));var T=d.getItemAt(I.index);T&&(T.container=null);var O=d.getItemAt(W),ae;if(!O){I.el.innerHTML="";return}pt("gettingData",W,O),I.index=W,I.item=O;var Ae=O.container=c.createEl("quick-view-zoom-wrap"),Qe=I.el?.querySelector("media-item"),We=!1;if(Qe){let ct=Qe.getFileType();(ct.startsWith("vimeo")||ct.startsWith("youtube")||ct==="url")&&(We=!0)}if(We?I.el.classList.add("iframe-item"):I.el.classList.remove("iframe-item"),Ya(O),Ha(O,q),!O.loadError&&!O.loaded){O.loadComplete=function(ct){if(F){if(I&&I.index===W){if(Ya(ct,!0)){ct.loadComplete=ct.img=null,Ha(ct,q),vo(ct),I.index===k&&d.updateCurrZoomItem();return}ct.imageAppended||(ut.transform&&(Bi||ia)?zn.push({item:ct,baseDiv:Ae,img:ct.img,index:W,holder:I,clearPlaceholder:!0}):za(W,ct,Ae,ct.img,Bi||ia,!0))}ct.loadComplete=null,ct.img=null,pt("imageLoadComplete",W,ct)}};var Ze="quick-view-item",_e=c.createEl(Ze,"media-item");if(_e.setAttribute("disable-scroll-animation",!0),_e.setAttribute("disable-zoom",!0),_e.setAttribute("width",O.w),_e.setAttribute("height",O.h),_e.setAttribute("uses","inline-part-styles"),_e.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),_e.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),O.usePlaceholder)_e.setAttribute("hash","placeholder");else if(O.fileType=="video"||O.fileType.startsWith("vimeo")||O.fileType.startsWith("youtube"))O.src?O.posterSrc?_e.setAttribute("src",O.posterSrc):_e.setAttribute("src",O.src):O.hash&&O.hash!=="placeholder"&&_e.setAttribute("hash",O.hash),O.autoplay?(O.el?.getCurrentTime?.().then(ct=>{_e.onload=()=>{setTimeout(()=>{_e.setCurrentTime?.(ct)},0)}}),_e.setAttribute("muted",!0),_e.setAttribute("loop",!0),_e.setAttribute("autoplay",!0),_e.setAttribute("browser-default",!1)):(O.el?.pause?.(),O.poster&&_e.setAttribute("poster",O.poster),_e.setAttribute("browser-default",!0));else if(O.fileType==="image"){var ft=O.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;ft?_e.setAttribute("src",ft):O.src?_e.setAttribute("src",O.src):O.hash&&O.hash!=="placeholder"&&_e.setAttribute("hash",O.hash)}else O.fileType==="url"&&(O.src?_e.setAttribute("src",O.src):O.hash&&O.hash!=="placeholder"&&_e.setAttribute("hash",O.hash));qr(O,_e),Ae.appendChild(_e),vt(_e,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),vt(_e,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),O.placeholder=_e,O.loading||An(O),d.allowProgressiveImg()&&(!Js&&ut.transform?zn.push({item:O,baseDiv:Ae,img:O.img,index:W,holder:I}):za(W,O,Ae,O.img,!0,!0))}else O.loadError?O.fileType=="url"&&qr(O,null):(ae=c.createEl("quick-view-item","media-item"),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",O.w),ae.setAttribute("height",O.h),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",O.w),ae.setAttribute("height",O.h),ae.setAttribute("uses","inline-part-styles"),ae.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),ae.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px;"),O.usePlaceholder?ae.setAttribute("hash","placeholder"):O.hash?ae.setAttribute("hash",O.hash):O.src&&ae.setAttribute("src",O.src),(O.fileType=="video"||O.fileType.startsWith("vimeo")||O.fileType.startsWith("youtube"))&&(O.autoplay?(ae.setAttribute("muted",!0),ae.setAttribute("loop",!0),ae.setAttribute("browser-default",!1)):ae.setAttribute("browser-default",!0)),qr(O,ae),za(W,O,Ae,ae,!0));!Js&&W===k?(sr=Ae.style,Zu(O,ae||O.img)):vo(O),I.el.innerHTML="",I.el.appendChild(Ae);var Qe=I.el.querySelector("media-item");Qe&&(vt(Qe,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),vt(Qe,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}))},cleanSlide:function(I){I.img&&(I.img.onload=I.img.onerror=null),I.loaded=I.loading=I.img=I.imageAppended=!1}}});var $r,Pu={},Qa=function(I,W,T){var O=document.createEvent("CustomEvent"),ae={origEvent:I,target:I.target,releasePoint:W,pointerType:T||"touch"};O.initCustomEvent("pswpTap",!0,!0,ae),I.target.dispatchEvent(O)};In("Tap",{publicMethods:{initTap:function(){mi("firstTouchStart",d.onTapStart),mi("touchRelease",d.onTapRelease),mi("destroy",function(){Pu={},$r=null})},onTapStart:function(I){I.length>1&&(clearTimeout($r),$r=null)},onTapRelease:function(I,W){if(W&&!yn&&!zs&&!Io){var T=W;if($r&&(clearTimeout($r),$r=null,Kd(T,Pu))){pt("doubleTap",T);return}if(W.type==="mouse"){Qa(I,W,"mouse");return}var O=I.target.tagName.toUpperCase();if(O==="BUTTON"||c.hasClass(I.target,"quick-view-single-tap")){Qa(I,W);return}Gi(Pu,T),$r=setTimeout(function(){Qa(I,W),$r=null},300)}}}});var qs,ja=0,Vu=0,ki=0,ra=!1,Gr=0,Br=!1,Ro=0,Kr=0,Ja="",Eo=null,$s=!1,Uu=function(){Tr=!0,lp()},xn=function(){qs&&(Dt(qs),qs=null,Gr=0,ki=0,Tr=!1)},qa=function(){if(!(Tr||$a)){var I=D.y,W=D.x,T=Va,O=Q;Ko("resetVertical",0,1,300,c.easing.cubic.out,function(ae){Q=d.currItem.initialZoomLevel*ae+(1-ae)*O,D.y=(d.currItem.initialPosition.y-I)*ae+I;var Ae=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-Q*parseFloat(d.currItem.w))*.5;D.x=d.currItem.initialPosition.x+Ae,nr((1-T)*ae+T),ii()})}},lp=function(){ra||(ra=!0,Tr&&(qs=Xe(lp),cr(),ra=!1))},$a=!1,cr=function(){!Br&&$s&&(document.documentElement.scrollTop=document.documentElement.scrollTop+ki);var I=Math.min(q.y,q.x),W=Math.abs(ki)/I,T=Math.max(0,Math.min(1.3-Math.abs(Gr/(I/3)),1));if(T<.85||$a||W>.2){xn(),Cr&&clearTimeout(Cr),$a||($a=!0,Br?(X=!0,d.close()):setTimeout(function(){X=!0,d.close()},25));return}nr(T);var O=Math.abs(Gr)/(q.y*.75);if(d.currItem.hasOwnProperty("thumbRect")){var ae=d.currItem.initialZoomLevel*parseFloat(d.currItem.h)*.5<d.currItem.thumbRect.h;ae&&(O=0)}Q=(1-O*O)*d.currItem.initialZoomLevel;var Ae=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-Q*parseFloat(d.currItem.w))*.5,We=(d.currItem.initialZoomLevel*parseFloat(d.currItem.h)-Q*parseFloat(d.currItem.h))*.5;D.y=d.currItem.initialPosition.y+We+-Gr,D.x=d.currItem.initialPosition.x+Ae,ii(),Gr=Gr+ki,ki=0},Cr,di;In("DesktopZoom",{publicMethods:{initDesktopZoom:function(){xt||(et?d.setupDesktopZoom():d.setupDesktopZoom(!0))},setupDesktopZoom:function(I){di={};var W="wheel mousewheel DOMMouseScroll";mi("bindEvents",function(){c.bind(n,W,d.handleMouseWheel)}),mi("unbindEvents",function(){di&&c.unbind(n,W,d.handleMouseWheel)}),d.mouseZoomedIn=!1;var T,O=function(){d.mouseZoomedIn&&(c.removeClass(n,"quick-view-zoomed-in"),d.mouseZoomedIn=!1),Q<1?c.addClass(n,"quick-view-zoom-allowed"):c.removeClass(n,"quick-view-zoom-allowed"),ae()},ae=function(){T&&(c.removeClass(n,"quick-view-dragging"),T=!1)};mi("resize",O),mi("afterChange",O),mi("pointerDown",function(){d.mouseZoomedIn&&(T=!0,c.addClass(n,"quick-view-dragging"))}),mi("pointerUp",ae),I||O()},handleMouseWheel:function(I){if($s=!0,Q<=d.currItem.fitRatio&&b.modal&&(!b.closeOnScroll||Io||ar?I.preventDefault():Ye&&Math.abs(I.deltaY)>2&&(X=!0,d.close())),di.x=0,"deltaX"in I)I.deltaMode===1?(di.x=I.deltaX*18,di.y=I.deltaY*18):(di.x=I.deltaX,di.y=I.deltaY);else if("wheelDelta"in I)I.wheelDeltaX&&(di.x=-.16*I.wheelDeltaX),I.wheelDeltaY?di.y=-.16*I.wheelDeltaY:di.y=-.16*I.wheelDelta;else if("detail"in I)di.y=I.detail;else return;if(Q<=d.currItem.fitRatio&&!Br){ki=ki+di.y,b.modal&&(!b.animatedCloseOnScroll||Io||ar?(I.preventDefault(),ki=0):Ye&&Math.abs(di.y)>0&&!Tr&&(xn(),Uu()),Cr&&clearTimeout(Cr),Cr=setTimeout(function(){xn(),qa()},200));return}else ki=0,I.stopPropagation();Zs(Q,!0);var W=D.x-di.x,T=D.y-di.y;(b.modal||W<=nt.min.x&&W>=nt.max.x&&T<=nt.min.y&&T>=nt.max.y)&&I.preventDefault(),d.panTo(W,T)},toggleDesktopZoom:function(I){I=I||{x:q.x/2+ue.x,y:q.y/2+ue.y};var W=b.getDoubleTapZoom(!0,d.currItem),T=Q===W;d.mouseZoomedIn=!T,d.zoomTo(T?d.currItem.initialZoomLevel:W,I,333),c[(T?"remove":"add")+"Class"](n,"quick-view-zoomed-in"),d.currItem.caption&&b.showCaption&&(T?d.caption.classList.remove("hidden"):d.caption.classList.add("hidden"))}}}),c.extend(d,Im)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var t=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)};var i=function(r,n,a,l,u,c,d){var f=Math.acos,m=Math.atan,b=Math.sqrt,C=Math.PI,S={x:u,y:c},A=0,F={x:1,y:1},_={x:0,y:0},X=r*l-n*a;if(d)r?(_={x:m(a/r),y:m(n/r)},F={x:r,y:X/r}):n?(A=C*.5,F={x:n,y:X/n},_.x=m(l/n)):(F={x:a,y:l},_.x=C*.25);else if(r||n){var k=b(r*r+n*n);A=n>0?f(r/k):-f(r/k),F={x:k,y:X/k},_.x=m((r*a+n*l)/(k*k))}else if(a||l){var B=b(a*a+l*l);A=C*.5-(l>0?f(-a/B):-f(a/B)),F={x:X/B,y:B},_.y=m((r*a+n*l)/(B*B))}else F={x:0,y:0};return{scale:F,translate:S,rotation:A,skew:_}};this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,n,a){if(!(r===void 0||this.activeGallery!==void 0)){var l=document.querySelectorAll(".quick-view")[0],u=this,c=a.alignVertical||"center",d=a.alignHorizontal||"center",f=a.useControls,m=a.animatedCloseOnScroll,b=a.showCaption,C={index:n,maxSpreadZoom:1,getThumbBoundsFn:function(k){if(a&&a.preventAnimation||u.activeGallery==null)return!1;var B=u.activeGallery.getItemAt(k),G;if(!B||!B.el)return!1;B.el.tagName==="A"?G=B.el.querySelector("media-item, video, iframe, img")||B.el:G=B.el;let V=G.closest("marquee-set");if(V){let Me=V.querySelector('marquee-inner[slot="contents"]'),Ue=V.querySelector('marquee-inner[slot="contents-clone"]');if(u.isActive&&Ue)return!1}if(G&&G.tagName==="MEDIA-ITEM"&&(G=G.shadowRoot.querySelector('[part*="media"]')),!G)return!1;let te=getComputedStyle(G),D=parseFloat(te.getPropertyValue("padding-top"))||0,z=parseFloat(te.getPropertyValue("padding-bottom"))||0,re=parseFloat(te.getPropertyValue("padding-left"))||0,ne=parseFloat(te.getPropertyValue("padding-right"))||0,q=parseFloat(te.getPropertyValue("border-top"))||0,L=parseFloat(te.getPropertyValue("border-bottom"))||0,Q=parseFloat(te.getPropertyValue("border-left"))||0,K=parseFloat(te.getPropertyValue("border-right"))||0,$={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}},fe=G,J=G,Z=0,ee=0,ue=0,ce=0;for(;fe;)te=getComputedStyle(fe),D=parseFloat(te.getPropertyValue("padding-top"))||0,z=parseFloat(te.getPropertyValue("padding-bottom"))||0,re=parseFloat(te.getPropertyValue("padding-left"))||0,ne=parseFloat(te.getPropertyValue("padding-right"))||0,q=parseFloat(te.getPropertyValue("border-top"))||0,L=parseFloat(te.getPropertyValue("border-bottom"))||0,Q=parseFloat(te.getPropertyValue("border-left"))||0,K=parseFloat(te.getPropertyValue("border-right"))||0,fe==G?(ue=fe.offsetWidth-(re+Q+ne+K),ce=fe.offsetHeight-(D+q+z+L),Z=Z+fe.offsetLeft+Q+re,ee=ee+fe.offsetTop+q+D):(Z=Z+fe.offsetLeft+Q,ee=ee+fe.offsetTop+q),fe=fe.offsetParent;let he=[];for(;J;){let Me=[],Ue=getComputedStyle(J),et=Ue.getPropertyValue("transform"),st=Ue.getPropertyValue("position")==="fixed",Xe;var ve=et.indexOf("matrix(")>-1,Oe=et.indexOf("matrix3d(")>-1,Le=ve||Oe;if(ve){Me=et.replace(")","").replace("matrix(","").split(",");for(var Te=0;Te<Me.length;Te++)Me[Te]=parseFloat(Me[Te]);Xe=i(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],!1)}else if(Oe){Me=et.replace(")","").replace("matrix3d(","").split(",");for(var Te=0;Te<Me.length;Te++)Me[Te]=parseFloat(Me[Te]);Xe=i(Me[0],Me[1],Me[4],Me[5],Me[12],Me[13],!1)}else Xe={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}};if(Le){let Dt=Z+ue*.5,Li=ee+ce*.5,$t=Z-Dt,xt=ee-Li,Ut=$t*Math.cos(Xe.rotation)-xt*Math.sin(Xe.rotation),ut=$t*Math.sin(Xe.rotation)+xt*Math.cos(Xe.rotation);Z=Ut+Dt,ee=ut+Li,Z+=Xe.translate.x,ee+=Xe.translate.y,$.rotation=Xe.rotation+$.rotation,$.scale.x=Xe.scale.x+$.scale.x,$.scale.y=Xe.scale.y+$.scale.y,$.translate.y=Xe.translate.y+$.translate.y,$.translate.x=Xe.translate.x+$.translate.x}J.assignedSlot?J=J.assignedSlot:J=J.parentNode,J.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(J=J.host),J.nodeType!==Node.ELEMENT_NODE&&(J=null),J&&(st?he.push("fixed"):he.push(J.scrollTop))}let He=he.findIndex(Me=>Me==="fixed");He!==-1&&(he=he.slice(0,He));let rt=he.reduce((Me,Ue=0)=>Me+Ue);ee=ee-rt;var Ye={x:Z,y:ee,w:ue,h:ce,padding:{top:D,bottom:z,left:re,right:ne},border:{top:q,bottom:L,left:Q,right:K},transform:$};return B.thumbRect=Ye,Ye},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:d,alignVertical:c,useControls:f,animatedCloseOnScroll:m,showCaption:b},S=!1,A=!1,F=function(){A=!0},_=function(){A=!1};if(window.addEventListener("touchend",_),window.addEventListener("touchstart",F),a!==void 0&&typeof a=="object"){for(var X in a)a.hasOwnProperty(X)&&(C[X]=a[X]);a.disableZoom===!0&&(S=!0,C.zoomEl=!1,C.getDoubleTapZoom=function(k,B){return B.initialZoomLevel},C.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(l,this.PhotoSwipeUI_Default,r,C),a.afterInit&&this.activeGallery.listen("afterInit",a.afterInit),S?l.classList.add("quick-view-zoom-disabled"):l.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){l.parentNode!==null?(l.parentNode.removeChild(l),window.removeEventListener("touchend",_),window.removeEventListener("touchstart",F)):(window.removeEventListener("touchend",_),window.removeEventListener("touchstart",F)),u.isActive=!1,u.activeGallery=void 0}),this.activeGallery}};(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=n()})(this,function(){"use strict";var r=function(n,a){var l=this,u=!1,c=!0,d,f,m,b,C,S,A,F={closeElClasses:["holder","caption","zoom-wrap","ui","top-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},_,X,k=function(J){if(_)return!0;J=J||window.event,A.timeToIdle&&A.mouseUsed&&!b&&ne();for(var Z=J.target||J.srcElement;Z.nodeName==="svg"||Z.nodeName==="path"||Z.nodeName==="circle"||Z.nodeName==="polyline"||Z.nodeName==="g"||Z.nodeName==="foreignObject"||Z.nodeName==="line";)Z=Z.parentNode;for(var ee,ue=Z.getAttribute("class")||"",ce,he=0;he<$.length;he++)ee=$[he],ee.onTap&&ue.indexOf("quick-view-"+ee.name)>-1&&(ee.onTap(),ce=!0);if(ce){J.stopPropagation&&J.stopPropagation(),_=!0;var ve=a.features.isOldAndroid?600:30;X=setTimeout(function(){_=!1},ve)}},B=function(){return!n.likelyTouchDevice||A.mouseUsed||screen.width>A.fitControlsWidth},G=function(J,Z,ee){a[(ee?"add":"remove")+"Class"](J,"quick-view-"+Z)},V=function(J){for(var Z=0;Z<A.closeElClasses.length;Z++)if(a.hasClass(J,"quick-view-"+A.closeElClasses[Z]))return!0},te,D,z=0,re=!1,ne=function(J){if(J){var Z=H.closest(J.target,function(ee){if(ee&&ee.nodeType===Node.ELEMENT_NODE)return ee.classList.contains("left-arrow")||ee.classList.contains("right-arrow")||ee.classList.contains("close-button")});re=!!Z}clearTimeout(D),z=0,b&&l.setIdle(!1)},q=function(J){J=J||window.event;var Z=J.relatedTarget||J.toElement;(!Z||Z.nodeName==="HTML")&&(clearTimeout(D),D=setTimeout(function(){l.setIdle(!0)},A.timeToIdleOutside))},L=function(){A.fullscreenEl&&!a.features.isOldAndroid&&(d||(d=l.getFullscreenAPI()),d?(a.bind(document,d.eventK,l.updateFullscreen),l.updateFullscreen(),a.addClass(n.template,"quick-view-supports-fs")):a.removeClass(n.template,"quick-view-supports-fs"))},Q=function(){A.timeToIdle&&C("mouseUsed",function(){a.bind(document,"mousemove",ne),a.bind(document,"mouseout",q),te=setInterval(function(){z++,z===2&&l.setIdle(!0)},A.timeToIdle/2)})},K=function(){C("onVerticalDrag",function(Z){c&&Z<.95?l.hideControls():!c&&Z>=.95&&l.showControls()});var J;C("onPinchClose",function(Z){c&&Z<.9?(l.hideControls(),J=!0):J&&!c&&Z>.9&&l.showControls()}),C("zoomGestureEnded",function(){J=!1,J&&!c&&l.showControls()})},$=[{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:n.close},{name:"button-prev",option:"arrowEl",onTap:n.prev},{name:"button-next",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}}],fe=function(){var J,Z,ee,ue=function(ve){if(ve){for(var Oe=ve.length,Le=[],Te=0;Te<Oe;Te++){J=ve[Te],Z=J.className;for(var He=0;He<$.length;He++)ee=$[He],Z.indexOf("quick-view-"+ee.name)>-1&&(A[ee.option]?(a.removeClass(J,"quick-view-element--disabled"),Le.push(J),ee.onInit&&ee.onInit(J)):a.addClass(J,"quick-view-element--disabled"))}Le.length>0}};ue(f.children);for(var ce=f.querySelectorAll(".quick-view-group"),he=0;he<ce.length;he++)ue(ce[he].children)};l.init=function(){a.extend(n.options,F,!0),A=n.options,f=a.getChildByClass(n.scrollWrap,"quick-view-ui"),C=n.listen,C("beforeChange",l.update),C("doubleTap",function(J){var Z=n.currItem.initialZoomLevel;n.getZoomLevel()!==Z?n.zoomTo(Z,J,333):n.zoomTo(A.getDoubleTapZoom(!1,n.currItem),J,333)}),C("preventDragEvent",function(J,Z,ee){var ue=J.target||J.srcElement;ue&&ue.getAttribute("class")&&J.type.indexOf("mouse")>-1&&(ue.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(ue.tagName))&&(ee.prevent=!1)}),C("destroy",function(){A.captionEl&&(_fakeCaptionContainer&&f.removeChild(_fakeCaptionContainer),a.removeClass(_captionContainer,"quick-view-caption--empty"))}),l.bindEvents(),L()},l.unbindEvents=function(){te&&clearInterval(te),a.unbind(document,"mouseout",q),a.unbind(document,"mousemove",ne),a.unbind(n.scrollWrap,"pswpTap",l.onGlobalTap),d&&(a.unbind(document,d.eventK,l.updateFullscreen),d.isFullscreen()&&(A.hideAnimationDuration=0,d.exit()),d=null)},l.setupIdle=function(){Q()},l.bindEvents=function(){A.useControls,a.bind(n.scrollWrap,"pswpTap",l.onGlobalTap),n.likelyTouchDevice},l.setIdle=function(J){window.store?.getState()?.frontendState?.adminMode||re||(b=J)},l.update=function(){c&&n.currItem?u=!0:u=!1},l.updateFullscreen=function(J){J&&setTimeout(function(){n.setScrollOffset(0,a.getScrollY())},50),a[(d.isFullscreen()?"add":"remove")+"Class"](n.template,"quick-view-fs")},l.onGlobalTap=function(J){J=J||window.event;var Z=J.target||J.srcElement;if(!_){if(J.detail&&J.detail.pointerType==="mouse"){if(V(Z)){n.close();return}if(a.hasClass(Z,"quick-view-item")){if(A.disableZoom){let ee=Z.getFileType?.();if(ee&&!n.currItem.autoplay&&(ee.startsWith("vimeo")||ee.startsWith("youtube")||ee==="video"))return;n.close();return}if(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio){if(A.clickToCloseNonZoomable){n.close();return}}else n.toggleDesktopZoom(J.detail.releasePoint)}}else if(A.tapToToggleControls&&(c?l.hideControls():l.showControls()),A.tapToClose&&(a.hasClass(Z,"quick-view-item")||V(Z))){n.close();return}}},l.onMouseOver=function(J){J=J||window.event;var Z=J.target||J.srcElement;G(f,"ui--over-close",V(Z))},l.hideControls=function(){},l.showControls=function(){},l.toggleFullscreen=function(){d.isFullscreen()?d.exit():d.enter()},l.supportsFullscreen=function(){var J=document;return!!(J.exitFullscreen||J.mozCancelFullScreen||J.webkitExitFullscreen||J.msExitFullscreen)},l.getFullscreenAPI=function(){var J=document.documentElement,Z,ee="fullscreenchange";return J.requestFullscreen?Z={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:ee}:J.mozRequestFullScreen?Z={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+ee}:J.webkitRequestFullscreen?Z={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+ee}:J.msRequestFullscreen&&(Z={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),Z&&(Z.enter=function(){if(m=A.closeOnScroll,A.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},Z.exit=function(){return A.closeOnScroll=m,document[this.exitK]()},Z.isFullscreen=function(){return document[this.elementK]}),Z}};return r})}).call(GM)});var MM=U((pOe,dae)=>{dae.exports={}});var Hy={};jt(Hy,{default:()=>gae,openQuickViewFromElement:()=>Uy});function pae(t,e){return{imageSettings:t.siteDesign.images,settings:t.siteDesign.quick_view,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode}}function hae(t){return wt({updateFrontendState:actions.updateFrontendState},t)}var Pg,Vy,kM,fae,Uy,gae,Vg=R(()=>{we();Ee();lt();ai();xi();gn();Pe();Ls();BM();Pg=de(Ie(),1);j();Vy=class extends se{constructor(e){super(e),this.state={lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=be(),this.navigationRef=be(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,MM(),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0}),H.isMobile&&this.hideArrows()};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{if(!this.state.showInterface&&!H.isMobile&&!this.state.pointerDown&&this.setState({showInterface:!0}),H.isMobile)return;let i=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===i||i&&i.contains(e.target))?this.hideInterface.cancel():!H.isMobile&&this.hideInterface()};isInAdmin=()=>H.isAdminEdit&&this.props.adminMode===!0;hideInterface=Pg.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=Pg.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){H.isMobile||document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){H.isMobile||document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,i){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({showInterface:!0,showArrows:!1}),!H.isMobile&&this.hideInterface()}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var r;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),r=!0):r&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{r=!1,r&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({showInterface:!1,showArrows:!0}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!0})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!Pg.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?g(oe,{children:[g("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?g("div",{className:"quick-view nav",ref:this.navigationRef,children:[this.state.navigationElement?g("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?Ke(g(oe,{children:[g("style",{children:`
								[part*="slideshow-nav"],
								.quick-view-caption {
									opacity: ${this.state.showInterface?"1":"0"};
								}
								${H.isMobile&&`
									[part*="slideshow-nav-next-button"],
									[part*="slideshow-nav-previous-button"]{
										opacity: ${this.state.showArrows?"1":"0"};
										${this.state.showArrows?"":"pointer-events: none !important;"}
								}`}
								
							`}),g("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?g(oe,{children:[g("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:g("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),g("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:g("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,g("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:g("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[g("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),g("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let i=this.props.quickView.elementArray[e],r=!1;lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:n=>{let a=lightbox.activeGallery.template,l=window.getComputedStyle(a),u=parseInt(l.getPropertyValue("width")),c=parseInt(l.getPropertyValue("height"));Math.abs(document.documentElement.clientWidth-u)<2&&Math.abs(document.documentElement.clientHeight-c)<2&&(r=!0),r||this.props.quickView.elementArray[n]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:!1}})),this.props.updateFrontendState({quickView:{activeIndex:n}})}}),lightbox?.activeGallery?.listen("afterChange",n=>{if(!this.props.quickView.inited)return;this.props.updateFrontendState({quickView:{activeIndex:n}}),this.props.quickView.elementArray[n]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:r}}))})};previewInAdmin=()=>{let i=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(r=>{let n=document.createElement("media-item"),a=document.createElement("span");return a.classList.add("caption-background"),a.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("width",r[0]),n.setAttribute("height",r[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:r[0],h:r[1],caption:a,hash:null,src:n.href,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(i,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};kM=ke(pae,hae)(Vy),fae=(t="")=>{let e="none";if(t){let l=t.toLowerCase();if(l.endsWith(".mov")||l.endsWith(".mp4")||l.endsWith(".webm"))e="video";else if(l.endsWith(".png")||l.endsWith(".webp")||l.endsWith(".jpg")||l.endsWith(".jpeg")||l.endsWith(".gif")||l.endsWith(".avif")||l.endsWith(".apng")||l.endsWith(".svg"))e="image";else{e="url";var i,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,a=t.match(r);if(a&&a[3]){i=a[3];let u=t.split("/");u[u.length-1]!=i&&(i+="/"+u[u.length-1]),e="vimeo:"+i}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,a=t.match(n);a&&a[7].length==11&&(i=a[7],e="youtube:"+i)}}return e},Uy=t=>{let e=Xt.getState();if(t&&t.nodeName!=="MEDIA-ITEM"&&(t=t.closest('a[rel="quick-view"]')||t),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let d=e.frontendState.quickView.elementArray.findIndex(f=>f.el==t);if(d!==-1){window.lightbox.activeGallery.goTo(d);return}}let i=t.closest(".page"),r=t.getAttribute("hash"),n=[],a=H.closest(t,d=>d?.tagName?.startsWith("GALLERY-")),l=!1,u=t.closest("marquee-set");if(a){if(a.getAttribute("thumbnail-index")==="img:all")l=!0;else if(a&&a.getAttribute("disable-zoom")==="true")return;n=Array.from(a.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{i?n=Array.from(i.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let d=u&&t.closest('[slot="contents-clone"]');n=n.filter(f=>!H.closest(f,m=>!!(m?.tagName?.startsWith("GALLERY-")||m.tagName==="MARQUEE-INNER"&&(m.slot==="contents-clone"&&!d||m.slot==="contents"&&d))))}n=n.filter(d=>{if(d.tagName!=="A")return!0;let f=d.getAttribute("href")||"";return!(f===""||f=="#"||f.indexOf("mailto:")==0||f.indexOf("tel:")==0)});let c=n.indexOf(t);Promise.all(n.map((d,f)=>new Promise(m=>{var b=!1,C=d?.querySelector("figcaption"),S=C?.innerHTML;C&&S!==""&&(b=document.createElement("span"),b.classList.add("caption-background"),b.innerHTML=S);let A=!1,F=!1,_=1,X=1,k=1600,B=1600,G=null,V=null,te=!1,D="url",z=null,re=null;if(d.tagName==="MEDIA-ITEM"&&d.getAttribute("rel")!=="quick-view"){G=d.getAttribute("hash")||"",V=d.getAttribute("src"),re=d.getAttribute("poster");var ne=d?.shadowRoot?.querySelector("video")?.getAttribute("poster");if(ne||(ne=d?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src")),ne=ne,D=d.getFileType(),te=G==="placeholder"&&!V,te)m({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,fileType:D,w:d._size.width*1e3,h:d._size.height*1e3,caption:b,hash:"placeholder",src:null,posterSrc:ne,autoplay:!1,usePlaceholder:!0,el:d,model:d.model});else{var q=null,L=()=>{switch(!0){case D==="url":G=null,A=!0,F=!0;break;case D.startsWith("youtube"):case D.startsWith("vimeo"):case D=="video":k=d._size.width,B=d._size.height;break;default:k=d._size.width,B=d._size.height;break}D.startsWith("youtube")||D.startsWith("vimeo")||D=="video"?d.getAttribute("autoplay")?m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:_,viewportHeightPercentage:X,fileType:D,w:k*100,h:B*100,caption:b,hash:G,src:V,posterSrc:ne,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:_,viewportHeightPercentage:X,fileType:D,poster:d.getAttribute("poster"),w:k*100,h:B*100,caption:b,hash:G,src:V,posterSrc:ne,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:_,viewportHeightPercentage:X,fileType:D,w:k*100,h:B*100,caption:b,hash:G,posterSrc:null,src:V,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model})};L()}}else if(D=fae(d.getAttribute("href")),D.startsWith("vimeo")||D.startsWith("youtube")){let Q="";D.startsWith("vimeo")?Q="https://vimeo.com/api/oembed.json?url="+d.getAttribute("href")+"&width=640":Q="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+d.getAttribute("href"),fetch(Q,{mode:"cors"}).then(K=>{K.json().then($=>{m({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:d.getAttribute("autoplay")=="true",fileType:D,w:$.width*20,h:$.height*20,caption:b,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})})})}else z=document.createElement("media-item"),z.onload=Q=>{Q.onload=null;let K=Q.getFileType();if(d.hasAttribute("width")&&d.hasAttribute("height"))d.getAttribute("width").indexOf("%")>-1&&d.getAttribute("height").indexOf("%")>-1?(A=!0,F=!0,_=parseFloat(d.getAttribute("width"))/100,X=parseFloat(d.getAttribute("height"))/100):(k=parseFloat(d.getAttribute("width")),B=parseFloat(d.getAttribute("height")));else switch(!0){case K==="url":A=!0,F=!0,te=!1;break;default:k=Q._size.width,B=Q._size.height;break}Q.remove(),m({useViewportWidth:A,useViewportHeight:F,viewportWidthPercentage:_,viewportHeightPercentage:X,autoplay:d.getAttribute("autoplay")=="true",fileType:K,w:k*1e3,h:B*1e3,caption:b,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},z.setAttribute("style","position: fixed; top: -900px; left: -900px; width: 100px; height: 100px; overflow:hidden;"),document.body.appendChild(z),z.setAttribute("src",d.href)}))).then(d=>{Xt.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:d,activeIndex:c===-1?0:c}}))})};kM.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};gae=kM});var Bs,zy,Yy,XM=R(()=>{we();Pe();va();ig();ai();lt();Gt();xi();Bs=de(Ie(),1);H.isServer||(window.logSiteStructure=()=>{let t=window.store.getState(),e=t.structure.bySort,i=Object.keys(e);i.sort((n,a)=>e[n]-e[a]);let r={};i.forEach(n=>{let a=t.pages.byId[n]||t.sets.byId[n];r[n]={title:a.title,sort:e[n],index:t.structure.indexById[n],page_count:a.page_count}}),console.table(r)});zy=class extends se{constructor(e){super(e),this.state={},this.isMac=!1,H.isServer||(Promise.resolve().then(()=>(Vg(),Hy)).then(({openQuickViewFromElement:i})=>{this.setState({openQuickViewFromElement:i})}),this.isMac=H.isMac())}handleGlobalClick=e=>{let i=e.target,r=i;if(i.shadowRoot?i=e.composedPath().find(a=>a.tagName==="A")||i:i.closest("a")&&(i=i.closest("a")),!e.defaultPrevented&&i&&(i.nodeName==="A"||i.nodeName==="a")&&i.getAttribute("href")&&i.getAttribute("href")!==""){let a=i.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let l=i.getAttribute("href")||"",u=i.getAttribute("target"),c;switch(a){case"history":e.preventDefault(),c=i.getAttribute("data-tags");let d=!1;if(c?.length>0)l=c;else{let m=this.props.store.getState(),b=at.getHomepagePurl(m);l.toLowerCase()===b&&!m.sets.byId.root.stack&&(l="/")}l.startsWith("/")||(l="/"+l),l==="/contact-form"&&(d=!0),r.nodeName==="MEDIA-ITEM"&&r?.classList.contains("thumbnail")&&l.replace(/\//,"")===this.props.activePURL&&window.scrollTo(0,0),this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(l,"_blank"):this.props.history.push(l,{preventScrollReset:d});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadPrevPage();break;case"next_page":case"next-page":e.preventDefault(),this.loadNextPage();break;case"home_page":case"home-page":e.preventDefault(),this.props.history.push("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((i.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(i.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:m=>{this.props.updateFrontendState({alertModal:{header:m,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),this.props.history.push("/cart",{preventScrollReset:!0});break;case"filter-index":case"filter_index":e.preventDefault(),c=i.getAttribute("data-tags");let f=i.getAttribute("data-set");var n=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:c?"tag:"+c:f?"set:"+f:"all"}});i.dispatchEvent(n);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(l)):u!=="_blank"&&(e.preventDefault(),parent.location.href=l);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let i=document.querySelector(".content .pages .page");i?e=i.id:e=""}window.location.href="/edit/"+e};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.zIndex="2147483647",i.style.position="fixed",i.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',i.style.backgroundSize="60%",i.style.transform="rotate(-15deg)",setTimeout(function(){i.style.transition="opacity 500ms",setTimeout(function(){i.parentNode.removeChild(i)},700),setTimeout(function(){i.style.opacity="0"})},1e3),document.body.appendChild(i)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{if(e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA")return;let i=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadPrevPage()):e.keyCode===39&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNextPage()),e.which===27&&!e.metaKey&&!e.ctrlKey){if(i.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(i.frontendState.quickView.inited||i.frontendState.cartOpen||i.frontendState?.contactForm?.inited||i.frontendState.alertModal)return;this.props.inAdminFrame||this.props.history.location.pathname!=="/"&&this.props.history.push("/")}}};componentDidMount(){H.isServer||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){H.isServer||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),i=[];if(Bs.default.each(e.sets.byId,a=>{if(a.stack&&a.id!=="root")a.page_count>0&&e.frontendState.activePID!==a.id&&i.push([a.id]);else{let l=Array.apply(null,{length:a.page_count}).map(Number.call,c=>[a.id,c]),u=at.getSetContentsByIndex(e,a.id);i=i.concat(l.filter(([c,d])=>{let f=u[d];return!(f&&(f.id===e.frontendState.activePID||f.id===e.site.homepage_id||f.id===e.site.mobile_homepage_id||f.page_type==="set"||f.pin===!0))}))}}),i.length===0)return;let r=i[Math.floor(Math.random()*i.length)],n=e.sets.byId[r[0]];r.length===2?this.props.fetchContent(n.id,{indexes:[r[1]],idType:"pid"}).then(a=>{a.data&&a.data[0]?this.props.history.push("/"+a.data[0].purl):this.loadRandomPage()}):r.length===1&&this.props.history.push("/"+n.purl)};loadNextPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"next"):this.props.fetchContent(i.id,{next:!0}).then(c=>{c?.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Bs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let a=Bs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(a.length===n.page_count)return;for(let c=0;c<n.page_count&&(r++,r>=n.page_count&&(r=0),!!a.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(e.structure.indexById[d]!==null&&(c[e.structure.indexById[d]]=d),c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadNextPage()})};loadPrevPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"prev"):this.props.fetchContent(i.id,{prev:!0}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Bs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let a=Bs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(a.length===n.page_count)return;for(let c=0;c<=n.page_count&&(r--,r<0&&(r=n.page_count-1),!!a.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(c[e.structure.indexById[d]]=d,c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadPrevPage()})};loadNearestContentNeighbor=(e,i)=>{let r=this.props.store.getState();if(i!=="next"&&i!=="prev")throw'direction needs to be "next" or "prev"';let n=Object.keys(r.structure.bySort).sort((c,d)=>r.structure.bySort[c]-r.structure.bySort[d]);i==="prev"&&n.reverse();let a=n.indexOf(e.id);if(a===-1)throw"Unable to locate current id in sort list";let l;for(let c=1;c<n.length+1;c++){let d=n[(a+c)%n.length],f=r.structure.byParent.hasOwnProperty(d);if(f&&r.sets.byId[d]?.stack===!0){l=d;break}else if(!f&&r.structure.indexById[d]!==null&&d!==r.site.homepage_id&&d!==r.site.mobile_homepage_id){l=d;break}}let u=r.pages.byId[l]||r.sets.byId[l];u?this.props.history.push("/"+u.purl):this.props.fetchContent(l,{idType:"pid"}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)})}},Yy=ru(fs(ke((t,e)=>{let i;return t.auth.data?.id&&(i=Bs.default.find(t.site?.editors,r=>r.id===parseInt(t.auth.data.id))?.role),{editorRole:i,adminMode:t.frontendState.adminMode,inAdminFrame:t.frontendState.inAdminFrame,activePID:t.frontendState.activePID,isInHomepagePreview:t.auth.previewing,activePURL:(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl}},t=>wt({updateFrontendState:De.updateFrontendState,fetchContent:De.fetchContent,addCommerceProductToCart:De.addCommerceProductToCart},t))(zy)))});function bae(t,e){return{alertModal:t.frontendState.alertModal,adminMode:t.frontendState.adminMode}}function vae(t){return wt({updateFrontendState:De.updateFrontendState},t)}var VOe,mae,Iae,ZM,PM=R(()=>{we();lt();ai();Gt();VOe=de(Ie(),1);Zf();j();mae=({alertModal:t,adminMode:e,...i})=>g(Xf,{children:g(ld.Consumer,{children:r=>{t&&!e&&r.openModal({...t,manuallyBindHotkeys:!0,onConfirm:n=>{i.onConfirm&&i.onConfirm(),i.updateFrontendState({alertModal:!1})},onClose:n=>{i.onClose&&i.onclose(),i.updateFrontendState({alertModal:!1})},onCancel:n=>{i.onCancel&&i.onCancel(),i.updateFrontendState({alertModal:!1})}})}})});Iae=ke(bae,vae)(mae),ZM=Iae});var Ug,Qy=R(()=>{Ug=(t,e=window)=>new Promise((i,r)=>{var n=e.document.getElementsByTagName("head")[0],a=e.document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=t,a.media="all",a.onload=i,a.onError=r,n.appendChild(a)})});var VM,UM,HM=R(()=>{Qy();VM="https://api.cargo.site/v1/fonts/css?family=",UM=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();let n=e.join("%7C").replace(/[\. -]+/g,"");if(t.context==="server"){fetch(VM+n).then(async l=>{let u=await l.text();i(u)}).catch(r);return}let a=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});a.forEach(l=>t.context.document.body.appendChild(l)),Ug(VM+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{a.forEach(u=>u.remove()),i()})}).catch(r)})});var yae,Cae,zM,YM=R(()=>{Qy();yae="https://fonts.googleapis.com/css?family=",Cae=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],zM=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();if(t.context==="server")return r("Google fonts should only be loaded by the client");let n=e.map(l=>l.indexOf(":")===-1?l+":"+Cae.join(","):l).join("%7C").replace(/ /g,"+"),a=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});a.forEach(l=>t.context.document.body.appendChild(l)),Ug(yae+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{a.forEach(u=>u.remove()),i()})}).catch(r)})});var jy,QM=R(()=>{HM();YM();jy=t=>{if(!t)throw"No config given";t.context=t.context||window,t.active=t.active||function(){};let e=[];return e.push(zM(t,t.families?.reduce?.((i,r)=>(r.provider==="google"&&i.push(r.family),i),[]))),e.push(UM(t,t.families?.reduce?.((i,r)=>(r.provider==="cargo"&&i.push(r.family),i),[]))),Promise.all(e).catch(i=>{console.log("something went wrong while loading the site's fonts...",i)}).finally(i=>{t.active?.(i)})}});var jM,Jy,qy,Hg,$y=R(()=>{we();Ee();lt();jM=de(Ie(),1);Pe();xi();zr();j();Jy=new Set,qy=class extends se{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=jM.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,i){let{model:r,adminMode:n,isZoomable:a,alt:l,hash:u,src:c,decoding:d}=e,f=e.width??r?.width??1600,m=e.height??r?.height??1600,b=this.state.src||this.blankURI;return Jy.has(this.state.src)||(b=this.state.lastSrc||this.blankURI),b=this.props.isLazyLoadable?b:this.blankURI,At("img",{onClick:this.props.onClick,crossorigin:"",alt:l||null,src:b,width:f,height:m,className:`media${a?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,i){let r=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||r!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=(e,i)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let r=document.createElement("img"),n=()=>{r.onload=null,Jy.has(r.src)?this.forceUpdate():(Jy.add(r.src),this.state.src==r.src&&this.forceUpdate())};this.firstLoad?(r.decoding="async",r.onload=n,r.src=e):(r.decoding="async",r.src=e,r.decode().then(a=>{n()}).catch(a=>{n()}))};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,i=this.props.renderWidth,r=this.props.renderHeight,n=i<500?50:250,a=Math.ceil(i/n)*n,l=r<500?50:250,u=Math.ceil(r/l)*l;this.props.model&&a!==0&&u!==0&&(e=au({w:a,h:u},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(c=>e==c.src||!e?null:(this.firstLoad=!1,{lastSrc:c.src,src:e}))}},Hg=cn((t,e)=>{let i=t.model?.is_video&&t.model?.poster?t.model.poster:t.model;return i&&i.loading&&(i=null),g(qy,{...t,model:i,mediaRef:e})})});var yTe,Bd,zg,Aae,Md,Yg,wae,Ky,JM,qM=R(()=>{we();Ee();yTe=de(Ie(),1);j();Bd=new Set,zg="unloaded",Aae=function(t){if(Bd.add(t),zg==="unloaded"){zg="loading";var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),window.onYouTubeIframeAPIReady=()=>{zg="loaded",Bd.forEach(r=>{r.initYoutubePlayer()})}}zg==="loaded"&&t.initYoutubePlayer()},Md=new Set,Yg="unloaded",wae=function(t){if(Yg==="unloaded"){Yg="loading";var e=document.createElement("script");e.onload=()=>{Yg="loaded",Md.forEach(r=>{r.initVimeoPlayer()})},e.src="https://player.vimeo.com/api/player.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}Md.add(t),Yg==="loaded"&&t.initVimeoPlayer()},Ky=class extends se{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1}},this.html="",this.divRef=be()}render(e){let{src:i,width:r,height:n}=e;return g("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let i="margin: auto; position: absolute; ";i+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",i)};loadAPIPlayer=()=>{this.props.fileType.startsWith("youtube:")?Aae(this):this.props.fileType.startsWith("vimeo:")&&wae(this)};initVimeoPlayer=()=>{if(!Md.has(this))return;for(Md.delete(this);this.divRef.current.childNodes[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),i=new window.Vimeo.Player(this.divRef.current,{id:e.length>1?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});i.on("loaded",()=>{i.element?.setAttribute("id","vimeo-player"),i.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),i.on("play",()=>{this.props.onPlay?.()}),i.on("pause",()=>{this.props.onPause?.()}),this.setState({apiPlayer:i},()=>{Promise.all([i.getVideoWidth(),i.getVideoHeight()]).then(r=>{i.pause().then(i.setCurrentTime(0));var n=r[0],a=r[1];this.setState({nativeSize:{width:n,height:a}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((l,u)=>{this.props.muted||this.props.autoplay?this.state.apiPlayer.setVolume(0).then(()=>{this.state.apiPlayer.play().then(()=>{l(!0)}).catch(c=>{u(c)})}).catch(c=>{u(c)}):this.state.apiPlayer.play().then(c=>{l(!0)}).catch(c=>{u(c)})}),pause:()=>new Promise((l,u)=>{this.state.apiPlayer.pause().then(c=>{l(!0)})}),setCurrentTime:l=>new Promise((u,c)=>{this.state.apiPlayer.setCurrentTime(l).then(d=>{u(!0)})}),getCurrentTime:()=>new Promise((l,u)=>{this.state.apiPlayer.getCurrentTime().then(c=>{l(c)})}),setVolume:l=>new Promise((u,c)=>{this.state.apiPlayer.setVolume(l).then(d=>{u(!0)})}),getVolume:()=>new Promise((l,u)=>{this.state.apiPlayer.getVolume().then(c=>{l(c)})}),getDuration:()=>new Promise((l,u)=>{this.state.apiPlayer.getDuration().then(c=>{l(!0)})}),stop:()=>new Promise((l,u)=>{Promise.all([i.pause(),i.setCurrentTime(0)]).then(()=>{l(!0)})}),setPlaybackRate:l=>new Promise((u,c)=>{this.state.apiPlayer.setPlaybackRate(l).then(d=>{u(!0)})}),size:{width:n,height:a}})})})};initYoutubePlayer=()=>{if(!Bd.has(this))return;for(Bd.delete(this);this.divRef.current.childNodes[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("div");e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0"),e.setAttribute("enablejsapi","true"),e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let i=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,r=this.props.fileType?.replace("youtube:","")||null,n="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+i;r&&r.length>0&&(n="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+r),fetch(n,{mode:"cors"}).then(a=>{a.json().then(l=>{let u=l.width*2||640,c=l.height*2||480;this.setState({nativeSize:{width:u,height:c}});let d=new YT.Player(e,{videoId:this.props.fileType.replace("youtube:",""),playerVars:{autoplay:0,width:u,height:c,modestbranding:1,loop:this.props.loop,controls:this.props["browser-default"]||!this.props.autoplay?void 0:0,enablejsapi:1,origin:document.domain,rel:0},events:{onReady:()=>{this.setState({nativeSize:{width:u,height:c}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((f,m)=>{this.state.apiPlayer.playVideo(),f(!0)}),pause:()=>new Promise((f,m)=>{this.state.apiPlayer.pauseVideo(),f(!0)}),stop:()=>new Promise((f,m)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:u,height:c},setCurrentTime:f=>new Promise((m,b)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(f,!1)}m(!0)}),getCurrentTime:()=>new Promise((f,m)=>{f(this.state.apiPlayer.getCurrentTime())}),setVolume:f=>new Promise((m,b)=>{this.state.apiPlayer.setVolume(f*100),m(!0)}),getVolume:f=>new Promise((m,b)=>{m(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((f,m)=>{f(this.state.apiPlayer.getDuration())}),setPlaybackRate:f=>new Promise((m,b)=>{this.state.apiPlayer.setPlaybackRate(f),m(!0)})}),this.setIframeStyles()},onStateChange:f=>{switch(f.data){case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:d})})})};componentDidUpdate(e,i){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==i.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let r=this.divRef.current?.querySelector("iframe");r&&r.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){Bd.delete(this),Md.delete(this)}},JM=cn((t,e)=>g(Ky,{...t,mediaRef:e}))});var $M,eC,KM,ek=R(()=>{we();lt();$y();qM();zr();Pe();Ee();$M=de(Ie(),1);j();eC=class extends se{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((i,r)=>{r("null player play")}),pause:()=>new Promise((i,r)=>{r("null player pause")}),stop:()=>new Promise((i,r)=>{r("null player stop")}),getDuration:()=>new Promise((i,r)=>{r("null player getDuration")}),getCurrentTime:()=>new Promise((i,r)=>{r("null player getCurrentTime")}),setCurrentTime:()=>new Promise((i,r)=>{r("null player setCurrentTime")}),getVolume:()=>new Promise((i,r)=>{r("null player getVolume")}),setVolume:()=>new Promise((i,r)=>{r("null player setVolume")}),setPlaybackRate:()=>new Promise((i,r)=>{r("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=be(),this.videoRef=be(),this.videoPlayerRef=be()}render(e){let{model:i,posterModel:r,adminMode:n,isZoomable:a,alt:l,hash:u,src:c,fileType:d,decoding:f,"browser-default":m,"dynamic-src":b}=e,C=e.width??i?.width??1600,S=e.height??i?.height??1600,A=b||c||"",F=i?"https://freight.cargo.site/i/"+i.hash+"/"+i.name:null,_="";i?.loading||!F?_=A||"":_=F||"",_=this.props.isLazyLoadable?_:"";let X=null;r&&!r.loading?r.is_video&&r.poster?X=au({w:this.props.renderWidth},r.poster).url||"":X=au({w:this.props.renderWidth},r).url||"":i&&i.poster&&!i.poster.loading?X=au({w:this.props.renderWidth},i.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(X=this.props["dynamic-poster"]||this.props.poster||null,X=X.startsWith("https://")?X:""),X=this.props.isLazyLoadable?X:"";let k=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",B=!m||(d.startsWith("vimeo")||d.startsWith("youtube"))&&a&&X;return g("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(k?" video-player"+k:""),ref:this.props.mediaRef,className:`media${a?" image-zoom":""}`,children:g("div",{className:"video-player-crop",children:[!m||B?g(Hg,{ref:this.posterRef,src:X,isZoomable:a,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:C,height:S,style:{transform:"rotate(1deg)"},part:"poster"+(k?" poster"+k:"")}):null,d==="video"?g("video",{ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted||this.props.autoplay,src:_,controls:m,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(k?" video"+k:""),poster:m?X:null,onPlay:this.onPlay,onPause:this.onPause,width:C,height:S}):g(JM,{...this.props,statusPartAppendix:k,fileType:d,ref:this.videoRef,loop:this.props.loop,width:C,height:S,onPlay:this.onPlay,onPause:this.onPause,onNewPlayer:this.onNewPlayer})]})})}componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&this.play()},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setVolume(0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,i){i.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||i.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(i.videoLoaded!==this.state.videoLoaded||i.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(i=>{i!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(r=>{})}).catch(r=>{})}).catch(i=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,i)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(r){i(r)})}),pause:()=>new Promise((e,i)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,i)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,i)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,i)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((i,r)=>{this.videoRef.current.currentTime===e?i(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{i(!0)},{once:!0}))}),getVolume:()=>new Promise((e,i)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((i,r)=>{this.videoRef.current.volume=e,e==0&&(this.videoRef.current.muted=!0),i(!0)}),setPlaybackRate:e=>new Promise((i,r)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),i(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!0,i.paused=!1,i.stopped=!1,i})};onPause=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!1,i.paused=!0,i})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({paused:!0,stopped:!0},()=>{this.props.poster&&this.videoRef.current&&this.props["browser-default"]&&this.videoRef.current.load()})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&this.state.interacted==!1&&!this.state.playing&&this.play()}exitedView=$M.default.debounce(()=>{this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([e,i])=>{i-e<.1&&!this.props.loop&&this.resetVideoPlayer()})},500)},KM=cn((t,e)=>g(eC,{...t,mediaRef:e}))});var zTe,tC,tk,ik=R(()=>{we();lt();zr();Ee();zTe=de(Ie(),1);j();tC=class extends se{constructor(e){super(e)}render(e){let{src:i,isLazyLoadable:r}=e;return g("iframe",{part:"media",frameborder:"0",onload:this.onLoad,ref:this.props.mediaRef,src:r?i:""})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()}},tk=cn((t,e)=>g(tC,{...t,mediaRef:e}))});var Ga,Cu,iC,rC,rk,nk=R(()=>{we();Ee();Lt();Pe();Ui();zo();er();Ga=de(Ie(),1);j();Cu=new Set,iC=Ga.default.debounce(()=>{let t=Array.from(Cu),e=[],i=t.filter(a=>a.state.selected).length>1,r=0;if(i){let a=t.map(c=>{let d;return c.state.selected?d=c.props.baseNode.getBoundingClientRect():d={top:-9e9},{component:c,rect:d}});e=Ga.default.sortBy(a,(c,d)=>c.rect.top);let l=e.filter(c=>c.component.state.selected),u=l[l.length-1].component.props.baseNode._size;r=l[l.length-1].rect.bottom+-l[0].rect.top+-u.mediaItemSize.padSize+-u.mediaSize.padSize,e=e.map(c=>c.component)}else e=t;let n=!1;e.forEach(a=>{!i||!a.state.selected?a.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?a.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(a.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r},()=>{a.setEditorFrame()}),n=!0)})},100);H.isServer||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",iC):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",iC)}),document.addEventListener("selectionchange",iC));rC=class extends se{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,overlayPosition:{x:0,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=Be.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=be(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,i){let{mediaItemEditorInfo:r,overlayPosition:n,resizeCorner:a,pointerAttention:l,pointerProxyAttention:u,disabledFigureOptions:c,editorFramePosition:d,editorMediaFramePosition:f,isResizing:m,dragStartPosition:b,dragDelta:C,scalingLimit:S,resizeDimensions:A,handlePos:F,mediaCornerPositions:_,cursorOrientation:X,partOfMultipleSelection:k,showMultipleSelectionButton:B,UIWindow:G,contextPos:V}=i,{rotation:te,dimensions:D,mediaDimensions:z,baseNode:re,size:ne}=e;if(r?.disableAll==!0)return null;let q=A.width*A.overSize/ne.mediaSize.width,L=A.height*A.overSize/ne.mediaSize.height,Q=1/q||1,K=e.scale;m&&(A.displayScale?K=A.displayScale:A.scaleArray[1]=="px"?K=parseFloat(A.scaleArray[0]).toFixed(0)+A.scaleArray[1]+"":K=parseFloat(A.scaleArray[0]).toFixed(1)+A.scaleArray[1]+""),K=K==="100.0%"?"100%":K;let $=e.rotation+"\xB0",fe=null;(l||u)&&!r?.disableButton&&!G&&!m&&(B&&k?fe=g("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(V.x*2)/2}px, ${Math.floor(V.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!B&&!k&&(fe=g("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(V.x*2)/2}px, ${Math.floor(V.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:g("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),g("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),g("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),g("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),g("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let J=null;!m&&l&&!r?.disableResize&&!k&&(J=g("button",{class:`resize-handle ${X}`,style:{transform:`translate(${Math.floor(F.x*2)/2}px, ${Math.floor(F.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:g("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[g("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),g("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let Z=r?.additionalUI?.(this,re)||null;return g(oe,{children:[g("style",{children:`:host {
				${m?"visibility: hidden!important;":""}
			}
			`}),g(ir,{baseNode:re,onSelectionChange:this.onSelectionChange}),Ke(g("div",{class:"editor-overlay",style:{height:ne.mediaItemSize.height+"px",width:ne.mediaItemSize.width+"px",display:l||m||u?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[g("div",{class:`figure-outline${this.props.usingLocalScale?" using-local-scale":""}`,style:{width:ne.mediaItemSize.width+"px",height:ne.mediaItemSize.height+"px",top:d.y+"px",left:d.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[m&&l&&g("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(V.x*2)/2}px, ${Math.floor(V.y*2)/2}px)`},children:g("div",{className:"tooltip-content",children:g("span",{children:`${this.props.limitBy}: ${K}`})})}),fe,J,Z]}),g("div",{class:"media-ghost-container",style:{display:m?"block":"none",width:A.width+ne.mediaSize.padSize+"px",height:A.height+ne.mediaSize.padSize+"px",top:a===2||a===3?"0":"auto",right:a===1||a===2?"auto":"0",left:a===1||a===2?"0":"auto",bottom:a===2||a===3?"auto":"0"},children:g("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let i=[];Cu.forEach(a=>{a.state.selected&&i.push(a.props.baseNode)}),i.indexOf(this.props.baseNode)===-1&&(i=[this.props.baseNode]);let r=this.props.baseNode.getBoundingClientRect(),n={x:r.x+10,y:r.y+10,left:r.left+10,right:r.right+10,top:r.top+10,bottom:r.top+10,width:r.width,height:0};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:i,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{let e=this.props.figCaptionElement;if(e){e.classList.contains("caption")||e.classList.add("caption");let i=Array.from(e.childNodes).every(r=>r.nodeType==Node.TEXT_NODE&&r.nodeValue.trim()==="");i&&!e.classList.contains("empty")?e.classList.add("empty"):!i&&e.classList.contains("empty")&&e.classList.remove("empty")}};componentDidMount(){Cu.add(this),this.props.baseNode._editorInterface=this,this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(Cu.delete(this),this.observer.disconnect(),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],i=e.indexOf(this.props.baseNode);i>-1&&(e[i]=this.props.baseNode.__willBeReplacedWith);let r=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==r&&(r=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:r},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,Be.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}updatePosition=e=>{(this.state.pointerAttention||this.state.pointerProxyAttention)&&(e.width==0||e.height==0||this.setEditorFrame())};onScroll=e=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(r),Be.testHover(),this.setEditorFrame(),this.ticking=!1}))};componentDidUpdate(e,i){this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),(!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)}),(this.props.src!==e.src||this.props.hash!==e.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")}),(this.state.UIWindow!==i.UIWindow||this.state.pointerAttention!==i.pointerAttention||this.state.pointerProxyAttention!==i.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&(Be.testHover(),this.setEditorFrame())}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},i=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(i&&!i.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.hasAttribute?.("data-active-slide")){this.pointerOut();return}this.setState({mediaItemEditorInfo:e}),this.state.selected&&Cu.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0},()=>{this.setEditorFrame()})};pointerOut=()=>{this.state.selected&&Cu.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let i=this.props.mediaElement,r=this.mediaGhostRef.current;if(!i||!r||this.props.size.width?.indexOf?.("%")>-1)return;for(;r.lastChild;)r.lastChild.remove();if(i.tagName=="IMG"){let a=i.cloneNode(!0);a.setAttribute("decoding","sync"),r.appendChild(a)}else if(i.tagName==="VIDEO"&&i.hasAttribute("poster")){let a=document.createElement("img");a.setAttribute("decoding","sync"),a.setAttribute("src",i.getAttribute("poster")),r.appendChild(a)}else i.classList.contains("placeholder")?r.appendChild(i.cloneNode(!0)):r.appendChild(document.createElement("div"));let n=window.getComputedStyle(i);r.firstChild.style.border=n.getPropertyValue("border"),r.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),r.firstChild.style.padding=n.getPropertyValue("padding"),r.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:i,mediaCornerPositions:r,cursorOrientation:n}=this.state,{baseNode:a,rotation:l,limitBy:u,size:c}=this.props,d=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),f=0;if(d){let F=window.getComputedStyle(d);f=d.offsetWidth+-parseFloat(F.getPropertyValue("padding-left"))+-parseFloat(F.getPropertyValue("padding-right"))}else f=window.innerWidth;f=f+-c.mediaSize.padSize+-c.mediaItemSize.padSize;let m={x:e.clientX,y:e.clientY};e.preventDefault();let b=this.props.scale??100,C=H.getCSSValueAndUnit(b,u==="width"?"%":"rem");u!=="width"&&u!=="height"&&(C[1]=""),C[0]=parseFloat(C[0]),(C[0]===""||C[1].indexOf("calc(")>-1||C[1].indexOf("var(")>-1)&&(u==="width"?(C[0]=c.mediaSize.width/f*100,C[1]="%"):(C[0]=c.mediaSize.height/window.innerHeight*100,C[1]="vh"));let S=Math.min(C[0].toString().indexOf(".")>-1?C[0].toString().split(".").pop().length:0,3);C[0]=parseFloat(parseFloat(C[0]).toFixed(S));let A={width:c.mediaSize.width,height:c.mediaSize.height,atLimit:Math.abs(c.mediaSize.width-f)<2,scaleArray:C,scale:b,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(A=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,A)),this.setState({dragStartPosition:m,scalingLimit:f,dragDelta:{x:0,y:0},resizeDimensions:A,initialDimensions:{...A,scaleArray:[...A.scaleArray]},isResizing:!0},()=>{Be.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),Ce.adminWindow.addEventListener("mouseup",this.onPointerUp),Ce.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:i,mediaCornerPositions:r,scalingLimit:n,resizeCorner:a,handlePos:l,handleTrack:u,initialDimensions:c}=this.state,{rotation:d,limitBy:f,baseNode:m,size:b}=this.props,{resizeDimensions:C}=this.state,{scale:S,scaleArray:A}=c,F={x:e.clientX-i.x,y:e.clientY+-i.y},_=d*(Math.PI/180)||0,X=r[a],k=r[(a+1)%4],B=r[(a+2)%4],G=r[(a+3)%4],V=this.getDistance(G,l),te=this.getDistance(B,l),D=parseInt(b.width),z=parseInt(b.height),re=45,ne=this.getAngle(G,X),q=this.getAngle(X,k),L={x:l.x+F.x,y:l.y+F.y},Q=[{x:l.x+Math.cos(q)*10,y:u.y+u.h+-re+Math.sin(q+Math.PI)*10},{x:l.x,y:u.y+u.h+-re}],K=[{x:l.x+Math.cos(ne)*10,y:u.y+u.h+-re+Math.sin(ne+Math.PI)*10},{x:l.x,y:u.y+u.h+-re}],$=0,fe=0,J=0,Z,ee;if(a%2==0){let Te=this.getIntersection(Q,[k,B]),He=this.getIntersection(K,[B,G]),rt=this.getDistance(B,l),Ye=this.getDistance(B,L),Me=this.getAngle(B,L),Ue=this.getDistance(B,l);J=Ye/Ue;let et=this.getDistance(B,Te);fe=Ye/et;let st=Math.abs(Math.sin(Me+_));fe*=st;let Xe=this.getDistance(He,B);$=Ye/Xe;let Dt=Math.cos(Me+_);$*=Dt}else{let Te=this.getIntersection(Q,[G,X]),He=this.getIntersection(K,[X,k]),rt=this.getDistance(B,l),Ye=this.getDistance(B,L),Me=this.getAngle(B,L),Ue=this.getDistance(B,l);J=Ye/Ue;let et=this.getDistance(B,Te);fe=Ye/et;let st=Math.abs(Math.sin(Me+_));fe*=st;let Xe=this.getDistance(He,B);$=Ye/Xe;let Dt=Math.cos(Me+_);$*=Dt}let ue=Math.max($,J,fe),ce=Math.min(b.mediaSize.width/D,b.mediaSize.height/z),he=D/z;Z=D*ce*ue,ee=z*ce*ue;let ve=!1,Oe=1;if(Z>n){let Te=n/Z;ve=!0,Z=n,ee=ee*Te}let Le=e.altKey||e.metaKey;f==="width"?([A,Z]=this.scaleDimension(A,Z+b.mediaSize.padSize+b.mediaItemSize.padSize,b.mediaSize.width+b.mediaSize.padSize+b.mediaItemSize.padSize,Le),Z=Z+-b.mediaSize.padSize+-b.mediaItemSize.padSize,ee=Z/he):([A,ee]=this.scaleDimension(A,ee+b.mediaSize.padSize+b.mediaItemSize.padSize,b.mediaSize.height+b.mediaSize.padSize+b.mediaItemSize.padSize,Le),Z=he*(ee+-b.mediaSize.padSize+-b.mediaItemSize.padSize),ee=Z/he),A[0]=parseFloat(A[0]),C={scale:A.join(""),scaleArray:A,limitBy:f,width:Z,height:ee,atLimit:ve,overSize:Oe,displayScale:null},A[1]=="%"&&f=="width"&&parseFloat(A[0])>=100&&(C.scale="100%",C.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(C=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...C})),this.setState({resizeDimensions:C})};scaleDimension=(e,i,r,n)=>{let a=e[0]*(i/r),l=a;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?a=Math.round(a/.5)*.5:a=Math.round(a/10)*10:e[1]=="px"?a=Math.round(a):a=Math.round(a*10)/10,a=Math.max(1,a);let u=a/l||0;return[[a,e[1]],i*u]};onPointerUp=e=>{let{resizeDimensions:i,scalingLimit:r}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,i):this.props.baseNode.setAttribute("scale",i.scale),this.props.baseNode.flushMutationQueue()}),Be.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",Ce.adminWindow.removeEventListener("mouseup",this.onPointerUp),Ce.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};setEditorFrame=()=>{let{figureElement:e,mediaElement:i,sizingFrameElement:r,baseNode:n,rotation:a,size:l}=this.props;if(!e||!i||!i.parentElement||l.mediaItemSize.width==0||l.mediaItemSize.height==0||!r||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let u=a*(Math.PI/180)||0,c=n.getBoundingClientRect(),d={w:l.mediaItemSize.width*Math.cos(u)-l.mediaItemSize.height*Math.sin(u),h:l.mediaItemSize.width*Math.sin(u)+l.mediaItemSize.height*Math.cos(u)},f=0,m=0,b={x:c.left+(c.width-d.w)*.5+-f,y:c.top+(c.height-d.h)*.5+-m},C=r.getBoundingClientRect(),S=45,A=45,F=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,_={x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight};F&&(_.h=this.state.multiSelectHeight);let X=i.offsetLeft,k=i.offsetTop,B=i;for(;B&&B.parentNode&&B.parentNode!==n.shadowRoot&&B.parentNode!==e&&B.parentNode!==n;)X=X+B.offsetLeft,k=k+B.offsetTop,B=B.offsetParent;let G={x:X||0,y:k||0},V=[{x:G.x,y:G.y},{x:G.x+l.mediaSize.width+l.mediaSize.padSize,y:G.y},{x:G.x+l.mediaSize.width+l.mediaSize.padSize,y:G.y+l.mediaSize.height+l.mediaSize.padSize},{x:G.x,y:G.y+l.mediaSize.height+l.mediaSize.padSize}],te=[];if(F)te=V,te[2].y=G.y+this.state.multiSelectHeight,te[3].y=G.y+this.state.multiSelectHeight;else{let Ue={x:_.w*.5,y:_.h*.5};te=V.map(et=>{let st={x:et.x-Ue.x,y:et.y-Ue.y},Xe={x:st.x*Math.cos(u)-st.y*Math.sin(u),y:st.x*Math.sin(u)+st.y*Math.cos(u)};return{x:Xe.x+Ue.x,y:Xe.y+Ue.y}})}if(Ga.default.isEqual(te))return;let D,z,re,ne;D=Ga.default.minBy(te,Ue=>Ue.y);let q=te.indexOf(D);z=te[(q+1)%4],re=te[(q+2)%4],ne=te[(q+3)%4];let L={x:0,y:0,w:S,h:A},Q={x:0,y:0},K={x:D.x,y:D.y},$={w:z.x-ne.x,h:re.y-D.y,x:ne.x,y:D.y},fe=[{x:$.x+$.w*.5,y:$.y+$.h*.5},{x:$.x+$.w,y:$.y+$.h}],J=this.getIntersection(fe,[z,re]),Z=this.getIntersection(fe,[ne,re]),ee=!1,ue=Ga.default.minBy([Z,J],Ue=>Ue.y<fe[0].y?9e9:Ue.y);if(ue==Z)L.x=re.x,L.y=re.y;else{let Ue=this.getDistance(z,ue);this.getDistance(re,ue)<Ue?(L.x=re.x,L.y=re.y):(L.x=z.x,L.y=z.y,ee=!0)}let ce,he=0,ve=0;if(ee){let Ue=this.getAngle(z,D),et=Math.PI-(Math.abs(Ue)+Math.PI*.5),st=A*Math.cos(et),Xe=-Math.cos(et+Math.PI*.5)*st,Dt=-Math.sin(et+Math.PI*.5)*st;K={x:ne.x+-Xe,y:ne.y+-Dt+A},L.x=L.x+Xe+-S,ce=L.y+Dt+A;let Li=[{x:D.x-S,y:ce},{x:D.x-S,y:ce-10}],$t=[{x:D.x,y:ce},{x:D.x,y:ce-10}],xt=[this.getIntersection(Li,[ne,D]),this.getIntersection(Li,[D,z]),this.getIntersection($t,[ne,D]),this.getIntersection($t,[D,z])],Ut=Ga.default.maxBy(xt,Kt=>Kt.y);L.y=Ut.y,L.h=ce-L.y;let ut=Math.max(0,C.bottom+(A+Dt)+-tt.data.window.h+-(re.y-z.y));ve=L.h-A+-ut,he=this.getIntersection([{x:L.x,y:L.y+ve},{x:L.x-10,y:L.y+ve}],[D,z]).x-L.x+-S}else{let Ue=this.getAngle(re,z),et=Math.PI-(Math.abs(Ue)+Math.PI*.5),st=S*Math.cos(et),Xe=-Math.cos(et)*st,Dt=-Math.sin(et)*st;if(ce=L.y+Dt,L.x=L.x+Xe,L.y=z.y,L.h=ce-z.y,K={x:D.x+-Xe+-S,y:D.y+-Dt},Math.abs(this.getSlope(z,re))>1&&C.bottom+Dt>=tt.data.window.h){let $t=C.bottom+-tt.data.window.h,xt={x:re.x,y:re.y-$t},Ut=this.getIntersection([xt,{x:xt.x+10,y:xt.y}],[re,z]);he=Ut.x-(L.x+L.w),ve=Ut.y-L.y+-A}else{let $t=[{x:L.x,y:ce},{x:L.x,y:ce-10}],xt=[{x:L.x+L.w,y:ce},{x:L.x+L.w,y:ce-10}],Ut=[this.getIntersection($t,[ne,D]),this.getIntersection($t,[D,z]),this.getIntersection(xt,[ne,D]),this.getIntersection(xt,[D,z])],ut=Ga.default.maxBy(Ut,Kt=>Kt.y);L.y=ut.y,L.h=ce-L.y;let Qr=Math.max(0,C.bottom+-tt.data.window.h+Dt);ve=L.h-A+-Qr,he=0}}Q.x=L.x+he,Q.y=Math.max(L.y,L.y+ve);let Oe=Math.max(0,C.left+C.width+-tt.data.window.w);Q.x=Math.min(Q.x,z.x-(Oe+S));let Le=Math.min(0,C.left),Te=Math.min(0,C.top);K.x=Math.max(K.x,-Le+ne.x),K.y=Math.max(K.y,-Te+D.y);let He=this.getIntersection([K,{x:K.x,y:K.y+10}],[ne,re]);K.y=Math.min(K.y,He.y+-A);let rt=(q+2)%4;ee&&(rt=(rt+3)%4);let Ye="nwse-resize",Me=this.getAngle(Q,te[(rt+2)%4]);Math.abs(Math.PI*.5-Me)<.4?Ye="ns-resize":Math.abs(Math.PI-Math.abs(Me))<.4&&(Ye="ew-resize"),this.setState({mediaCornerPositions:te,resizeCorner:rt,contextPos:K,handlePos:Q,cursorOrientation:Ye,handleTrack:L,overlayPosition:b,editorMediaFramePosition:{x:G.x,y:G.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,i)=>Math.atan2(-(i.y-e.y),i.x-e.x);getDistance=(e,i)=>Math.sqrt(Math.pow(i.y-e.y,2)+Math.pow(i.x-e.x,2));getSlope=(e,i)=>(i.y-e.y)/(i.x-e.x);getIntersection=(e,i)=>{let r=this.getSlope(...e),n=this.getSlope(...i),a,l;return r==0?(isFinite(n)?a=(n*i[0].x-(i[0].y-e[0].y))/n:a=i[0].x,l=e[0].y):isFinite(r)?(a=(n*i[0].x-r*e[0].x-(i[0].y-e[0].y))/(n-r),l=r*(a-e[0].x)+e[0].y):(a=e[0].x,l=n*(a-i[0].x)+i[0].y),isFinite(a)||(a=null),isFinite(l)||(l=null),{x:a,y:l}}},rk=rC});function xae(t){return wt({updateFrontendState:actions.updateFrontendState},t)}var ok,kd,Qg,Sae,Rae,ak=R(()=>{we();Ee();ai();lt();ok=de(Ie(),1);Pe();gn();Ki();Vg();xi();$y();ek();ik();tr();nk();pu();j();we();H.isServer||(kd=new ResizeObserver(function(t){t.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let i=0,r=0,n=0,a=0,l=0,u=0,c=0,d=0,f=0,m=0,b=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!b)e.borderBoxSize.length?(i=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(i=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,r=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let C=window.getComputedStyle(e.target);n=parseFloat(C.getPropertyValue("padding-left"))||0,a=parseFloat(C.getPropertyValue("padding-right"))||0,l=parseFloat(C.getPropertyValue("border-right-width"))||0,u=parseFloat(C.getPropertyValue("border-left-width"))||0,c=parseFloat(C.getPropertyValue("padding-top"))||0,d=parseFloat(C.getPropertyValue("padding-bottom"))||0,f=parseFloat(C.getPropertyValue("border-bottom-width"))||0,m=parseFloat(C.getPropertyValue("border-top-width"))||0,i=c+d+m+f,r=n+a+l+u}vt(e.target,"elementResize",{padSize:r,vertPadSize:i,horizPadSize:r,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:a,leftBorder:l,rightBorder:u,topPad:c,bottomPad:d,bottomBorder:f,topBorder:m},{bubbles:!1})})}));Qg=class extends Ii{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,slottedMediaNode:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,isLazyLoadable:!1,loaded:!1},this.uid=ok.default.uniqueId(),this.figureRef=be(),this.mediaRef=be(),this.lastMediaRef=be(),this.figCaptionRef=be(),this.sizingFrameRef=be(),Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1600,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let i=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:r=>{this.onloadCallback=r,this.state.loaded&&r&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=i,this.props.baseNode._setZoomStatus=r=>{this.setState(n=>n.zoomTemporarilyDisabled===r?null:{zoomTemporarilyDisabled:r})},this.props.baseNode.getFileType=this.getFileType}handleClick=e=>{if(e?.defaultPrevented)return;let i=e.composedPath();if(i.find(d=>d.tagName==="A"))return;let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),a=!1,l=window.getSelection();if(l&&l.rangeCount>0&&!this.props.adminMode){let d=l.getRangeAt(0);d&&d.commonAncestorContainer&&!d.collapsed&&this.props.baseNode.contains(d.commonAncestorContainer)&&(a=!0)}if(n&&!a&&!this.props.adminMode){n.click();return}let u=this.getFileType(),c=this.isZoomable();if((u==="video"||u.startsWith("vimeo")||u.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!c){e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!c||a||!i.find(d=>d&&d.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),Uy(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:i,"dynamic-src":r}=this.props;if(i=r||i,this.props["dynamic-filetype"]!==void 0||r&&r.startsWith("blob://"))return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video&&(n="video");else if(i){let f=i.toLowerCase();if(f.endsWith(".mov")||f.endsWith(".mp4")||f.endsWith(".webm"))n="video";else if(f.endsWith(".png")||f.endsWith(".webp")||f.endsWith(".jpg")||f.endsWith(".jpeg")||f.endsWith(".gif")||f.endsWith(".avif")||f.endsWith(".apng")||f.endsWith(".svg"))n="image";else{n="url";var a="",l=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,d=i.match(l);if(d&&d[0]){let m=d[0].split(/\/|\?h=|&|\?/);for(var u=0;u<m.length;u++)!m[u].includes(":")&&!m[u].includes(".")&&!m[u].includes("vimeo")&&!m[u].includes("=")&&!m[u].includes("video")&&!m[u].includes("showcase")&&!m[u].includes("player")&&m[u].length>3&&(a.length==0?a=m[u]:a+="/"+m[u]);n="vimeo:"+a}var c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=i.match(c);d&&d[7].length==11&&(a=d[7],n="youtube:"+a)}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,i,r){let{dimensions:n,mediaDimensions:a,isLazyLoadable:l,isVisible:u,loading:c,nativeMediaDimensions:d}=i,{rotation:f,drag:m,"dynamic-src":b,adminMode:C,imageSettings:S,pageInfo:A,width:F,height:_,baseNode:X,model:k,href:B,src:G,hash:V,isMobile:te}=e,{uid:D}=this,z=this.props.scale!==void 0?this.props.scale:te&&S.mobile_image_width_maximize?"100%":S.scale,re=this.props["limit-by"]!==void 0?this.props["limit-by"]:te&&S.mobile_image_width_maximize?"width":S.limit_by;G=b||G;let ne=F??k?.width??d.width??1600,q=_??k?.height??d.height??1600,L=H.getCSSValueAndUnit(z,re=="height"?"rem":"%"),Q=L.join(""),K=ne.toString().indexOf("%")>-1;q.toString().indexOf("%")>-1&&(q=150);let fe=q/ne,Z=a.width*fe,ee=a.horizPadSize+n.horizPadSize,ue=a.vertPadSize+n.vertPadSize,ce=a.width+a.horizPadSize,ve=(Z+a.vertPadSize)/ce;if(isNaN(ve)&&(ve=q/ne),re=="height"){let et="";L[1]=="%"?et=`( ${L[0]*.01} * var(--resize-parent-width, 100%) )`:L[1].indexOf("calc(")>-1?(L[1]=L[1].replace(/[\d*\.]+%/g,function(st){return`( ${H.getCSSValueAndUnit(st,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),et=L[1].replace("calc(","(")):et=L.join(""),Q=`calc( ( ${et} - ${ue}px ) * ( 1 / ${fe} ) + ${ee}px )`}else re==="width"?L[1]=="%"?Q=`calc(${L[0]*.01} * var(--resize-parent-width, 100%) )`:(L[1].indexOf("calc(")>-1&&(L[1]=L[1].replace(/[\d*\.]+%/g,function(et){return`( ${H.getCSSValueAndUnit(et,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),Q=L.join("")):Q=`calc( ( ( var(--fit-height, 50vh) * ${L[0]/100} ) - ${ee}px ) * ( 1 / ${fe} ) + ${ee}px )`;let Oe=!1,Le=this.props.uses||"";Le.indexOf("scroll-transition")===-1&&Oe&&(Le=Le+" scroll-transition");let Te=null,He=this.getFileType(),rt=this.isZoomable();switch(!0){case He=="video":case He.startsWith("vimeo:"):case He.startsWith("youtube:"):Te=g(KM,{...e,baseNode:this.props.baseNode,isZoomable:rt,ref:this.mediaRef,onLoad:this.onLoad,visible:u,fileType:He,isLazyLoadable:l,renderWidth:n.width,renderHeight:n.height});break;case He=="image":Te=g(Hg,{...e,isZoomable:rt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:l,renderWidth:a.width,renderHeight:a.height,part:"media"});break;case He=="url":Te=g(tk,{...e,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:l});break;default:Te=g("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1600",draggable:"true",children:g("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[g("rect",{part:"placeholder-rect"}),g("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}let Ye=g("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:Te},"media-slot-key"),Me=this.props.scale!==void 0||this.props["limit-by"]!==void 0,Ue=g(oe,{children:[g(lo,{uses:Le,onLazyLoadChange:this.onlazyLoadChange,adminMode:C,customElementMode:!0,baseNode:X,children:[g("style",{id:"media-item",children:`
:host {
	${!C&&B&&B!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${Q||"100%"};

	transform-origin: center center;

	margin: 0;
	padding: 0;

	z-index: var(--z-index, initial);    
}
 :host, * {
	box-sizing: border-box;
}


figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain!important;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${ve*100}%);
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/* for URL filetype or iframe-based videos */
iframe {
	pointer-events: ${!C&&!this.props.href&&!rt?"auto":"none"};
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${a.leftPad+a.leftBorder}px;
	border-right-width: ${a.rightPad+a.rightBorder}px;
	border-top-width: ${a.topPad+a.topBorder}px;
	border-bottom-width: ${a.bottomPad+a.bottomBorder}px;
	top: ${-a.topBorder}px;
	left: ${-a.leftBorder}px;
	right: ${-a.rightBorder}px;
	bottom: ${-a.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}

[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain;
}

[part*="video"] {
	object-fit: fill;
}


[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}

[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
[part*="poster-stopped"]{
	opacity: 1;
}	

${c?`[part*="media"] {
	opacity: 0;
}`:""}

${C?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${A.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),g("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,children:[g("div",{part:"frame",className:"frame",children:this.props.href!==void 0?g("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:Ye}):g("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:Ye})}),g("slot",{name:"caption",onSlotChange:this.onCaptionSlotChange})]})]},"media-host"),A.isEditing&&C&&At(rk,{...this.props,usingLocalScale:Me,fileType:He,limitBy:re,width:F,height:_,rotation:f||0,scale:z,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:X,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid})]},"media-item-fragment");return Ke(Ue,X.shadowRoot)}onViewportIntersectionChange=e=>{let i=e.position==="inside";this.state.isVisible!==i&&this.setState({isVisible:i})};onLazyloadIntersectionChange=e=>{let i=e.position==="inside";this.state.isLazyLoadable!==i&&this.setState({isLazyLoadable:i})};onCaptionSlotChange=e=>{let i=e.target.assignedNodes();i[0]?this.figCaptionRef.current=i[0]:this.figCaptionRef.current=null};onMediaSlotChange=e=>{let i=e.target.assignedNodes();i[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(i[0].getAttribute("width"))||null,height:parseFloat(i[0].getAttribute("height"))||null},slottedMediaNode:i[0]}),this.mediaRef.current=i[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let i=parseFloat(e.getAttribute("width"))||null,r=parseFloat(e.getAttribute("height"))||null;i&&r&&this.state.nativeMediaDimensions.width!==i&&this.state.nativeMediaDimensions.height!==r&&this.setState({nativeMediaDimensions:{width:i,height:r}}),Ci(e,"elementResize",this.onMediaResize),kd.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),Si(e,"elementResize",this.onMediaResize),kd.unobserve(e))};componentDidMount(){H.isServer||(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked"),this.props.hash==="placeholder"&&!this.props.src&&!this.props["dynamic-src"]&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),Ci(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Ci(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Ci(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,kd.observe(this.props.baseNode))}componentWillUnmount(){H.isServer||(cancelAnimationFrame(this.itemResizeAfterModelChange),Si(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Si(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Si(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),kd.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,i){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let r=this.getFileType();if((r.startsWith("vimeo")||r.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==i.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.state.nativeMediaDimensions.width!==i.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==i.nativeMediaDimensions.height)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),this.props.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.state.dimensions.width!=i.dimensions.width||this.state.dimensions.height!=i.dimensions.height||this.state.dimensions.padSize!=i.dimensions.padSize||this.state.mediaDimensions.padSize!=i.mediaDimensions.padSize){if(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)return;typeof this.props.itemResize=="function"&&this.props.itemResize({mediaPadSize:this.state.mediaDimensions.padSize||0,...this.state.dimensions},this.props.baseNode)}this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onSetZoomDisabled=e=>{};onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let i=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(i&&!i.contains(e.target)||!i)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(i=>e&&(e.width!==i.nativeMediaDimensions.width||e.height!==i.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};Qg.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};Sae=qt(ke((t,e)=>{let i=e["dynamic-hash"]||e.hash||null,r=i?at.getMediaByHash(t)[i]:null;e.model&&(r=e.model);let n=e.poster||null,a=null;return e.posterModel?a=e.posterModel:n&&!n.includes?.(".")&&(a=at.getMediaByHash(t)[n]||null),{posterModel:a,model:r,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...t.siteDesign.images}}},xae)(Qg)),Rae=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","rotation","limit-by","disable-zoom","scale","hash","src","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];li(Sae,"media-item",Rae)});var FDe,nC,sk,lk=R(()=>{we();FDe=de(Ie(),1);Lt();gu();j();nC=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,"vertical-align":n}=e;return g(uo,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:r,onCleanUp:(a,l,u,c,d,f)=>{u.forEach(m=>{m.getAttribute("grid-vertical-align")===n&&m.removeAttribute("grid-vertical-align"),m.getAttribute("grid-span")===1&&m.removeAttribute("grid-span")}),l.forEach(m=>{m&&(m.classList.remove("last-column"),m.classList.remove("last-row"),m.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(a,l,u,c,d,f)}})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,a)=>{let l=i[a+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},sk=nC});var jg,bn,Jg,oC,qg=R(()=>{we();Ee();lt();Da();mu();Pe();_s();La();Ki();er();lk();jg=de(Ie(),1);tr();j();bn={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};bn.mediaItemDefaults=H.collapseOptions(bn.mediaItemOptions);bn.defaults=H.collapseOptions(bn.options);bn.mobileDefaults=H.collapseOptions(bn.mobileOptions);Jg=class extends se{constructor(e){super(e),this.state={isMobile:tt.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=jg.default.uniqueId(),this.paginationWatcherRef=be(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+100;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{adminMode:r,baseNode:n,pageInfo:a}=e,{isMobile:l,gutterWidth:u,gutterHeight:c,hasSizes:d}=i,{elWidth:f}=i;d||(f=this.props.baseNode.offsetWidth);let m=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(m=this.props.verticalAlign);let b=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;b=Math.max(1,parseInt(b))||1;let S=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),A=(S.length>1,S[0]);A=H.getCSSValueAndUnit(A,"rem"),A[1]=="rem"&&l&&(A=["","calc( var(--mobile-padding-offset, 1) * "+A.join("")+" )"]);let F=S.length>1?S[1]:S[0];F=H.getCSSValueAndUnit(F,"rem"),F[1]=="rem"&&l&&(F=["","calc( var(--mobile-padding-offset, 1) * "+F.join("")+" )"]);let{columnAndGutterMap:_,columnWidth:X,gutterPixelWidth:k}=fu(b,u,f),B=this.getMediaItems(),G=[],V=0,te=0,D=l&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);B.forEach((L,Q)=>{if(Q>this.state.renderLimit)return;G[V]||(G[V]=[]);let K=D?1:parseInt(L.getAttribute("grid-span"))||1;te%b+K>b&&(K=b-te%b);let $=L.getAttribute("grid-vertical-align")||null;G[V].push({index:Q,spans:K,hasOrphans:!1,verticalAlign:$,el:L}),te=te+K,te%b==0&&V++,te%b!=0&&Q==B.length-1&&(G[G.length-1].hasOrphans=!0)});let z=B.length%b,re=[],ne=[];G.forEach((L,Q)=>{let K=jg.default.sumBy(L,ce=>ce.spans),$=0,fe=[],J=0,Z=0,ee=L.map((ce,he)=>{let ve=ce.spans,Oe=ce.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},Le=$,Te=$+ve+-1,He=X*ve+u*(ve-1),rt=(He+-Oe.mediaItemSize.horizPadSize+-Oe.mediaSize.horizPadSize)/Oe.width,Ye=Math.round(Oe.height*rt+Oe.mediaSize.vertPadSize)||10;He=_[Te].right-_[Le].left,$+=ve,J=Math.max(J,Ye);let Me={},Ue=` --grid-width: ${He}px;`;return Me.orphanedItem=L.hasOrphans,he===L.length-1?(Me.lastColumn=!0,ce.index<B.length-1&&(Ue=` --grid-width: ${f-Z}px;`),Z=0):Z=Z+He+u,Q==G.length-1&&(Me.lastRow=!0),Me.gridItemPixelHeight=Ye,Me.gridItemPixelWidth=He,Me.gridWidthStyle=Ue,Me});var ue=jg.default.maxBy(ee,ce=>ce.gridItemPixelHeight);J=ue.gridItemPixelHeight,L.forEach((ce,he)=>{let ve=ee[he],Oe=0,Le=m;switch(ce.verticalAlign){case"top":case"center":case"bottom":Le=ce.verticalAlign;break}switch(Le){case"top":Oe=0;break;case"center":Oe=(J-ve.gridItemPixelHeight)*.5;break;case"bottom":Oe=J-ve.gridItemPixelHeight;break}let Te=`margin-top: ${Oe}px; --frame-padding: ${ve.gridItemPixelHeight}px; ${ve.gridWidthStyle}`;re.push({slot:"row-"+Q+"-"+ce.index,itemResize:this.onItemResize,"limit-by":null}),ne.push({style:Te,itemStatuses:ve})})}),B.forEach((L,Q)=>{let K=re[Q]||{slot:null},$=L._props||{};co(L,{...$,...K},$,!1,!1)});let q=[];return G.forEach((L,Q)=>{q.push(g("div",{className:`row ${L.hasOrphans?"has-orphans":""}`,children:L.map(K=>(ne[K.index].slot="row-"+Q+"-"+K.index,g("slot",{name:"row-"+Q+"-"+K.index},"slot-"+Q+"-"+K.index)))},"row-"+Q))}),g(oe,{children:[this.props.children,Ke(g(oe,{children:[g("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${k}px;
							--grid-gutter-height: ${c}px;
							margin-top: calc(var(--gutter-expand, 0) * ${c}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${ne.map((L,Q)=>`::slotted(media-item[slot="${L.slot}"]) {
								${L.style}
								${L.itemStatuses.lastColumn&&!L.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${L.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${L.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${f}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${l&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${r?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),g(Wr,{values:{elWidth:"100%",gutterWidth:A.join(""),gutterHeight:F.join("")},onResize:this.onResize}),r&&a.isEditing&&!H.isServer&&g(sk,{...e,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:_}),q,g("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){tt.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){tt.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})}};Jg.defaultProps={"show-tags":!0,"show-title":!0,columns:bn.defaults.columns.value,gutter:bn.defaults.gutter.value,"vertical-align":bn.defaults["vertical-align"].value,"horizontal-align":bn.defaults["horizontal-align"].value};oC=qt(po(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(Jg)));li(oC,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var KDe,aC,uk,ck=R(()=>{we();KDe=de(Ie(),1);Lt();gu();j();aC=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:a,elHeight:l,disabledAttributes:u}=e;return g(uo,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:r,mediaItemEditorInfo:{disableResize:this.props.isMobile&&this.props["mobile-columns"]!==void 0&&this.props["mobile-columns"]!==this.props.columns,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:u})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,a)=>{let l=i[a+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},uk=aC});var sC,fo,$g,Eae,lC=R(()=>{we();Ee();lt();Da();Pe();_s();La();mu();Ki();ck();er();sC=de(Ie(),1);tr();j();fo={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};fo.mediaItemDefaults=H.collapseOptions(fo.mediaItemOptions);fo.defaults=H.collapseOptions(fo.options);fo.mobileDefaults=H.collapseOptions(fo.mobileOptions);$g=class extends se{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:tt.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,i){let{gutterWidth:r,gutterHeight:n,isMobile:a,hasSizes:l}=i,{baseNode:u,adminMode:c,pageInfo:d}=e,{elWidth:f}=i;l||(f=this.props.baseNode.offsetWidth);let b=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),C=(b.length>1,b[0]);C.includes("rem")&&a&&(C="calc( var(--mobile-padding-offset, 1) * "+C+" )");let S=b.length>1?b[1]:b[0];S.includes("rem")&&a&&(S="calc( var(--mobile-padding-offset, 1) * "+S+" )");let A=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;A=Math.max(1,parseInt(A))||1;let{columnAndGutterMap:F,columnWidth:_,gutterPixelWidth:X,halfPixels:k}=fu(A,r,f),B=Array.from(u.children).filter(Q=>Q.tagName=="MEDIA-ITEM"),G=[],V=[],te=[],D=[],z=0;z=(f-(A-1)*r)/A;for(let Q=0;Q<Math.min(B.length,A);Q++)G[Q]=[],D[Q]=[];for(let Q=0;Q<A;Q++)V[Q]={height:0,marginTop:-r,index:Q};let re=A>B.length,ne=[],q=a&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),L=[];return B.forEach((Q,K)=>{let $=q?1:Math.min(parseInt(Q.getAttribute("columnized-span"))||1,A);$=Math.min($,B.length);let fe=-1,J=sC.default.minBy(V,st=>{fe++;let Xe=V.slice(fe+1,fe+$).map(Li=>Li.height);if(Xe.length+1<$)return 9e9;let Dt=st.height==0?0:Math.abs((fe+(fe%2==0?.25:.75))*2-A);return sC.default.mean([st.height,...Xe])+Dt}),Z=`column-${J.index}-slot-${K}`,ee=J.height;J.index+$>A&&($=A-J.index),te[J.index]=K;let ue=0,ce=null,he=_*$+r*($-1),ve=Q._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};ue=ve.mediaItemSize.height+ve.mediaItemSize.padSize;let Oe=J.index,Le=J.index+$+-1;he=F[Le].right-F[Oe].left;let Te=(he+-ve.mediaItemSize.padSize+-ve.mediaSize.padSize)/ve.width;ce=k?Math.round((ve.height*Te+ve.mediaSize.padSize)*2)/2||0:Math.round(ve.height*Te+ve.mediaSize.padSize)||0;let He=J,rt=J.height;for(let st=1;st<$;st++){let Xe=J.index+st;V[Xe].height>=rt&&(He=V[Xe],rt=V[Xe].height)}let Ye=He.height,Me=He.height+ve.mediaItemSize.height+ve.mediaItemSize.padSize+r;for(let st=0;st<$;st++){let Xe=J.index+st;st===0?(V[Xe].marginTop=V[Xe].marginTop+(Ye-V[Xe].height),V[Xe].height=Me):(V[Xe].marginTop=V[Xe].marginTop+(Me-V[Xe].height),V[Xe].height=Me)}let Ue={},et=V[J.index].marginTop;V[J.index].marginTop=0,Ue.styleString="",et!==n&&(Ue.styleString+=` --column-gutter-height: ${et+n}px;`),$>1&&(Ue.styleString+=` --resize-parent-width:${he}px; min-width: ${he}px;`),ce!==null&&(Ue.styleString+=` --frame-padding: ${ce}px;`),ee===0&&(Ue.firstColumnItem=!0),Ue.slotName=Z,L.push(Ue),G[J.index]||(G[J.index]=[]),G[J.index].push(g("slot",{name:Z},Z)),ne.push({slot:Z})}),te.forEach(Q=>{L[Q].lastInColumn=!0}),B.forEach((Q,K)=>{let $=ne[K]||{};$.itemResize=this.onItemResize;let fe=Q._props||{};co(Q,{...fe,...$},fe,!1,!1)}),g(oe,{children:[this.props.children,Ke(g(oe,{children:[g("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${re?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${X}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${L.map((Q,K)=>`::slotted(media-item[slot="${Q.slotName}"]){
						margin-top: ${Q.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${Q.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${A===1?"100%":0};						
						`:""}
						${Q.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${re?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(f/A)}px;
					`}					
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${A===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),g(Wr,{values:{gutterWidth:C,gutterHeight:S,elWidth:"100%"},onResize:this.onResize}),c&&d.isEditing&&!H.isServer&&g(uk,{...this.props,isMobile:a,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:F,galleryInstance:u,galleryComponent:this}),G.map((Q,K)=>{let $=F[K];return g("div",{className:`columns-column${K===A-1?" last-column":""}`,style:{width:$.right-$.left+"px"},children:Q},`columns-column-${K}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){tt.on("mobile-change",this.onMobileChange)}componentWillUnmount(){tt.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}};$g.defaultProps={"show-tags":!0,"show-title":!0,columns:fo.defaults.columns.value,gutter:fo.defaults.gutter.value};Eae=qt(po(ke((t,e)=>({adminMode:t.frontendState.adminMode}))($g)));li(Eae,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var Yr,uC,dk,pk=R(()=>{we();Yr=de(Ie(),1);gu();Ui();Lt();j();uC=class extends se{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=be(),this.dragGhostRef=be(),this.lastPosition=null}render(e,i){let{showDropTarget:r,draggedMediaItem:n,isDragging:a,dragDelta:l,draggedItemIndex:u,initialPosition:c,dragSrcIndex:d,ghostRect:f}=i,{galleryInstance:m}=e;return g(oe,{children:[g("style",{children:[d>-1&&a?`
			::slotted(media-item:nth-child(${d+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(b=>`::slotted(media-item[slot="${b.slot}"]){
						--base-translate: translate(${b.x}px , ${b.y}px)!important;
					} `):""]}),g(uo,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:m,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),g("div",{className:`drag-ghost ${f.significantShift?"snapping":""}`,style:{display:a&&f.width>0&&f.height>0?"block":"none",transform:`translate3d(${f.x}px, ${f.y}px, 1001px)`,width:f.width+"px",height:f.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(i=>i.isDragging?{scrollDelta:{x:0,y:i.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,i)=>{let r=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...i,scaleArray:[parseFloat(r),"%"],scale:r+""}};whileScaling=(e,i)=>{let{magneticSnap:r,magneticSnapMargin:n}=this.props,a=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!r)return i;let{width:l,height:u,scaleArray:c,overSize:d,atLimit:f,scale:m}=i,{elWidth:b,attributeMap:C}=this.props;b=b+-a.mediaItemSize.padSize+-a.mediaSize.padSize;let S=n*.01*b,A=l/u,F={width:!1,height:!1},_=Array.from(this.props.galleryInstance.children).filter(V=>V.tagName==="MEDIA-ITEM").indexOf(e),X=C[_],k={x1:X.xPx,y1:X.yPx,x2:X.xPx+l,y2:X.yPx+u},B={top:!0,left:!0,right:!1,bottom:!1},G=this.calculateMagnetism(e,k,B);return Math.abs(G.x)<Math.abs(G.y)&&Math.abs(G.x)>.1?F.width=!0:Math.abs(G.y)>.1&&(F.height=!0),Math.abs(G.x)>15&&(F.width=!1,G.x=0),Math.abs(G.y)>15&&(F.height=!1,G.y=0),F.width?(l=l+G.x,u=l/A):F.height&&(u=u+G.y,l=u*A),c[0]=l/b*100,{...i,scale:c.join(""),width:l,height:u,scaleArray:c,overSize:d,atLimit:f}};afterScaleChange=(e,i)=>{let{elWidth:r}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};r=r+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let a=(100*(i.width/r)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",a),e.setAttribute("freeform-scale",a),this.props.galleryComponent.onItemResize()};onDragStart=(e,i,r)=>{let n=r.draggedMediaItems?.find(S=>this.props.galleryInstance.contains(S))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:a,elWidth:l}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(S=>{S.remove()});let u=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),c=Array.from(this.props.galleryInstance.children),d=c.indexOf(n),f=c.filter(S=>S.tagName==="MEDIA-ITEM").indexOf(n),m=a[f],b={x:m.xPx,y:m.yPx},C=this.props.galleryInstance.offsetHeight;this.setState(S=>(Ce.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:b,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:d,overrideHeight:!0,minHeight:C,isDragging:!0}))};onDragOver=(e,i,r)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:a,mediaItems:l,magneticSnapMargin:u,magneticSnap:c,attributeArray:d}=this.props,f=r.draggedMediaItems.length>0,m=this.props.galleryInstance.contains(r.dropTarget),b=this.props.galleryInstance===r.customDropTarget;r.inAdmin||r.fromOutside||!(m||this.state.draggedItemIsInsideGallery)?Ce.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(C=>{if(Ce.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),C.isDragging){let S={x:r.cursorPosition.x+-C.dragStartPosition.x+C.scrollDelta.x,y:r.cursorPosition.y+-C.dragStartPosition.y+C.scrollDelta.y},A={x:C.initialPosition.x+S.x,y:C.initialPosition.y+S.y};this.lastPosition||(this.lastPosition=A);let F={width:0,height:0,x1:A.x,x2:A.x,y1:A.y,y2:A.y};if(this.draggedItem.current){let B=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};F.x2=F.x1+B.mediaItemSize.padSize+B.mediaSize.padSize+B.mediaItemSize.width,F.y2=F.y1+B.mediaItemSize.padSize+B.mediaItemSize.height,F.width=B.mediaItemSize.padSize+B.mediaSize.padSize+B.mediaItemSize.width,F.height=B.mediaItemSize.padSize+B.mediaItemSize.height}let _=c?this.calculateMagnetism(this.draggedItem.current,F):{x:0,y:0},X=u*.01*n;Math.abs(_.x)>Math.max(X,6)?_.x=0:_.x!==0&&(A.x=(A.x+_.x)*.5+this.lastPosition.x*.5),Math.abs(_.y)>Math.max(X,6)?_.y=0:_.y!==0&&(A.y=(A.y+_.y)*.5+this.lastPosition.y*.5);let k=Math.abs(_.x)>1||Math.abs(_.y)>1;return this.lastPosition=A,{ghostRect:{significantShift:k,x:A.x,y:A.y,width:F.width,height:F.height},dragDelta:{x:S.x+_.x,y:S.y+_.y}}}else{let S=this.props.galleryInstance.getBoundingClientRect(),A={x:r.cursorPosition.x-S.left,y:r.cursorPosition.y-S.top};return this.draggedItem.current=r.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:A,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,i,r={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:a,elWidth:l,elHeight:u,magneticSnapMargin:c,attributeMap:d}=this.props,f=Math.round(c*.01*l*32)/32,m=[],b=[],C=[],S={};n.forEach((D,z)=>{let re=d[z];if(D===e)return;C.length=0;let ne=D._size;S.x1=re.xPx,S.y1=re.yPx,S.x2=ne.mediaItemSize.width+ne.mediaItemSize.padSize+S.x1,S.y2=ne.mediaItemSize.height+ne.mediaItemSize.padSize+S.y1,i.x1<S.x2+f*2&&i.x2>S.x1-f*2&&(S.x2<i.x1||S.x1>i.x2?(C.push(S.y1),C.push(S.y2)):(C.push(S.y1-f),C.push(S.y2+f)),C.forEach(q=>{m.indexOf(q)===-1&&m.push(q)})),C.length=0,i.y1<S.y2+f*2&&i.y2>S.y1-f*2&&(S.y2<i.y1||S.y1>i.y2?(C.push(S.x1),C.push(S.x2)):(C.push(S.x1-f),C.push(S.x2+f)),C.forEach(q=>{b.indexOf(q)===-1&&b.push(q)}))}),m.indexOf(0)===-1&&m.push(0),m.indexOf(u)===-1&&m.push(u),b.indexOf(0)===-1&&b.push(0),b.indexOf(l)===-1&&b.push(l);let A=Yr.default.minBy(m,D=>Math.abs(D-i.y1)),F=Yr.default.minBy(m,D=>Math.abs(D-i.y2)),_=A-i.y1,X=F-i.y2,k=Yr.default.minBy(b,D=>Math.abs(D-i.x1)),B=Yr.default.minBy(b,D=>Math.abs(D-i.x2)),G=k-i.x1,V=B-i.x2;return{x:Yr.default.minBy([r.left?9e9:G,r.right?9e9:V],D=>D!==0?Math.abs(D):9e9),y:Yr.default.minBy([r.top?9e9:_,r.bottom?9e9:X],D=>D!==0?Math.abs(D):9e9)}};onDragDrop=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null,!r.inAdmin&&r.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),Be.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let n=Array.from(this.props.galleryInstance.children).filter(f=>f.tagName==="MEDIA-ITEM"),a=Yr.default.sortBy(n,f=>parseFloat(f.getAttribute("freeform-y"))||0),l=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,u=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,c=this.draggedItem.current?.getAttribute("freeform-scale")||20,d=a.find(f=>parseFloat(f.getAttribute("freeform-y"))>u);r.draggedMediaItems.forEach((f,m)=>{f.setAttribute("freeform-z",n.length+200+m),f===this.draggedItem.current?(f.setAttribute("freeform-x",l),f.setAttribute("freeform-y",u)):(f.setAttribute("freeform-x",(l+m*5)%80),f.setAttribute("freeform-y",u+m*5)),f.hasAttribute("freeform-scale")||f.setAttribute("freeform-scale",c),this.props.galleryInstance.insertBefore(f,d),f.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=Yr.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,i,r,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!Yr.default.isEqual(e,i)||r.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");Yr.default.sortBy(e,r=>parseFloat(r.getAttribute("freeform-z"))||0).forEach((r,n)=>{r.setAttribute("freeform-z",n+1),r.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=Yr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=i[0]?.hasAttribute("freeform-y")?parseFloat(i[0].getAttribute("freeform-y")):0;r!==0&&i.forEach((n,a)=>{let l=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):r;n.setAttribute("freeform-y",l-r),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=Yr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=e[0];i.forEach((n,a,l)=>{if(n!=r){for(let u=r,c=0;(u=u.nextElementSibling)&&c<l.length&&u!=n;c+=1);this.props.galleryInstance.insertBefore(n,r)}else r=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props,{currentZoom:r}=this.state;Array.from(this.props.galleryInstance.children).filter(a=>a.tagName==="MEDIA-ITEM").forEach((a,l)=>{let u=i[l],c=u["freeform-x"],d=u["freeform-y"],f=u["freeform-scale"],m=Math.sqrt(Math.pow(c-50,2)+Math.pow(d,2)),b=Math.atan2(d,c-50);a.setAttribute("freeform-x",Math.cos(b)*m*(r*.01)+50),a.setAttribute("freeform-y",Math.sin(b)*m*(r*.01)+50*(r*.01)),a.setAttribute("freeform-scale",r*.01*f)});let n=Math.abs(r*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,i)=>{let r=i.map(n=>{let a=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,l=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:a,y:l}});this.setState({transform:e,previewShifts:r,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(i=>{let r=this.props.galleryInstance.querySelector('[slot="'+i.slot+'"]');if(r){let n=parseFloat(r.getAttribute("freeform-x")||0),a=parseFloat(r.getAttribute("freeform-y")||0);r.setAttribute("freeform-x",n+this.state.transform.x),r.setAttribute("freeform-y",a+this.state.transform.y)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(i=>i._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:i}=this.props;Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{let l=i[n]["freeform-x"];r.setAttribute("freeform-x",l+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:r,attributeMap:n}=this.props,a=Array.from(this.props.galleryInstance.children).filter(m=>m.tagName==="MEDIA-ITEM"),l=9e9,u=-9e9;a.forEach((m,b)=>{let C=n[b];l=Math.min(l,C["freeform-x"]),u=Math.max(u,C["freeform-x"]+C["freeform-scale"])});let c=100/(u-l),d=l,f=Math.abs(c*e);if(f>.1)for(;f>5;)f*=.5;a.forEach((m,b)=>{let C=n[b],S=C["freeform-scale"]||30,A=C["freeform-x"],F=C["freeform-y"],_=(A+-d)*c,X=F*c;m.setAttribute("freeform-x",_),m.setAttribute("freeform-y",X),m.setAttribute("freeform-scale",c*S)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":f})})};componentDidMount(){Ce.globalDragEventController.on("dragstart",this.onDragStart),Ce.globalDragEventController.on("dragover",this.onDragOver),Ce.globalDragEventController.on("drop",this.onDragDrop),Ce.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,Ce.globalDragEventController.off("dragstart",this.onDragStart),Ce.globalDragEventController.off("dragover",this.onDragOver),Ce.globalDragEventController.off("drop",this.onDragDrop),Ce.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,i){i.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},dk=uC});var hk,Kg,Fae,Ti,cC=R(()=>{we();Ee();La();Da();qg();lt();Pe();pk();mu();Ki();er();hk=de(Ie(),1);tr();j();Kg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=be()}render(e,i){let{adminMode:r,baseNode:n,pageInfo:a,"mobile-grid":l,"mobile-gutter":u,"mobile-columns":c,"mobile-horizontal-align":d,"mobile-vertical-align":f,"hover-pop":m,"magnetic-snap":b,"magnetic-snap-margin":C}=e;if(l&&e.isMobile)return this.renderedMobileGrid=!0,g(oC,{...this.props,columns:c,gutter:u,verticalAlign:f,horizontalAlign:d,baseNode:n,adminMode:r,pageInfo:a});let{elWidth:S}=i,A=0,F=0,_=0,X=Array.from(n.children).filter(z=>z.tagName=="MEDIA-ITEM"),k=[],B=[],G=-1;X.forEach((z,re)=>{let ne=!1,q={"freeform-scale":parseFloat(z.getAttribute("freeform-scale")),"freeform-x":parseFloat(z.getAttribute("freeform-x")),"freeform-y":parseFloat(z.getAttribute("freeform-y")),"freeform-z":parseFloat(z.getAttribute("freeform-z"))},L={slot:"slot-"+re,itemResize:this.onItemResize};(isNaN(q["freeform-scale"])||isNaN(q["freeform-x"])||isNaN(q["freeform-y"])||isNaN(q["freeform-z"]))&&(ne=!0,q["freeform-scale"]=Number.isNaN(parseFloat(z.getAttribute("freeform-scale")))?20:parseFloat(z.getAttribute("freeform-scale")),q["freeform-x"]=Number.isNaN(parseFloat(z.getAttribute("freeform-x")))?_*1.5:parseFloat(z.getAttribute("freeform-x")),q["freeform-x"]=q["freeform-x"]%80,q["freeform-y"]=Number.isNaN(parseFloat(z.getAttribute("freeform-y")))?_*1.5:parseFloat(z.getAttribute("freeform-y")),q["freeform-z"]=9999,_++);let Q=parseFloat(q["freeform-x"])*.01*S,K=parseFloat(q["freeform-y"])*.01*S,$=parseInt(q["freeform-z"]),fe=parseFloat(q["freeform-scale"])*.01*S,J=fe,Z=z._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};J=Z.mediaItemSize.height+Z.mediaItemSize.padSize,A=Math.max(K+J,A),ne||(G=re,F=A),q.widthPx=fe,q.xPx=Q,q.yPx=K,q.z=$,q.writeAttributes=L,B.push(q)});let V=100*(F/S),te=0;for(var D=G+1;D<B.length;D++){let re=X[D]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},ne=re.mediaItemSize.height+re.mediaItemSize.padSize,q=te*1.5+V,L=q*.01*S;B[D]["freeform-y"]=q,B[D].yPx=L,A=Math.max(B[D].yPx+ne,A),te++}return B.forEach((z,re)=>{let ne=X[re],{widthPx:q,yPx:L,xPx:Q,z:K,writeAttributes:$}=z,fe=ne._props||{};this.renderedMobileGrid&&(fe.itemResize=null),co(ne,{...fe,...$},fe,!1,!1),k.push({width:q+"px","--base-translate":`translate(${Math.floor(Q)}px, ${Math.floor(L)}px)`,"--z-index":K+1})}),this.renderedMobileGrid=!1,g(oe,{children:[this.props.children,Ke(g(oe,{children:[g("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${A}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${k.map((z,re)=>`::slotted(media-item[slot="slot-${re}"]){
							width: ${z.width};
							--base-translate: ${z["--base-translate"]};
							--z-index: ${z["--z-index"]};
						} `).join("")}						
					
					${m?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),g(oe,{children:[g("div",{id:"freeform-holder",ref:this.holderRef,children:X.map((z,re)=>g("slot",{name:`slot-${re}`}))}),g(Wr,{values:{elWidth:"100%"},onResize:this.onResize})]}),r&&a.isEditing&&!H.isServer&&g(dk,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:Ti.mediaItemOptions,disabledMediaItemOptions:Ti.disabledMediaItemOptions,mediaItems:X,elWidth:S,elHeight:A,hoverPop:m,magneticSnap:b,magneticSnapMargin:C,attributeMap:B})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,i){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}},Fae=qt(po(ke((t,e)=>({adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}))(Kg)));li(Fae,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});Ti={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onIncrementEnd:function(t){if(t==0)return;let e=this.state.galleryParent;e&&(clearTimeout(this.commitXShift),this.commitXShift=setTimeout(()=>{e._freeformEditor?.commitTransform()},120))}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onIncrementEnd:function(t){if(t==0)return;let e=this.state.galleryParent;!this.state.canMutate||!e||(clearTimeout(this.commitYShift),this.commitYShift=setTimeout(()=>{e._freeformEditor?.commitTransform()},120))}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(t){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform"),i=hk.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+i.length)})})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitHorizontalShift),this.commitHorizontalShift=setTimeout(()=>{e._freeformEditor?.commitHorizontalShift()},120))}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitZoom),this.commitZoom=setTimeout(()=>{e._freeformEditor?.commitZoom()},120))}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitHorizontalShift),this.commitHorizontalShift=setTimeout(()=>{e._freeformEditor?.commitHorizontalShift()},120))}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onIncrementEnd:function(t){let e=this.state.activeGallery;e&&(clearTimeout(this.commitZoom),this.commitZoom=setTimeout(()=>{e._freeformEditor?.commitZoom()},120))}}]}],onMediaItemChange:function(t){let e=this.state.galleryParent;return e?(Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"shift-x":e._freeformEditor?.previewTransform({x:r,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:r},this.state.selectedMediaItems);break}}),{...t}):{...t}},onChange:function(t){let e=this.state.activeGallery;e&&Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"horizontalShift":e._freeformEditor?.horizontalShift(r);break;case"zoom":e._freeformEditor?.zoom(r);break}})}};Ti.mediaItemDefaults=H.collapseOptions(Ti.mediaItemOptions);Ti.defaults=H.collapseOptions(Ti.options);Ti.mobileDefaults=H.collapseOptions(Ti.mobileOptions);Kg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":Ti.defaults["magnetic-snap"].value,"magnetic-snap-margin":Ti.defaults["magnetic-snap-margin"].value,"hover-pop":Ti.defaults["hover-pop"].value,"mobile-grid":Ti.mobileDefaults["mobile-grid"].value,"mobile-gutter":Ti.mobileDefaults["mobile-gutter"].value,"mobile-columns":Ti.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":Ti.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":Ti.mobileDefaults["mobile-vertical-align"].value}});var fk,dC,gk,mk=R(()=>{we();fk=de(Ie(),1);Lt();Ui();gu();j();dC=class extends se{constructor(e){super(e),this.state={}}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:a,mediaItems:l}=e;return g(uo,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:r,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.renderBracket}})}onBracketClick=(e,i,r)=>{this.dragStarted||(r&&(r.preventDefault(),Be.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)i.removeAttribute("justify-row-end");else{let n=i.previousSibling,a=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;i.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,i)=>{let{gutterWidth:r,gutterHeight:n}=this.props,a=i.assignedSlot;if(!a)return null;let l=a.parentElement.lastChild==a,u=i.getAttribute("justify-row-end")==="true",c="pointer";return u||(c="e-resize"),g("div",{className:`justify-bracket${u?" row-end":""}`,style:{"--media-item-pad":-i._size.mediaItemSize.padSize*.5+-1+"px"},onClick:d=>{this.onBracketClick(u,i,d)},onMouseDown:d=>{this.onMouseDown(i,d)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,i)=>{let r=e.assignedSlot;if(!r)return;let{mediaItems:n}=this.props;i.preventDefault();let a=r.parentElement,l=Array.from(a.children);this.delta=0,this.initialPoint=i.clientX,this.rowItems=l,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:i}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){Be.setHoveredElements([this.props.galleryInstance]),Be.lock(),document.body.classList.add("dragging");let r=i[this.indexOfFirstInRow-1];r&&this.onBracketClick(!1,r,null),this.attrCache=i.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=fk.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:i,rowAlign:r}=this.props,n=e/12,a=Math.round(this.delta/n);(r=="fill"||r=="right")&&(a=a*-1);let l=Math.max(a+this.rowItems.length,1);Be.setHoveredElements([this.props.galleryInstance]),Be.lock(),this.attrCache.forEach((u,c)=>{c>=this.indexOfFirstInRow&&c<=this.indexOfFirstInRow+l&&(u=!1,(c==this.attrCache.length-1||c==this.indexOfFirstInRow+l+-1)&&(u=!0));let d=i[c],f=d.getAttribute("justify-row-end");u&&f!=="true"?d.setAttribute("justify-row-end",u):!u&&d.hasAttribute("justify-row-end")&&d.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{Be.unlock(),Be.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,i,r)=>{let n=!1,a=i,l=e[e.length-1],u=e[0];for(;l&&e.indexOf(l)>-1;)l=l.nextElementSibling;for(;u&&e.indexOf(u)>-1;)u=u.previousElementSibling;r.left>-1&&r.right>-1?(i===e[e.length-1]&&(l=e[e.length-1]),i===e[0].nextElementSibling&&(u=e[0])):r.left>-1&&r.right==-1?l=null:r.right>-1&&r.left==-1&&(u=null),u&&r.left>-1&&(u.getAttribute("justify-row-end")=="true"||u.getAttribute("justify-row-end")==!0)&&(u.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},gk=dC});var pC,em,vn,Nae,hC=R(()=>{we();Ee();La();Ee();Da();lt();mu();Pe();tr();mk();er();Ki();pC=de(Ie(),1);j();em=class extends Ii{constructor(e){super(e),this.state={isMobile:tt.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=be(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+150;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{gutterPixelWidth:r,gutterHeight:n,targetPxHeight:a,elHeight:l,isMobile:u,hasSizes:c}=i,{children:d,adminMode:f,pageInfo:m,baseNode:b}=e,{elWidth:C}=i;c||(C=this.props.baseNode.offsetWidth);let{"row-align":S,"row-height":A,gutter:F}=e;F=u&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let _="";u&&this.props["mobile-row-align"]!==void 0&&(S=this.props["mobile-row-align"],_="mobile-"),u&&this.props["mobile-row-height"]!==void 0&&(A=this.props["mobile-row-height"]);let X=F.split(" "),k=(X.length>1,X[0]);k.includes("rem")&&u&&(k="calc( var(--mobile-padding-offset, 1) * "+k+" )");let B=X.length>1?X[1]:X[0];B.includes("rem")&&u&&(B="calc( var(--mobile-padding-offset, 1) * "+B+" )");let G=H.getCSSValueAndUnit(A,"%").join(""),V=this.getMediaItems(),te=V.slice(0,this.state.renderLimit),D=this.brickLayout(te),z=[];return V.forEach((re,ne)=>{let q=D.attributes[ne]||{slot:null},L=re._props||{};co(re,{...L,...q},L,!1,!1)}),g(oe,{children:[g(oe,{children:this.props.children}),Ke(g(oe,{children:[g("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${r}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${D.shadowStyleMap.map((re,ne)=>`::slotted(media-item[slot="slot-${ne}"]){
		${re.style};
		${re.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${re.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${re.itemStatuses.lastChild&&!re.itemStatuses.orphanRow&&S==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${C+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${D.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${_}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${_}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${_}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${_}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${_}row-align="center"]) ::slotted(media-item.last-child),
:host([${_}row-align="left"]) ::slotted(media-item.last-child),
:host([${_}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),g(Wr,{values:{targetPxHeight:G,gutterPixelWidth:k,gutterHeight:B,elWidth:"100%"},onResize:this.onResize}),D.shadow,f&&m.isEditing&&!H.isServer&&g(gk,{...e,gallerySpecificAttributes:["justify-row-end"],galleryInstance:b,gutterWidth:r,gutterHeight:n,elWidth:C,rowHeight:G,rowAlign:S,mediaItems:V,incrementLayout:this.onItemResize}),g("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,i)=>{e==="targetPxHeight"&&(i=Math.max(i,10)),this.setState({[e]:i,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){tt.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:vn.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){tt.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};brickLayout=e=>{let i=window.devicePixelRatio>1?2:1,{isMobile:r}=this.state,{"row-align":n}=this.props;r&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let a={},l=r&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],u=!1,c=e.map((k,B)=>{let G=this.getItemSize(k,l);return this.getItemSize(k,l)});for(let k=c.length-1;k>=0;k--){let B=c[k];B.rowEnd||u?(B.inDesignatedRow=!0,u=!0):B.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,a,c),this.findValidRowCache=null;let d=[],f=pC.default.keys(a).sort(function(k,B){return parseInt(k)-parseInt(B)}),m=f[f.length-1];for(;m!=null;){let k=a[m];a[k.parent]&&(a[k.parent].path=a[k.parent].edges[m]),d.unshift(k),m=k.parent}let b=[],C=[],S=[],A=this.state.targetPxHeight,F=this.state.elWidth,_=this.state.gutterPixelWidth,X=0;return d.forEach((k,B)=>{let G=k.path,V=[];if(!G)return;let te=0,D=!1;for(let z=G.startIndex;z<G.breakBefore;z++){let re=e[z],ne=G.breakBefore-G.startIndex,q=z+1==G.breakBefore,L=re._size||{width:1,height:1,mediaSize:{width:1,height:1,padSize:0},mediaItemSize:{width:1,height:1,padSize:0}},Q=L.mediaSize.padSize+L.mediaItemSize.padSize,K=(A+-Q)/L.height,$,fe;$=L.width*K+Q,fe=L.height*K+L.mediaSize.padSize;let J=F+-G.rowWidth;if(n!=="fill"||D)J=Math.min(0,J),X=G.rowWidth;else if(J/F>.5&&q&&B==0&&!G.position=="forcebreak"){D=!0,z=G.startIndex-1;continue}if(J!==0){let ce=($+-Q)/G.contentWidth,he=G.rowWidth-G.contentWidth,ve=F-he;$=ce*ve,fe=$*(L.height/L.width)+L.mediaSize.padSize,$=$+Q}$=Math.floor($*i)/i,te=fe;let Z={},ee="";z==G.startIndex&&(Z.firstChild=!0),z+1==G.breakBefore&&(Z.lastChild=!0),B+2==d.length&&(Z.lastRow=!0),Z.orphanRow=D,S[z]={style:`width: ${$}px`,itemStatuses:Z},C[z]={slot:`slot-${z}`,itemResize:this.onItemResize},V[z]=g("slot",{name:`slot-${z}`},`slot-${z}`)}te=Math.floor(te*i)/i,b.push(g("div",{className:`justify-row${D?" orphan-row":""}`,style:{"--frame-padding":te+"px"},children:V},`justify-row-${B}`))}),{shadow:b,attributes:C,shadowStyleMap:S,orphanRowWidth:X}};findValidRows=(e,i)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let r=e,n=0,a=0,l=0,u=0,c=0,d={},f=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(f=this.props["mobile-row-align"]);for(let m=e;m<i.length;m++){let b=l,C=u,S=i[m],A=S.mediaSize.padSize+S.mediaItemSize.padSize,F=(this.state.targetPxHeight+-A)/S.height;if(u=S.width*F,l=u+A,m===e?(c=1,n=l,a=l+-A):(n=n+this.state.gutterPixelWidth+l,a=a+u,c++),S.rowEnd){d[m+1]={position:"forcebreak",penalty:-9e9,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:a};break}else if(n>this.state.elWidth){if(S.inDesignatedRow)continue;d[m]={position:"under",itemCount:c+-1,penalty:0,startIndex:e,breakBefore:m,rowWidth:n+-(this.state.gutterPixelWidth+l),contentWidth:a-u},f==="fill"||m===e?d[m+1]={position:"over",penalty:0,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:a}:m-1>-1&&(d[m-1]={position:"oneunder",penalty:.11,itemCount:c+-2,startIndex:e,breakBefore:m-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+b),contentWidth:a-(u+C)});break}else if(m==i.length-1){f!=="fill"&&m==e?d[m+1]={position:"orphan",penalty:.5,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:a}:d[m+1]={position:"last",penalty:.06,itemCount:c,startIndex:e,breakBefore:m+1,rowWidth:n,contentWidth:a};break}else c+-2>0&&!S.inDesignatedRow&&f==="fill"&&(d.mid={position:"mid",penalty:.06,itemCount:c+-2,startIndex:e,breakBefore:m-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+b),contentWidth:a-(u+C)})}if(d.hasOwnProperty("mid")){let m=d.mid.breakBefore;!d.hasOwnProperty(m)&&i.length<15&&(d[d.mid.breakBefore]=d.mid),delete d.mid}for(let m in d){let b=d[m],C=b.rowWidth/this.state.elWidth;b.distance=Math.abs(1-C)*Math.abs(1-C)*Math.abs(1-C),isNaN(b.penalty)||(b.distance=b.distance+b.penalty)}return this.findValidRowCache[e]=d,d};makeNodes=(e,i,r,n,a)=>{if(e===-1)return;let l={index:parseInt(e),edges:this.findValidRows(e,a),distanceToFirstNode:i,parent:r},u=!1;if(n[e]?l.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=l,u=!0):(n[e]=l,u=!0),u){let c=pC.default.keys(l.edges);for(let d=0;d<c.length;d++){let f=l.edges[c[d]];this.makeNodes(parseInt(c[d]),f.distance+l.distanceToFirstNode,l.index,n,a)}}};getItemSize=(e,i)=>{let r=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},n=e.getAttribute("justify-row-end")==="true"&&!i;return{...r,rowEnd:n}}},vn={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),t.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(i=>i.hasAttribute("justify-row-end")||i.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(i=>{i.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};vn.mediaItemDefaults=H.collapseOptions(vn.mediaItemOptions);vn.defaults=H.collapseOptions(vn.options);vn.mobileDefaults=H.collapseOptions(vn.mobileOptions);em.defaultProps={"show-tags":!0,"show-title":!0,gutter:vn.defaults.gutter.value,"row-align":vn.defaults["row-align"].value,"row-height":vn.defaults["row-height"].value,"mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};Nae=qt(po(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(em)));li(Nae,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});var rr,tm,fC,bk,vk=R(()=>{we();Ee();Lt();Ui();Ws();zo();er();Pe();rr=de(Ie(),1);j();tm=new Set;H.isServer||(window.addEventListener("mousedown",t=>{tm.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",t=>{tm.forEach(e=>{e.setState({noPointerEvents:!1})})}));fC=class extends se{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=be(),this.gearReaf=be(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=rr.default.debounce(this.saveColumnSettings,150),this.updateColumns=rr.default.throttle(this.updateColumns,40)}render(e,i){let{emptyColumns:r,gutter:n,columnSpans:a,displaySpans:l,layoutColumns:u,unitsToRemove:c,isMobile:d,mobileStack:f,mobileHideEmpty:m,elWidth:b,gutterWidth:C}=e,{activeIndex:S,delta:A,isDraggingHandle:F,adminWindow:_,showGhost:X,loaded:k,buttonHovered:B,focused:G,noPointerEvents:V}=i,te=rr.default.uniq(r).length==1&&r[0]==!0,D=rr.default.uniq(a).length==1&&a[0]==null,z=(b-C*(u-1))/u,re=a.length<u,ne=[],L=u%a.length==0||!D?u:a.length-c;d&&f&&(L=1);let Q=Math.max(0,(b-C*(L-1))/L),K=Math.max(1,C);Q=Q-(K-C);let $=23;for(let fe=0;fe<L;fe++){let J=(Q+K)*fe;ne.push(g("div",{className:"ghost-span",style:{transform:`translateX(${J}px)`,opacity:X?.04:0,width:Q+"px"}},`ghost-${fe}`))}return g(oe,{children:[g(ir,{baseNode:this.props.columnInstance}),g("style",{children:r.map((fe,J)=>fe?`
				::slotted(column-unit:nth-child(${J+1})){
					min-height: 1em;
				}`:"").join(`
`)}),g(mn,{onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:$,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:fe=>{let{pointerAttention:J,overlayPosition:Z}=fe,ee=0,ue=0,ce=-$,he=2;return Z.y<=$&&(ce=Z.height+1,Z.height+Z.y>tt.data.window.h+-$&&(ce=-Z.y+tt.data.window.h+-$+1,he=0)),g("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${J?" hover":""}${J?" button-hover":""}${G?" focus":""}`,style:{transform:`translate3d(${Z.x}px, ${Z.y}px, 0)`,width:Z.width+"px",height:Z.height+"px",display:J||B||G?"block":"none"},children:[(J||G||B)&&ne,(J||G||B)&&!(d&&f)?a.map((ve,Oe)=>{let Le=l[Oe];if(ve||(ve=u/a.length),Oe==a.length-1||Le=="hide"||(ee+=ve,ee>=u))return null;ue+=z*ve+(ve-1)*C+C;let Te=`${ue+-C*.5}px`,He=this.handleWidth*-.5;return C<=this.handleWidth-this.minHandleOverlap&&(He=C*-.5+-this.minHandleOverlap),g(oe,{children:[re&&Oe<u&&g("div",{style:{pointerEvents:V?"none":"auto",display:J||G||B?"block":"none",transform:`translateX(${Te})`,width:this.handleWidth+"px",marginLeft:`${He}px`},className:"column-divider-handle",onMouseDown:rt=>this.onMouseDown(rt,Oe)}),g("div",{style:{display:J||G||B?"block":"none",transform:`translateX(${Te})`,transition:F?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${Oe}`)]})}):null,g("div",{className:"in-editor-buttons",style:{pointerEvents:V?"none":"auto",transform:`translate(${he}px, ${ce}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:g("div",{className:"pointer-mask",children:[g("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),!d&&g(oe,{children:[g("button",{onMouseDown:this.removeColumn,className:"remove",children:g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:g("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),g("button",{onMouseDown:this.addColumn,className:`add ${a.length>=this.maxColumns?"disabled":""}`,children:g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[g("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),g("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.gearReaf.current.getBoundingClientRect(),r=this.props.columnInstance.getBoundingClientRect(),n={x:i.x+0,y:r.y+-190,left:i.left+0,right:i.right+0,top:r.top+0+-190,bottom:r.top+27+-190,width:i.width,height:i.height};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let i=this.columnCache.pop()||document.createElement("column-unit");i.removeAttribute("span"),i.removeAttribute("slot"),i.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(i),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(r=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let i=e?.altKey||!1,r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");r.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(r[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=r[r.length-1];if(i){let a=r[r.length-2];Array.from(n.childNodes).forEach(l=>{a.appendChild(l)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(a=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,i)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:i,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),Ce.adminWindow.addEventListener("pointermove",this.onPointerMove),Ce.adminWindow.addEventListener("pointercancel",this.onPointerUp),Ce.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),Ce.adminWindow.removeEventListener("pointermove",this.onPointerMove),Ce.adminWindow.removeEventListener("pointercancel",this.onPointerUp),Ce.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:i,pointerStart:r,instanceRect:n,referenceColumnSpans:a,isDraggingHandle:l}=this.state,{gutterWidth:u,displaySpans:c,unitsToRemove:d,layoutColumns:f,units:m}=this.props;if(l){let b=[...a];if(rr.default.uniq(a).length==1&&a[0]==null){let D=0,z=0,re=0,ne=m/b.length-Math.floor(m/b.length),q=Math.floor(m/b.length),L=b.map((Q,K)=>{z=z+ne;let $=q;return z>1&&($=$+1,z=z-1),K==b.length-1&&($=m-D),D=D+$,$});this.setState({referenceColumnSpans:L});return}let S=(n.width-u*(f-1))/f,A=0,F=[];b.forEach((D,z)=>{D||(D=f/b.length);let re=S*D+(D-1)*u;(z==i||z==i+1)&&F.push({x:A,width:re}),c[z]!="hide"&&(A+=re+u)});let _=20,{left:X}=n,k={x:e.clientX-(F[1].x+X+-u*.5),y:e.clientY-r.y},B=b.map((D,z)=>{let re=D,ne=S*D+(D-1)*u;return z==i?(re=(ne+k.x+u)/(S+u),Math.round(Math.max(Math.min(re,m-1),1))):c[z]=="hide"?D:Math.round(Math.max(Math.min(re,m-1),1))}),G=i+1;for(;c[G]=="hide";)G++;let V=rr.default.sum(B)-B[G];B[G]=m-V,B[G]==0&&(B[G]+=1,B[i]-=1),rr.default.uniq(B).length==1&&rr.default.sum(B)==m&&(B=B.map(D=>{})),Math.abs(k.x)>4&&this.updateColumns(B),this.setState({delta:k})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:i,units:r}=this.props;if(i.length==0||rr.default.uniq(i).length==1&&i[0]==null)return;let a=i.includes(void 0),l=rr.default.sum(i),u=[...i],c=!1;if(l!=r||a){if(l>r)c=!0;else if(l<=r)if(a){let f=r-l,m=i.filter(C=>C==null).length,b=Math.floor(f/m);i.forEach((C,S)=>{if(S==i.length-1&&f>0)u[S]=f;else if(C==null&&f==0){let A=S;for(;A>=0&&i[A]<2||i[A]==null;)A--;i[A]>1?(u[S]=Math.floor(i[A]/2),u[A]=i[A]-u[S]):c=!0}else C==null?(u[S]=b,f-=b):u[S]=C})}else{let f=r-l;u[u.length-1]=f+u[u.length-1]}(rr.default.uniq(u).length==1&&rr.default.sum(u)==r||c)&&(u=u.map(f=>{})),this.updateColumns(u)}else this.updateColumns(i)};updateColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),r=[];i.forEach((n,a)=>{e[a]==null?r.push([n,null]):parseInt(n.getAttribute("span"))!=e[a]&&r.push([n,e[a]])}),r.length>0&&(CargoEditor?.mutationManager?.execute(()=>{r.forEach(([n,a])=>{a===null?n.removeAttribute("span"):n.setAttribute("span",a)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{Ce.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,i,r)=>{r.fromOutside&&!r.inAdmin?(Be.activateHoverElement(this.props.columnInstance),Be.lockItem(this.props.columnInstance)):(Be.unlockItem(this.props.columnInstance),Be.deactivateHoverElement(this.props.columnInstance))};onDragStart=(e,i,r)=>{Be.activateHoverElement(this.props.columnInstance),Be.lockItem(this.props.columnInstance)};onDragEnd=(e,i)=>{Be.unlockItem(this.props.columnInstance),Be.testHover()};componentDidUpdate(e,i){(!rr.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(r=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=rr.default.throttle(()=>{Be.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:rr.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let i=!1;e.forEach(r=>{Array.from(r.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0),Array.from(r.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0)}),i&&(this.columnObserver.disconnect(),i&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let i=!0;e.forEach(r=>{r.type=="attributes"&&r.attributeName==="span"&&(i=!0)}),i&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(a=>a.tagName=="COLUMN-UNIT"),r=i.length;if(r!=e){if(r<e)for(var n=0;n<e-r;n++){let a=this.columnCache.pop()||document.createElement("column-unit");a.removeAttribute("span"),this.props.columnInstance.appendChild(a)}else if(e<r)for(var n=r-1;n>=e;n--){let l=i[n];this.columnCache.push(l.cloneNode(!0)),l.setAttribute("data-discarded-column",!0),l.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){tm.add(this),Ce.globalDragEventController.on("dragover",this.onDragOver),Ce.globalDragEventController.on("dragstart",this.onDragStart),Ce.globalDragEventController.on("dragend",this.onDragEnd),Ce.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(r=>r.tagName=="COLUMN-UNIT").forEach(r=>{this.columnObserver.observe(r,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let i=[];if(Array.from(this.props.columnInstance.childNodes).forEach((r,n)=>{r.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(r),i.push(r))}),i.length>0&&console.warn("removed stray elements from column set",i),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,Be.activateHoverElement(this.props.columnInstance),Be.lockItem(this.props.columnInstance);let r=n=>{this.showOutlinesTimeout=setTimeout(()=>{Be.unlockItem(this.props.columnInstance),Be.testHover()},500),window.removeEventListener("mousedown",r)};window.addEventListener("mousedown",r)}this.testHoverTimeout=setTimeout(()=>{Be.testHover()},300)}componentWillUnmount(){tm.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),Ce.globalDragEventController.off("dragover",this.onDragOver),Ce.globalDragEventController.off("dragstart",this.onDragStart),Ce.globalDragEventController.off("dragend",this.onDragEnd),Ce.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}},bk=fC});var Ik,im,_ae,yk=R(()=>{we();Ee();lt();Pe();Da();er();_s();La();Ik=de(Ie(),1);tr();Ki();pu();vk();j();im=class extends se{constructor(e){super(e),this.state={mobileActive:tt.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,i){let{adminMode:r,baseNode:n,pageInfo:a,"mobile-stack":l,"mobile-hide-empty":u,"mobile-gutter":c,units:d}=e,{gutterWidth:f,mobileActive:m,hasSizes:b}=i,{elWidth:C}=i;b||(C=this.props.baseNode.offsetWidth);let S=[],A="";m?c===void 0?(S=H.getCSSValueAndUnit(e.gutter,"rem"),S[1].indexOf("calc(")>-1?A=S[1].replace("calc(","("):A=S.join(""),A="calc( var(--mobile-padding-offset, 1) * "+A+" )"):(S=H.getCSSValueAndUnit(c,"rem"),A=S.join(""),A.includes("rem")&&(A="calc( var(--mobile-padding-offset, 1) * "+A+" )")):(S=H.getCSSValueAndUnit(e.gutter,"rem"),A=S.join(""));let F=Array.from(n.children).filter(q=>q.nodeName==="COLUMN-UNIT"&&!q.hasAttribute("data-discarded-column"));Array.from(n.children).filter(q=>q.nodeName==="COLUMN-UNIT"&&q.hasAttribute("data-discarded-column")).forEach(q=>{q.remove()});let X=F.map(q=>!Array.from(q.childNodes).some(L=>L.nodeType===Node.ELEMENT_NODE||L.nodeType===Node.TEXT_NODE&&L.nodeValue.trim().length>0)),k=F.map(q=>parseInt(q.getAttribute("span"))||void 0),B=0,G=k.map((q,L)=>(m&&X[L]&&(u||l)?(B=B+(parseInt(q)||1),q="hide"):q=q||"uniform",q)),V=G.filter(q=>q=="uniform"||q=="hide").length==G.length,te=Math.max(F.length,this.props.units);V&&(B=G.filter(q=>q=="hide").length),te=te-B;let{columnAndGutterMap:D,columnWidth:z,gutterPixelWidth:re}=fu(V?F.length-B:te,f,C),ne="";if(m&&l){ne=`::slotted(column-unit){
				--column-width: ${C}px;
				--resize-parent-width: ${C}px;

			}`;let q=Ik.default.findLastIndex(G,L=>L!=="hide");G.forEach((L,Q)=>{L=="hide"?ne+=`
					::slotted(column-unit[slot="${Q}"]) {
						display: none;
					}`:Q<q&&(ne+=`
					::slotted(column-unit[slot="${Q}"]) {
						margin-bottom: ${re}px;
					}`)})}else{let q=0;ne=G.map((L,Q)=>{let K,$;switch(L){case"uniform":return K=D[q]?.right-D[q]?.left||10,q+=1,`::slotted(column-unit[slot="${Q}"]) {
							--column-width: ${K}px;
							--resize-parent-width: ${K}px;
						}`;case"hide":return`::slotted(column-unit[slot="${Q}"]) {
							display: none;
						}`;default:return K=D[q+(L+-1)]?.right-D[q]?.left||10,q+=L,`::slotted(column-unit[slot="${Q}"]) {
							--column-width: ${K}px;
							--resize-parent-width: ${K}px;
						}`}}).join(`
				`)}return F.forEach((q,L)=>{q.setAttribute("slot",L)}),Ke(g(oe,{children:[g(lo,{adminMode:r,baseNode:n,customElementMode:!0,children:[g("style",{children:`
						:host{
							visibility: ${b?"visible":"hidden"};
			 				--columns-gutter: ${re}px;
							margin-top: calc(var(--gutter-expand, 0) * ${re}px);
		
							position: relative;
							display: block;
							contain: layout;
						}
						.column-host {
							${m&&l?`
									display: block;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
							position: relative;
							width: 100%;
							clear: both;
						}				
					`}),g("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${m&&l?0:re+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--column-width);
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${ne}				
					`}),g(Wr,{values:{elWidth:"100%",gutterWidth:A},onResize:this.onResize}),g("div",{class:"column-host",children:F.map((q,L)=>g("slot",{name:L}))})]}),r&&a.isEditing&&!H.isServer&&g(bk,{elWidth:C,gutterWidth:f,emptyColumns:X,isMobile:m,mobileStack:l,mobileHideEmpty:u,layoutColumns:te,units:d,columnSpans:k,unitsToRemove:B,displaySpans:G,gutter:A,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){tt.on("mobile-change",this.onMobileChange)}componentWillUnmount(){tt.off("mobile-change",this.onMobileChange)}};im.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};_ae=qt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(im));li(_ae,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var cBe,gC,Ck,Ak=R(()=>{we();Ee();Lt();Ws();Ui();cBe=de(Ie(),1);zo();j();gC=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{audioPlayerInstance:r}=e,{draggingOver:n,showInsertionIndicator:a,buttonHovered:l,focused:u}=i,c=23;return g(oe,{children:[g("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),g(mn,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:d=>{let{pointerAttention:f,overlayPosition:m}=d,b=0;return m.y<=1&&(b=Math.min(-m.y+1,m.height+-c+1)),g(oe,{children:[g(ir,{baseNode:r,overlayPosition:m,inFront:!1,overlayMode:!0}),g("div",{className:`editor-overlay editor-outline${f?" hover":""}${f?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${m.x}px, ${m.y}px, 0)`,width:m.width+"px",height:m.height+"px",display:f||l||u?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${b}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:C=>{this.launchUIWindow(C)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},Ck=gC});var yBe,mC,Xd,bC,Wae,wk=R(()=>{we();Ee();cs();yBe=de(Ie(),1);Pe();lt();tr();Ki();Ak();j();H.isServer||(mC=new ResizeObserver(t=>{t.forEach(e=>{if(Xd.has(e.target)){let i=Xd.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;i.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));Xd=new Map,bC=class extends se{constructor(e){super(e),this.audio_track=be(),this.bar=be(),this.track_buffer=be(),this.current_time=be(),this.progressIndicator=be(),this.state={size:{width:100,height:100},seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:!0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,i){let{baseNode:r,adminMode:n,src:a,label:l,loop:u,"total-time":c,"playback-time":d,"seek-controls":f,"browser-default":m,pageInfo:b}=e,{visible:C}=i,S=!this.state.paused||this.state.started;return Ke(g(oe,{children:[n&&b.isEditing&&g(Ck,{audioPlayerInstance:r}),g("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${m?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${m&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${!this.state.streaming&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${S&&this.state.streaming?"block":"none"};
					}

					[part="total-time"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),g("div",{part:"button",onClick:A=>this.togglePlay(A),children:g("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?g("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):g(oe,{children:[g("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),g("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),g("div",{part:"separator",children:"\xA0"}),g("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:A=>this.onMouseDown(A),onTouchStart:A=>this.onMouseDown(A),onTouchEnd:A=>this.onMouseUp(A),children:[g("div",{ref:this.track_buffer,part:"buffer",children:" "}),g("div",{part:"progress",children:g("div",{ref:this.progressIndicator,part:"progress-indicator"})}),g("div",{part:"label",children:this.state.hasError?"Unable to load file":g(oe,{children:this.props.label})}),g("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),g("div",{part:"stream-anim",children:[g("span",{part:"animated-period period-one"}),g("span",{part:"animated-period period-two"}),g("span",{part:"animated-period period-three"})]}),g("div",{part:"total-time",children:this.state.totalTime})]}),g("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:m===!0,src:this.props.src?this.props.src:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:"metadata",onProgress:A=>this.onProgress(A),onLoadedMetaData:A=>this.onProgress(A),onTimeUpdate:A=>this.updatePlayerTime(A),onSeeking:A=>this.onSeekStart(A),onSeeked:A=>this.onSeekEnd(A),onEnded:A=>this.onTrackEnd(A),onError:A=>this.onError(A),onCanPlay:A=>this.clearError(A)})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0},()=>{this.props.baseNode.setAttribute("status","playing")})};setPauseState=e=>{this.setState({paused:!0},()=>{this.props.baseNode.setAttribute("status","stopped")}),this.state.streaming&&this.setInitialState()};setInitialState=(e,i)=>{this.state.streaming&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0},()=>{this.props.baseNode.setAttribute("status",i?.error===!0?"error":"stopped")})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let i=this.bar.current.getBoundingClientRect(),r=e.clientX||e.touches[0].clientX;r<i.left?this.audio_track.current.currentTime=0:r>i.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((r-i.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),document.body.classList.remove("audio-player-dragging"),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!this.state.mouseInteractionDisabled)if(this.audio_track.current.paused){let i=this.audio_track.current.play();Xd.forEach((r,n)=>{r!==this&&(r.audio_track.current.pause(),r.setPauseState())}),i?i.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onProgress=e=>{if(this.audio_track.current){if(e&&e.type==="loadedmetadata")if(isFinite(this.audio_track.current.duration)){let i=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:i,streaming:!1,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","stopped")})}else this.setState({totalTime:0,streaming:!0,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","streaming")});this.updateBufferSize()}};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":i}=this.props;if(i)return;let r=!1,n=this.audio_track.current.currentTime,a=this.timestampToHumanReadable(n),l=n/this.audio_track.current.duration*100,u=this.state.size.width,c=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(l>=99.5||l===0)&&(r=!0),u*(l/100)<c&&(l=(100-l)*(c/u)),this.setState(d=>{let f=l;return d.dragging&&Math.abs(d.currentProgress-l)>1&&(f=l*.1+d.currentProgress*.9),this.updateBufferSize(.01*f*this.audio_track.current.duration),{currentTime:a,currentBuffer:f,currentProgress:f,preventTransition:r}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};updateBufferSize=e=>{if(!this.audio_track.current)return;let i,r=e||this.audio_track.current.currentTime,n=0;for(var a=0;a<this.audio_track.current.buffered.length;a++)if(r>=this.audio_track.current.buffered.start(a)&&r<=this.audio_track.current.buffered.end(a)){i=Math.max(this.audio_track.current.buffered.end(a)-r,0),n=i/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var i=Math.floor(e%60),r=Math.floor(e/60),n=Math.floor(r/60);return i<10&&(i="0"+i),n>0?(r=r-n*60,r<10&&(r="0"+r),n+":"+r+":"+i):r+":"+i};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){H.isServer||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),Xd.set(this.bar.current,this),mC.observe(this.bar.current))}componentDidUpdate(e){e.src!==this.props.src&&e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play())}componentWillUnmount(){H.isServer||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),Xd.delete(this.bar.current),mC.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},Wae=qt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(bC));li(Wae,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var XBe,vC,IC,xk=R(()=>{we();Ee();Lt();Ws();Ui();XBe=de(Ie(),1);zo();j();vC=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{shopProductInstance:r}=e,{draggingOver:n,showInsertionIndicator:a,buttonHovered:l,focused:u}=i;return g(oe,{children:g(mn,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:c=>{let{pointerAttention:d,overlayPosition:f}=c;return g(oe,{children:[g(ir,{baseNode:r,overlayPosition:f,inFront:!1,overlayMode:!0}),g("div",{className:`editor-overlay editor-outline${d?" hover":""}${d?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:d||l||u?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${f.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:m=>{this.launchUIWindow(m)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.shopProductInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},IC=vC});function Gae(t,e,i,r){var n;if(r!==void 0&&(t=t*r),typeof e!="string")n=t/100+"";else{var a=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],l={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),a.indexOf(e)===-1&&(t/=100),typeof Intl<"u"?n=new Intl.NumberFormat(i,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(t):n=(l.hasOwnProperty(e)?l[e]:e+" ")+""+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var u=n.split(".");u.length===2&&u[1].length===1&&(u[1]=u[1]+"0",n=u.join("."))}return n}var Di,Sk,Oae,Tae,Dae,Ms,yC,rm,Lae,CC,Bae,Rk=R(()=>{we();Ee();cs();Di=de(Ie(),1);Pe();lt();ai();tr();Ki();Ls();xk();pu();zr();j();Sk="Product not found",Oae="Out of Stock",Tae="Add to Cart",Dae="Unavailable",Ms={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},yC=[],rm=null,Lae=t=>(rm||(rm=new Promise((e,i)=>{requestAnimationFrame(()=>{Xt.dispatch(actions.fetchCommerceProducts({idArray:yC})).then(e).catch(i),yC.length=0,rm=null})})),yC.push(t),rm);CC=class extends se{constructor(e){super(e),this.uid=Di.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:i,adminMode:r}=this.props;if(!this.props.productData)return this.state.loading?null:Ke(g(oe,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&g(IC,{shopProductInstance:this.props.baseNode}),g("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:Sk})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,a=this.props.uses||"";return Ke(g(lo,{uses:a,adminMode:r,customElementMode:!0,baseNode:i,children:g("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&g(IC,{shopProductInstance:this.props.baseNode}),this.props.productData?g(oe,{children:[e.showPrice&&this.state.selectedVariant&&g("div",{part:"price",class:"price",children:Gae(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?g("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(l=>l.is_default?null:g("option",{value:l.variant_id,children:Di.default.values(l.attributes).join(", ")}))}):Di.default.keys(this.props.productData.attributes).map(l=>g("select",{"variant-option":l,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[g("option",{disabled:!0,children:l}),this.getAttributeVariations(l).map(u=>g("option",{selected:this.state.selectedVariant?.attributes[l]===u,value:u,children:u}))]})):null,g("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:l=>{n||this.addToCart(l)},children:n?Oae:this.state.selectedVariant?e.buttonInStockText:Dae})]}):Sk]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var i=Di.default.without(Di.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),r=this.props.productData.attributes[e];return r&&i.sort(function(n,a){var l=r.indexOf(n),u=r.indexOf(a);return l<u?-1:l==u?0:1}),i}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let i=JSON.parse(Di.default.unescape(this.props.baseNode.getAttribute("data-options")));Di.default.each(i,(r,n)=>{Ms[n]&&!this.props.baseNode.hasAttribute(Ms[n])&&this.props.baseNode.setAttribute(Ms[n],Di.default.escape(r))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=Di.default.mapValues(Ms,(i,r)=>{if(!this.props.baseNode.hasAttribute(i))return;let n=Di.default.unescape(this.props.baseNode.getAttribute(i));return(r==="showPrice"||r==="mergevariantdropdowns")&&(n=n=="true"),n});return Di.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:Tae}),e}setOptions(e){Di.default.each(e,(i,r)=>{Ms.hasOwnProperty(r)&&this.props.baseNode.setAttribute(Ms[r],Di.default.escape(i))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),Zn.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():Lae(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(r=>r.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let r=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==r)}else{var i=Di.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(r,n){return r[Di.default.escape(n.getAttribute("variant-option"))]=Di.default.escape(n.value),r},{});e=this.props.productData.variants.find(r=>Di.default.isEqual(r.attributes,i))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,i){this.state.selectedVariant===i.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},Bae=qt(ke((t,e)=>({adminMode:t.frontendState.adminMode,productData:t.commerce.products[e.product],currency:t.commerce.shop.currency||"USD",locale:t.commerce.shop.locale||"en-US",shopId:t.site.shop_id}),t=>wt({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},t))(CC));li(Bae,"shop-product",Object.values(Ms),{renderIntoShadow:!0})});var AC,Ek,Fk=R(()=>{we();j();AC=class extends se{constructor(e){super(e),this.caveRef=be(),this.shadowRef=be()}render(){return g("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:g("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,i){this.observer=new IntersectionObserver(r=>{r.forEach(n=>{let a="right";switch(n.intersectionRatio){case 0:a="left";break;case 1:a="center";break}this.props.onTextAlignmentChange?.(a)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},Ek=AC});var xMe,wC,Nk,_k=R(()=>{we();Ee();Lt();Ws();Ui();zo();xMe=de(Ie(),1);j();wC=class extends se{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,i){let{}=e,{UIWindow:r}=i,n=23;return g(oe,{children:g(mn,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:a=>{let{pointerAttention:l,overlayPosition:u}=a,c=0;return u.y<=1&&(c=Math.min(-u.y+1,u.height+-n+1)),g(oe,{children:[g(ir,{baseNode:this.props.marqueeInstance,overlayPosition:u,overlayMode:!0}),g("div",{className:`editor-overlay editor-outline${l||r?" hover":""}${l||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,width:u.width+"px",height:u.height+"px",display:l||r?"block":"none",minHeight:"27px"},children:[g("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${c}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[g("button",{onMouseDown:d=>{this.launchUIWindow(d)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.marqueeInstance.getBoundingClientRect(),r={x:i.x+-10,y:i.y,left:i.right+-10,right:i.right+-10,top:i.top+0,bottom:i.top+27,width:i.width,height:10};Ce.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:r,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let i={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let r=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(i.x,i.y);(!n||!r.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(r,0),n.setEnd(r,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(Array.from(e).filter(l=>{if(l.type==="attributes"){if(l.target.nodeName==="MEDIA-ITEM")return!0;if(l.target.nodeName==="MARQUEE-INNER")return!1}else return!l.target.closest?.("media-item")}).length==0)return;let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(l=>!l.hasAttribute("slot")||l.getAttribute("slot")==="contents");if(!r)return;let n=Array.from(r?.childNodes??[])[0],a=!0;for(;n&&a;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(a=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:a})};onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let i=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),r=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');i&&r?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==i&&n!==r&&n.remove()}):i&&!r&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),this.innerObserver.observe(i,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragStart=(e,i,r)=>{this.setState({draggingInEditor:!0}),Be.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(i=>!i.hasAttribute("slot")||i.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),Ce.globalDragEventController.on("dragstart",this.onDragStart),Ce.globalDragEventController.on("dragend",this.onDragFinish),Ce.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),Ce.globalDragEventController.off("dragstart",this.onDragStart),Ce.globalDragEventController.off("dragend",this.onDragFinish),Ce.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,i){this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(i.marqueeIsEmpty!==this.state.marqueeIsEmpty||i.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},Nk=wC});var nm,Ba,Zd,om,Au,xC,Wk,am,Mae,Ok=R(()=>{we();Ee();_s();lt();Pe();Ki();Da();Fk();er();_k();gn();nm=de(Ie(),1);tr();j();Ba=new Map,Zd=new Map,om=null;H.isServer||(Au=new ResizeObserver(t=>{t.forEach(e=>{Zd.has(e.target)?Zd.get(e.target).onMarqueeInnerResize(e):Ba.has(e.target)&&Ba.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",t=>{Ba.forEach((e,i)=>{t.target.contains(i)&&(i.dirty=!0)})}));xC=0,Wk=t=>{let e=xC===0?0:t-xC;Ba.forEach((i,r)=>{i.animate(e)}),xC=t,om=requestAnimationFrame(Wk)},am=class extends se{constructor(e){super(e),this.uid=nm.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={start:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=be(),this.marqueePositionerCloneRef=be(),this.contentRef=be(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:i=>{this.setState({paused:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:i=>{this.setState({built:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:i=>{this.setState({dirty:!!i})},configurable:!0})}render(e,i){let r=e.behavior==="bounce",n=e.behavior==="scroll",a=e.direction==="vertical",l=e.direction==="horizontal",u=e.direction==="diagonal";u&&n&&(u=!1,l=!0);let{adminMode:c,pageInfo:d,baseNode:f,"vertical-height":m,gutter:b=0}=e,{contentRect:C,elementRect:S,built:A,marqueeHeight:F,gutterPixelWidth:_}=i,X=H.getCSSValueAndUnit(m,"vh").join(""),k=b!==void 0?H.getCSSValueAndUnit(b,"rem").join(""):"0px",B={marqueeHeight:X};b!==void 0&&b!==0&&(B.gutterPixelWidth=k);let G=_,V=_;l&&(G=0),a&&(V=0);let te=n&&a?0:2,D=n&&l?0:2;return Ke(g(oe,{children:[c&&d.isEditing&&g(Ek,{onTextAlignmentChange:this.onTextAlignmentChange}),g("style",{children:`

					:host {
						--marquee-vertical-padding: ${te}rem;
						--marquee-horizontal-padding: ${D}rem;
						--marquee-vertical-margin: ${-te}rem;
						--marquee-horizontal-margin: ${-D}rem;
						contain: layout;
						${A?`
							cursor: default;
							min-height: .5em;
							${c&&d.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;`:""}
						`:`
							min-height: ${r&&!l?F+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${A?a||u?F+"px":C.height+S.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${S.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${A?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${a||u?"height: "+F+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${A?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${A?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${A&&l?"nowrap":"normal"};					
						display: ${A?"inline-block":"block"};
						${!A&&(a||u)?"min-height: "+F+"px;":""}
						min-width: ${S.width}px;
						${A?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${r||!A?"none":"block"};
						left: ${l?Math.max(C.contentWidth,S.width)+V:0}px;
						top: ${a?Math.max(C.height,S.height)+G:0}px;			
					    position: absolute;
					}

					
				`}),g("div",{className:"marquee-margin",children:[!A&&g("slot",{name:"contents"}),c&&d.isEditing&&!H.isServer&&g(Nk,{...this.props,marqueeInstance:f,isDragging:this.state.pointerInfo.dragging}),g(Wr,{values:B,onResize:this.onResize}),g("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+S.vertPad*.5)+"px)"},ref:this.contentRef,children:[g("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:A&&g("slot",{name:"contents"})}),g("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:A&&n&&g("slot",{name:"contents-clone"})})]})]})]}),f.shadowRoot)}onClickCapture=e=>{this.state.pointerInfo.dragging&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{vt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};onLazyloadIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{vt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),Ci(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Ci(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Ba.size==0&&(cancelAnimationFrame(om),om=requestAnimationFrame(Wk)),Ba.set(this.props.baseNode,this),Au.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,i){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==i.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==i.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),Si(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Si(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),document.body.removeEventListener("pointerleave",this.onPointerUp),Au.unobserve(this.props.baseNode),Ba.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(Zd.delete(e),Au.unobserve(e)),this.contentsObserver.disconnect(),Ba.size==0&&cancelAnimationFrame(om)}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e?(Zd.delete(e),Au.unobserve(e),Array.from(e.querySelectorAll("marquee-inner")).forEach(r=>{r.remove()})):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(r=>{e.appendChild(r)}),this.props.baseNode.appendChild(e)),e.setAttribute("slot","contents"),e.setSaveable(!0),Zd.set(e,this),Au.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!1});let i=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(i||(i=document.createElement("marquee-inner"),i.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(i));i.lastChild;)i.lastChild.remove();Array.from(e.childNodes).forEach(r=>{i.appendChild(r.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(r=>{r!==e&&r!==i&&r.remove()}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=()=>{this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={start:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=nm.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:i,marginLeft:r,width:n}=this.state.contentRect,a=e.childNodes[0],l=e.childNodes[e.childNodes.length-1];if(a&&l){let u=document.createRange();u.setStartBefore(a),u.setEndAfter(l);let c=u.getBoundingClientRect(),d=e.getBoundingClientRect();r=c.left-d.left,i=c.width}else r=0,i=n;this.setState(u=>({contentRect:{...u.contentRect,marginLeft:r,contentWidth:i}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=i.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:i.inlineSize,height:i.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:i.inlineSize,height:i.blockSize,vertPad:i.blockSize-r.blockSize,horizPad:i.inlineSize-r.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;let i=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY;e.target.closest("a")||e.preventDefault(),this.pointerMovement={start:{x:i,y:r},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{pointerDown:!0,dragging:!1}}),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerUp)};onPointerMove=e=>{let i={x:e.clientX-this.pointerMovement.start.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.start.y+this.pointerMovement.delta.y},r=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.start.x)>3||Math.abs(e.clientY-this.pointerMovement.start.y)>3;this.pointerMovement={start:{x:e.clientX,y:e.clientY},inertia:i,delta:i},this.setState({pointerInfo:{pointerDown:!0,dragging:r}})};onPointerUp=e=>{document.body.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),this.afterPointerUp=setTimeout(()=>{this.setState({pointerInfo:{dragging:!1,pointerDown:!1}})},0)};animate=e=>{let{built:i,paused:r,elementRect:n,contentRect:a,pointerInfo:l,mediaItemLocations:u,gutterPixelWidth:c}=this.state,{positionX:d,positionY:f,movingRight:m,movingDown:b,translateX:C,translateY:S,pointerMovement:A}=this,{speed:F,friction:_}=this.props;if(!i||!this.contentRef.current)return;let X=!1;F=r||l.dragging?0:F,this.pauseCount<0&&(this.pauseCount++,F=0),F=F*(e/16.6667);let k=this.props.behavior==="bounce",B=this.props.behavior==="scroll",G=this.props.direction==="vertical",V=this.props.direction==="horizontal",te=this.props.direction==="diagonal",D=c,z=c;te&&B&&(te=!1,V=!0),_=1-parseFloat(_)*.01,F=parseFloat(F)*.1;let re=F,ne=F,q=Math.abs(A.inertia.y)>.01||Math.abs(A.inertia.x)>.01;l.pointerDown||l.dragging?(X=!0,ne=A.delta.x,re=A.delta.y):q&&(X=!0,k?(b?re=Math.abs(re)+Math.abs(A.inertia.y):re=-Math.abs(re)+-Math.abs(A.inertia.y),m?ne=Math.abs(ne)+Math.abs(A.inertia.x):ne=-Math.abs(ne)+-Math.abs(A.inertia.x)):(ne=ne+A.inertia.x,re=re+A.inertia.y)),k&&!l.dragging&&(b?re=Math.abs(re):re=-Math.abs(re),m?ne=Math.abs(ne):ne=-Math.abs(ne)),re!==0&&(b=re>0),ne!==0&&(m=ne>0),(G||te)&&(f=re+f),(V||te)&&(d=ne+d);let L=!1;if(k){let J=a.contentWidth,Z=a.height,ee=-a.marginLeft,ue=n.width+-J+-a.marginLeft,ce=0,he=n.height-Z;J>=n.width&&(ee=n.width-J,ue=0),Z>=n.height&&(ce=n.height-Z,he=0),m&&d>ue&&(V||te)?(L="right",d=ue,m=!1):!m&&d<ee&&(V||te)&&(L="left",d=ee,m=!0),b&&f>he&&(G||te)?(L="bottom",f=he,b=!1):!b&&f<ce&&(G||te)&&(L="top",f=ce,b=!0),V?S=0:S=f,G?C=0:C=d}else if(B){V&&(z=0),G&&(D=0);let J=Math.max(a.contentWidth,n.width)+D,Z=Math.max(a.height,n.height)+z;J>0&&(d=(d-J)%J),Z>0&&(f=(f-Z)%Z),G?(C=0,S=f):V&&(C=d,S=0)}L&&this.dispatchBounceEvent(L);let Q=l.dragging?{x:A.delta.x,y:A.delta.y}:{x:A.inertia.x*_,y:A.inertia.y*_};this.positionX=d,this.positionY=f,this.translateX=C,this.translateY=S,this.movingRight=m,this.movingDown=b;let K=Math.abs(F)>1?2:4,$=Math.floor(this.translateX*K)/K,fe=Math.floor(this.translateY*K)/K;($!==this.lastXClamp||fe!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+$+"px, "+(fe+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=$,this.lastYClamp=fe,X&&(this.pointerMovement={...this.pointerMovement,inertia:Q,delta:{x:0,y:0}})};dispatchBounceEvent=nm.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};am.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"70vh",friction:5};Mae=qt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(am));li(Mae,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var ike,wu,sm,kae,Tk=R(()=>{we();Ee();lt();Pe();_s();zo();ike=de(Ie(),1);tr();Ki();j();wu=new Map,sm=class extends se{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,i){let r=i.iconElement.customDimensions.width/i.iconElement.customDimensions.height;return g(oe,{children:Ke(g(oe,{children:[g("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${r};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?g(ir,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,i)=>{let r=this.props.icon||null;if(r)if(wu.has(r))e(wu.get(r));else{let a=r.indexOf("https://")===0?r:"https://build.cargo.site/frontend/30c2bd/icon/icons/"+r+".svg",l=a.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(l)!=-1){let u=document.createElement("img");u.src=a,u.onload=()=>{let c=g("img",{part:"img",src:r,width:u.naturalWidth,height:u.naturalHeight});wu.set(r,{imgVdom:c,customDimensions:{width:u.naturalWidth,height:u.naturalHeight}}),u.onload=null,e(wu.get(r))}}else l=="svg"?fetch(a,{mode:"cors"}).then(u=>u.ok?u.text():i("bad response")).then(u=>{let c=document.createElement("div");c.innerHTML=u;let d={width:32,height:32},f=Array.from(c.children).map((m,b)=>{let C=m.tagName.toLowerCase()=="svg";return C&&m.hasAttribute("width")&&m.hasAttribute("height")&&(d.width=m.getAttribute("width"),d.height=m.getAttribute("height")),hu(m,null,{part:C?"svg":b,key:r+"-"+b,draggable:!0})});if(f.length>0){if(wu.set(r,{imgVdom:f,customDimensions:d}),r!==this.props.icon){i("icon name mismatch");return}e(wu.get(r))}else i("Icon not found at ",a)}).catch(u=>{i(u)}):i("invalid url")}else i("Icon not found",url)}).then(e=>{this.setState({iconElement:e})})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};sm.defaultProps={icon:null};kae=qt(ke((t,e)=>({adminMode:t.frontendState.adminMode}))(sm));li(kae,"text-icon",["icon"],{delegatesFocus:!0})});function Zae(t){let e=H.isServer?t.site?.is_template:t.site?.is_template&&parent===window;return{hasSitePackage:t.frontendState.hasSitePackage,adminInitialized:t.adminState?.initialized||!1,inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,showCargoLogo:!e&&t.site?.show_cargo_logo,customHTML:t.site?.custom_html,access_level:t.site?.access_level,website_title:t.site?.website_title,domain_active:t.site?.domain_active,domain:t.site?.domain,site_url:t.site?.site_url,site_id:t.site?.id,fonts:t.site?.fonts,fontsLoaded:t.frontendState.fontsLoaded,stylesheet:t.css?.stylesheet,hasAuth:t.auth.authenticated,canDuplicate:e,activePID:t.frontendState.activePID,itemsInCart:go.default.values(t.commerce.cart).reduce((i,r)=>i+=r?.quantity||0,0)}}function Pae(t){return wt({fetchSitePackage:De.fetchSitePackage,updateFrontendState:De.updateFrontendState,getAuthToken:De.getAuthToken},t)}var Dk,go,Lk,lm,um,SC,Xae,RC,cm,EC=R(()=>{we();ai();lt();Dk=de(Nc(),1),go=de(Ie(),1);Pe();Gt();ig();Py();ao();XM();er();Ng();PM();Fy();QM();ak();tr();qg();Eg();lC();cC();hC();yk();wk();Rk();Ok();Tk();Ui();zr();j();Lk=!1,lm=!1,um=!0,SC=(t=!1)=>{(t||Lk&&lm&&um)&&setTimeout(()=>{um&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},Xae=async t=>{let e=[];if(t.hasSitePackage!==!0&&e.push(t.fetchSitePackage()),H.isServer&&t.fonts&&go.default.isArray(t.fonts)){let i=[...t.fonts].filter(n=>n.provider!=="google"),r=jy({context:"server",families:i});r.then(n=>{t.updateFrontendState({fontsLoaded:go.default.uniq(t.fontsLoaded.concat(i.map(a=>a.family))),serverRenderedFontCSS:n.filter(a=>a??!1)})}),e.push(r)}await Promise.allSettled(e),Lk=!0,SC()},RC=class extends se{constructor(e){if(super(e),this.state={checkedExistingAuth:!!H.isServer,checkedCookieAuth:!!H.isServer,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null},!H.isServer){if(Promise.resolve().then(()=>(Vg(),Hy)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href="https://build.cargo.site/frontend/30c2bd/css/front-end/frontend-interface.css",a.id="frontend-interface",n.appendChild(a)}this.setMobileClass(this.props.isMobile);let i=0,r=0;window.addEventListener("backdrop-load-start",()=>{um=!1,i++}),window.addEventListener("backdrop-load-complete",()=>{r++,r===i&&(um=!0,SC())})}this.globalStyleRef=be(),this.customHTMLRef=be(),this.scrollingElement={current:H.isServer?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(H.isServer)return;let e=this.props.store.getState(),i,r="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?i=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(i=e.sets.byId[this.props.activePID])),this.props.website_title&&(r=`${i?.title?`${i.title} \u2014 `:""}${this.props.website_title}`),r!==document.title&&(document.title=r)};render(){if(this.props.hasSitePackage!==!0)return null;if(this.props.access_level==="password"||this.props.access_level==="private"){let r=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(n=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?r=g(bu,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(r=g(Dg,{message:"This site is private."})),this.onFontLoad(!0)),g(oe,{children:g(Yy,{children:r})})}if(!H.isServer&&!H.isAdminEdit&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!H.isSitePreview)return window.location.hostname=this.props.domain,null;let e=this.props.customHTML,i=this.props.canDuplicate&&!H.isServer;return g(oe,{children:[i?g(oe,{children:g("a",{id:"dl-duplicate-site",class:"dl-duplicate",href:`${Na}?duplicate=${this.props.site_id}`,onClick:r=>{this.props.domain_active||(r.preventDefault(),fetch("https://cargo.site/accesstoken"+`?site_id=${this.props.site_id}`,{credentials:"include"}).then(a=>a.json()).then(a=>{a?.access_token?window.location.href=`${Na}?duplicate=${this.props.site_id}`:this.setState({loginBeforeDuplicatingSite:!0})}).catch(()=>{this.setState({loginBeforeDuplicatingSite:!0})}))},children:g("svg",{width:"84",height:"19",viewBox:"0 0 84 19",children:[g("path",{fill:"#027aff",d:"m0,9.5C0,4.25,3.96,0,8.85,0h66.14c4.89,0,8.85,4.25,8.85,9.5s-3.96,9.5-8.85,9.5H8.85C3.96,19,0,14.75,0,9.5Z"}),g("path",{fill:"#fff",d:"m9.29,4.54h2.47c2.38,0,3.6,1.42,3.6,4.2s-1.21,4.25-3.6,4.25h-2.47V4.54Zm1.22,1.08v6.29h1.11c1.7,0,2.49-1,2.49-3.16s-.8-3.13-2.49-3.13h-1.11Z"}),g("path",{fill:"#fff",d:"m22.23,6.61v6.39h-1.14v-1.11h-.08c-.33.79-1.05,1.23-2.01,1.23-1.39,0-2.14-.83-2.14-2.37v-4.14h1.18v3.86c0,1.09.44,1.61,1.38,1.61s1.63-.69,1.63-1.72v-3.74h1.17Z"}),g("path",{fill:"#fff",d:"m27.47,6.51c1.47,0,2.41,1.05,2.41,2.71v1.17c0,1.66-.94,2.71-2.41,2.71-.93,0-1.59-.4-1.85-1.12h-.11v3.16h-1.21V6.61h1.18v1.01h.11c.3-.73.96-1.11,1.88-1.11Zm-.39,1.04c-.98,0-1.6.69-1.6,1.79v.96c0,1.1.62,1.79,1.6,1.79s1.61-.7,1.61-1.79v-.96c0-1.1-.63-1.79-1.61-1.79Z"}),g("path",{fill:"#fff",d:"m37.19,13h-5.36v-.95h2.14v-6.97h-2.09v-.96h3.26v7.93h2.05v.95Z"}),g("path",{fill:"#fff",d:"m41.91,5.12c-.52,0-.91-.36-.91-.87s.39-.87.91-.87.91.36.91.87-.38.87-.91.87Zm2.7,7.88h-5.36v-.95h2.15v-4.49h-2.1v-.95h3.25v5.44h2.06v.95Z"}),g("path",{fill:"#fff",d:"m51.95,8.67h-1.16c-.11-.74-.69-1.18-1.46-1.18-1.04,0-1.61.73-1.61,2.04v.54c0,1.31.57,2.04,1.61,2.04.79,0,1.35-.43,1.46-1.15h1.16c-.16,1.36-1.12,2.16-2.61,2.16-1.78,0-2.8-1.07-2.8-2.93v-.79c0-1.86,1.03-2.92,2.8-2.92,1.49,0,2.46.8,2.61,2.19Z"}),g("path",{fill:"#fff",d:"m55.93,13.11c-1.22,0-2.03-.77-2.03-1.92s.82-1.8,2.31-1.89l1.68-.09v-.56c0-.73-.46-1.14-1.28-1.14-.68,0-1.17.29-1.32.8h-1.15c.12-1.05,1.12-1.77,2.49-1.77,1.54,0,2.42.77,2.42,2.12v4.37h-1.12v-.93h-.11c-.3.66-.99,1.03-1.89,1.03Zm.36-.98c.91,0,1.59-.6,1.59-1.42v-.67l-1.52.08c-.85.05-1.29.4-1.29,1.02s.47,1,1.22,1Z"}),g("path",{fill:"#fff",d:"m62.9,4.87h1.16v1.78h2.53v.97h-2.51v3.45c0,.63.44.98,1.25.98.3,0,1.08-.01,1.22-.03v.96c-.13.02-1.05.05-1.3.05-1.63,0-2.35-.59-2.35-1.96v-3.45h-1.69v-.97h1.69v-1.78Z"}),g("path",{fill:"#fff",d:"m73.1,11.31h1.12c-.17,1.07-1.22,1.81-2.6,1.81-1.79,0-2.82-1.05-2.82-2.87v-.97c0-1.68,1.1-2.79,2.75-2.79s2.68,1.1,2.68,2.92v.69h-4.28v.29c0,1.08.65,1.77,1.66,1.77.76,0,1.32-.32,1.48-.84Zm-1.55-3.86c-.99,0-1.59.68-1.59,1.82h3.13c0-1.14-.57-1.82-1.54-1.82Z"})]})})}):g(oe,{children:this.props.showCargoLogo&&g("a",{id:"cargo-dotsite",class:"cargodotsite",href:"https://cargo.site",target:"_blank",children:g("svg",{width:"84",height:"19",viewBox:"0 0 84 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85203 0C3.96319 0 0 4.2533 0 9.50005C0 14.7467 3.9632 18.9999 8.85203 18.9999H74.9948C79.8836 18.9999 83.8468 14.7467 83.8468 9.50005C83.8468 4.2533 79.8836 0 74.9948 0H8.85203ZM63.5625 4.05077H61.4194L61.8679 1.92424H64.0111L63.5625 4.05077ZM61.4858 13.3875H59.4756L61.2034 5.28016H63.2136L61.4858 13.3875ZM14.2135 10.53C13.8812 12.4405 12.17 13.6865 10.0435 13.6865C7.83393 13.6865 6.40517 12.2744 6.40517 9.98175C6.40517 7.34024 8.14958 5.01435 11.0237 5.01435C13.2665 5.01435 14.5458 6.39327 14.5291 8.56963H12.5688C12.5521 7.47314 12.0537 6.62586 10.9573 6.62586C9.34575 6.62586 8.39878 8.33704 8.39878 9.94855C8.39878 11.261 9.07994 12.0916 10.1432 12.0916C11.1068 12.0916 11.9208 11.4437 12.1368 10.53H14.2135ZM20.0586 12.4571C19.5602 13.1051 18.7295 13.6865 17.5998 13.6865C16.0381 13.6865 14.9416 12.6067 14.9416 11.2277C14.9416 9.41695 16.4701 8.68593 18.1314 8.51979L19.8924 8.33704C20.5902 8.27059 20.856 7.98816 20.856 7.52298C20.856 6.99135 20.3576 6.52617 19.5103 6.52617C18.5966 6.52617 18.065 7.00797 17.9321 7.6725H15.7889C16.0049 6.09422 17.3506 5.01435 19.4439 5.01435C21.7864 5.01435 23.1653 6.22713 22.6503 8.66931L21.6535 13.3875H19.7928L19.8562 13.1336C19.9044 12.9393 19.9677 12.6844 20.0586 12.4571ZM16.9352 11.1779C16.9352 11.8591 17.417 12.1913 18.0816 12.1913C19.1781 12.1913 20.1084 11.2776 20.341 10.2475L20.5238 9.43355C20.3078 9.61625 19.9755 9.68275 19.4439 9.76585L18.7295 9.88205C17.7161 10.0482 16.9352 10.3472 16.9352 11.1779ZM25.3126 13.3875L26.1267 9.53325C26.542 7.58944 27.5886 6.99135 28.7682 6.99135C29.0174 6.99135 29.2168 7.02458 29.3663 7.05781L29.7982 5.0808C29.6819 5.04757 29.4992 5.01435 29.2832 5.01435C28.087 5.01435 27.2231 5.89486 26.6417 6.74215C26.7912 6.42649 26.8909 6.11084 26.9241 5.89486L27.0404 5.28016H25.0302L23.3024 13.3875H25.3126ZM36.5982 13.3376C36.05 15.946 34.7043 17.0757 32.4282 17.0757C30.202 17.0757 28.9062 15.9127 28.9062 13.7198H30.9496C30.9496 14.8827 31.448 15.4808 32.4947 15.4808C33.4749 15.4808 34.2557 14.9159 34.5215 13.7031L34.7209 12.7728C34.7873 12.4239 34.8538 12.1581 34.9701 11.8757C34.372 12.6067 33.6908 13.0884 32.611 13.0884C30.933 13.0884 29.4544 11.8092 29.4544 9.63285C29.4544 7.1741 31.1656 5.01435 33.4416 5.01435C34.9036 5.01435 35.7177 5.6955 36.0832 6.62586C36.0998 6.29359 36.1663 5.87825 36.2493 5.49614L36.2992 5.28016H38.3094L36.5982 13.3376ZM31.4646 9.54985C31.4646 10.6961 32.1458 11.4769 33.1924 11.4769C34.7209 11.4769 35.6845 9.91535 35.6845 8.48657C35.6845 7.43992 35.0365 6.62586 33.9899 6.62586C32.5113 6.62586 31.4646 8.07123 31.4646 9.54985ZM42.3466 13.6865C45.2207 13.6865 47.0316 11.56 47.0316 8.6527C47.0316 6.50956 45.5696 5.01435 43.3932 5.01435C40.5856 5.01435 38.7082 7.1741 38.7082 10.1146C38.7082 12.2744 40.1868 13.6865 42.3466 13.6865ZM42.4795 12.0916C41.3498 12.0916 40.7019 11.3773 40.7019 10.0814C40.7019 8.38688 41.6488 6.62586 43.2603 6.62586C44.3568 6.62586 45.038 7.32362 45.038 8.6527C45.038 10.3306 44.091 12.0916 42.4795 12.0916ZM50.4596 10.9121L49.9279 13.3875H47.4027L47.9343 10.9121H50.4596ZM55.1411 13.6865C57.251 13.6865 58.6299 12.6067 58.6299 10.9785C58.6299 9.69935 57.6165 9.06805 56.4369 8.68593L55.357 8.33704C54.5596 8.08784 54.3602 7.87187 54.3602 7.45653C54.3602 6.89167 54.8752 6.52617 55.6395 6.52617C56.6196 6.52617 57.2177 7.10765 57.2343 8.07123H59.2612C59.2114 6.16068 57.8657 5.01435 55.7391 5.01435C53.6624 5.01435 52.4164 6.11084 52.4164 7.5396C52.4164 8.66931 53.164 9.43355 54.5097 9.86545L55.4567 10.1645C56.2209 10.3971 56.6861 10.5798 56.6861 11.1447C56.6861 11.7428 56.0714 12.1747 55.1909 12.1747C54.1276 12.1747 53.4631 11.4769 53.4631 10.3805H51.4362C51.4362 12.4239 52.865 13.6865 55.1411 13.6865ZM67.0193 13.537C67.4845 13.537 67.8167 13.4706 68.0327 13.3875L68.365 11.8092C68.1822 11.8591 68.0327 11.8757 67.8167 11.8757C66.8698 11.8757 66.5707 11.3773 66.7535 10.4967L67.5177 6.89167H69.4947L69.827 5.28016H67.8666L68.4813 2.35619H66.471L65.8563 5.28016H64.0289L63.68 6.89167H65.5075L64.7432 10.4137C64.3445 12.2744 65.1087 13.537 67.0193 13.537ZM77.0728 10.9785C76.6741 12.5236 75.2453 13.6865 73.1022 13.6865C70.9756 13.6865 69.414 12.2744 69.414 10.015C69.414 7.34023 71.2082 5.01435 74.0491 5.01435C76.591 5.01435 77.8204 6.82522 77.3386 9.38365L77.2555 9.83225H71.4076C71.3245 11.0118 71.8728 12.0916 73.1354 12.0916C74.1322 12.0916 74.6306 11.6597 74.9463 10.9785H77.0728ZM74.0159 6.52617C72.9194 6.52617 72.0057 7.30701 71.7066 8.37027H75.4945C75.6606 7.19071 75.0792 6.52617 74.0159 6.52617Z",fill:"white"})})})}),g("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),g(ZM,{}),g(Yy,{}),g("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheet}}),g("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),g("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),g("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),g(cu,{scrollingElement:this.scrollingElement,children:[g(DM,{}),this.state.QuickView&&g(this.state.QuickView,{}),this.props.inAdminFrame&&g(dB,{}),this.state.loginBeforeDuplicatingSite&&g(iL,{loginToUdotCargoOnly:!0,canCreateNewAccount:!0,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:r=>{window.location.href=`${Na}?duplicate=${this.props.site_id}`}}),g(so,{portalHost:H.isServer?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),tt.on("mobile-change",this.onMobileChange),this.onMobileChange(tt.data.mobile.active),this.updateCartCounter()}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error(e)}onMobileChange=e=>{this.props.updateFrontendState({isMobile:e})};onFontLoad=(e=!1)=>{H.isServer||lm||(lm=!0,document.documentElement.classList.remove("wf-initial-load"),SC(e))};componentWillUnmount(){tt.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(i=>!this.props.fontsLoaded.includes(i.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:go.default.uniq(this.props.fontsLoaded.concat(e.map(i=>i.family)))}),jy({families:e}).then(()=>{lm||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,i){if(!H.isServer){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let r=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(r)}this.props.stylesheet!==e.stylesheet&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles()),this.props.fonts!==e.fonts&&go.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface()}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setLinkStyles=()=>{if(H.isServer||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="",n=[];go.default.each(i.rules,a=>{a?.style?.getPropertyValue("--text-style")&&n.push(a.selectorText)}),go.default.each(i.rules,a=>{n?.forEach(l=>{if(a.selectorText?.startsWith(l)&&a.selectorText?.includes(" a")){let u=a.selectorText?.replace(/^(.*)\s(\a(?:\:\S*)?)$/i,(c,d,f)=>f+d);a.selectorText!==u&&(r+=u+" { "+a.style?.cssText+" } ")}})}),this.setState({linkStylesString:r})};setInheritableFontSizes=()=>{if(H.isServer||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="";go.default.each(i.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let a=n.style.fontSize,l=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";r+=n.selectorText+" {--font-size: "+a+`;}
`,r+=n.selectorText+l+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:r})};setMobileOffsets=()=>{if(H.isServer)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=su(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:i})};getIsolatedStyleSheet=go.default.once(e=>{let i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),r=document.createElement("style");return r.innerHTML=e,i.children[0].appendChild(r),r})};cm=ru(ke(Zae,Pae)((0,Dk.frontloadConnect)(Xae,{onMount:!0,onUpdate:!1})(RC)))});var Gk,Bk=R(()=>{Gk=de(Ur(),1);Gk.default.defaults.validateStatus=function(t){return t>=200&&t<300}});var dm,FC,Mk=R(()=>{dm=de(Ur(),1);Pe();FC=new Map;H.isServer||(dm.default.interceptors.request.use(async t=>{if(t.use_cache===!0){let e=dm.default.getUri(t);FC.has(e)?t.adapter=function(i){return FC.get(e).cachedResponsePromise}:(t.cachedResponsePromise=new Promise((i,r)=>{t.resolveCachedResponsePromise=i,t.rejectCachedResponsePromise=r}),t.cachedResponsePromise.catch(i=>i),FC.set(e,t))}return t}),dm.default.interceptors.response.use(t=>(t.config.resolveCachedResponsePromise&&t.config.resolveCachedResponsePromise(t),t),t=>(t.config?.rejectCachedResponsePromise&&t.config.rejectCachedResponsePromise(t),Promise.reject(t))))});var NC,kk=R(()=>{NC=de(Ur(),1);Pe();Ls();Gt();H.isServer||(NC.default.interceptors.request.use(async t=>{if(t.use_auth!==!1){let e=Xt?.getState();t.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(t.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return t}),NC.default.interceptors.response.use(void 0,t=>(t.response?.status===403&&Xt.dispatch({type:xe.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(t))))});function pm(t){if(Uae.test(t+="")===!1)return t;for(var e=0,i=0,r="",n="";i<t.length;i++){switch(t.charCodeAt(i)){case 60:n="&lt;";break;case 62:n="&gt;";break;case 34:n="&quot;";break;case 38:n="&amp;";break;default:continue}i>e&&(r+=t.slice(e,i)),r+=n,e=i+1}return r+t.slice(e,i)}function Hk(t){var e="";for(var i in t){var r=t[i];r!=null&&r!==""&&(e&&(e+=" "),e+=i[0]=="-"?i:Pk[i]||(Pk[i]=i.replace(/([A-Z])/g,"-$1").toLowerCase()),e+=": ",e+=r,typeof r=="number"&&Vae.test(i)===!1&&(e+="px"),e+=";")}return e||void 0}function Ud(t,e){return Array.isArray(e)?e.reduce(Ud,t):e!=null&&e!==!1&&t.push(e),t}function Vk(){this.__d=!0}function Hd(t,e,i){e=e||{},i=i||{};var r,n=Se.__s;return Se.__s=!0,r=i.pretty||i.sortAttributes?Vd(t,e,i):Pd(t,e,i),Se.__c&&Se.__c(t,Uk),Uk.length=0,Se.__s=n,r}function Qk(t,e){return{__v:t,context:e,props:t.props,setState:Vk,forceUpdate:Vk,__d:!0,__h:[]}}function fm(t,e){var i=t.contextType,r=i&&e[i.__c];return i!=null?r?r.props.value:i.__:e}function Pd(t,e,i,r,n,a){if(t==null||typeof t=="boolean")return"";if(typeof t!="object")return pm(t);if(Array.isArray(t)){for(var l=[],u=0;u<t.length;u++)l.push(Pd(t[u],e,i,r,n,a));return l.join("")}var c=t.type,d=t.props,f=!1;if(typeof c=="function"){if(f=!0,!i.shallow||!r&&i.renderRootComponent!==!1){if(c===oe){var m=[];return Ud(m,t.props.children),Pd(m,e,i,i.shallowHighOrder!==!1,n,a)}var b,C=t.__c=Qk(t,e);Se.__b&&Se.__b(t);var S=Se.__r;if(c.prototype&&typeof c.prototype.render=="function"){var A=fm(c,e);(C=t.__c=new c(d,A)).__v=t,C._dirty=C.__d=!0,C.props=d,C.state==null&&(C.state={}),C._nextState==null&&C.__s==null&&(C._nextState=C.__s=C.state),C.context=A,c.getDerivedStateFromProps?C.state=Object.assign({},C.state,c.getDerivedStateFromProps(C.props,C.state)):C.componentWillMount&&(C.componentWillMount(),C.state=C._nextState!==C.state?C._nextState:C.__s!==C.state?C.__s:C.state),S&&S(t),b=C.render(C.props,C.state,C.context)}else for(var F=fm(c,e),_=0;C.__d&&_++<25;)C.__d=!1,S&&S(t),b=c.call(t.__c,d,F);return C.getChildContext&&(e=Object.assign({},e,C.getChildContext())),Se.diffed&&Se.diffed(t),Pd(b,e,i,i.shallowHighOrder!==!1,n,a)}c=jk(c)}var X,k,B="<"+c;if(d)for(var G in d){var V=d[G];if(G!=="children"){if(!hm.test(G)&&(i&&i.allAttributes||G!=="key"&&G!=="ref"&&G!=="__self"&&G!=="__source")){if(G==="defaultValue")G="value";else if(G==="defaultChecked")G="checked";else if(G==="defaultSelected")G="selected";else if(G==="className"){if(d.class!==void 0)continue;G="class"}else n&&Yk.test(G)&&(G=G.toLowerCase().replace(/^xlink:?/,"xlink:"));if(G==="htmlFor"){if(d.for)continue;G="for"}G==="style"&&V&&typeof V=="object"&&(V=Hk(V)),G[0]==="a"&&G[1]==="r"&&typeof V=="boolean"&&(V=String(V));var te=i.attributeHook&&i.attributeHook(G,V,e,i,f);if(te||te==="")B+=te;else if(G==="dangerouslySetInnerHTML")k=V&&V.__html;else if(c==="textarea"&&G==="value")X=V;else if((V||V===0||V==="")&&typeof V!="function"){if(!(V!==!0&&V!==""||(V=G,i&&i.xml))){B=B+" "+G;continue}if(G==="value"){if(c==="select"){a=V;continue}c==="option"&&a==V&&d.selected===void 0&&(B+=" selected")}B=B+" "+G+'="'+pm(V)+'"'}}}else X=V}if(B+=">",hm.test(c))throw new Error(c+" is not a valid HTML tag name in "+B);var D,z=zk.test(c)||i.voidElements&&i.voidElements.test(c),re="";if(k)B+=k;else if(X!=null&&Ud(D=[],X).length)for(var ne=0;ne<D.length;ne++){var q=D[ne];if(q!=null&&q!==!1){var L=Pd(q,e,i,!0,c==="svg"||c!=="foreignObject"&&n,a);L&&(re+=L)}}if(re.length||k)B+=re;else if(i&&i.xml)return B.substring(0,B.length-1)+" />";return!z||D||k?B+"</"+c+">":B.replace(/>$/," />")}function Vd(t,e,i,r,n,a){if(t==null||typeof t=="boolean")return"";if(typeof t!="object")return pm(t);var l=i.pretty,u=l&&typeof l=="string"?l:"	";if(Array.isArray(t)){for(var c="",d=0;d<t.length;d++)l&&d>0&&(c+=`
`),c+=Vd(t[d],e,i,r,n,a);return c}var f=t.type,m=t.props,b=!1;if(typeof f=="function"){if(b=!0,!i.shallow||!r&&i.renderRootComponent!==!1){if(f===oe){var C=[];return Ud(C,t.props.children),Vd(C,e,i,i.shallowHighOrder!==!1,n,a)}var S,A=t.__c=Qk(t,e);Se.__b&&Se.__b(t);var F=Se.__r;if(f.prototype&&typeof f.prototype.render=="function"){var _=fm(f,e);(A=t.__c=new f(m,_)).__v=t,A._dirty=A.__d=!0,A.props=m,A.state==null&&(A.state={}),A._nextState==null&&A.__s==null&&(A._nextState=A.__s=A.state),A.context=_,f.getDerivedStateFromProps?A.state=Object.assign({},A.state,f.getDerivedStateFromProps(A.props,A.state)):A.componentWillMount&&(A.componentWillMount(),A.state=A._nextState!==A.state?A._nextState:A.__s!==A.state?A.__s:A.state),F&&F(t),S=A.render(A.props,A.state,A.context)}else for(var X=fm(f,e),k=0;A.__d&&k++<25;)A.__d=!1,F&&F(t),S=f.call(t.__c,m,X);return A.getChildContext&&(e=Object.assign({},e,A.getChildContext())),Se.diffed&&Se.diffed(t),Vd(S,e,i,i.shallowHighOrder!==!1,n,a)}f=jk(f)}var B,G,V="<"+f;if(m){var te=Object.keys(m);i&&i.sortAttributes===!0&&te.sort();for(var D=0;D<te.length;D++){var z=te[D],re=m[z];if(z!=="children"){if(!hm.test(z)&&(i&&i.allAttributes||z!=="key"&&z!=="ref"&&z!=="__self"&&z!=="__source")){if(z==="defaultValue")z="value";else if(z==="defaultChecked")z="checked";else if(z==="defaultSelected")z="selected";else if(z==="className"){if(m.class!==void 0)continue;z="class"}else n&&Yk.test(z)&&(z=z.toLowerCase().replace(/^xlink:?/,"xlink:"));if(z==="htmlFor"){if(m.for)continue;z="for"}z==="style"&&re&&typeof re=="object"&&(re=Hk(re)),z[0]==="a"&&z[1]==="r"&&typeof re=="boolean"&&(re=String(re));var ne=i.attributeHook&&i.attributeHook(z,re,e,i,b);if(ne||ne==="")V+=ne;else if(z==="dangerouslySetInnerHTML")G=re&&re.__html;else if(f==="textarea"&&z==="value")B=re;else if((re||re===0||re==="")&&typeof re!="function"){if(!(re!==!0&&re!==""||(re=z,i&&i.xml))){V=V+" "+z;continue}if(z==="value"){if(f==="select"){a=re;continue}f==="option"&&a==re&&m.selected===void 0&&(V+=" selected")}V=V+" "+z+'="'+pm(re)+'"'}}}else B=re}}if(l){var q=V.replace(/\n\s*/," ");q===V||~q.indexOf(`
`)?l&&~V.indexOf(`
`)&&(V+=`
`):V=q}if(V+=">",hm.test(f))throw new Error(f+" is not a valid HTML tag name in "+V);var L,Q=zk.test(f)||i.voidElements&&i.voidElements.test(f),K=[];if(G)l&&Zk(G)&&(G=`
`+u+Xk(G,u)),V+=G;else if(B!=null&&Ud(L=[],B).length){for(var $=l&&~V.indexOf(`
`),fe=!1,J=0;J<L.length;J++){var Z=L[J];if(Z!=null&&Z!==!1){var ee=Vd(Z,e,i,!0,f==="svg"||f!=="foreignObject"&&n,a);if(l&&!$&&Zk(ee)&&($=!0),ee)if(l){var ue=ee.length>0&&ee[0]!="<";fe&&ue?K[K.length-1]+=ee:K.push(ee),fe=ue}else K.push(ee)}}if(l&&$)for(var ce=K.length;ce--;)K[ce]=`
`+u+Xk(K[ce],u)}if(K.length||G)V+=K.join("");else if(i&&i.xml)return V.substring(0,V.length-1)+" />";return!Q||L||G?(l&&~V.indexOf(`
`)&&(V+=`
`),V=V+"</"+f+">"):V=V.replace(/>$/," />"),V}function jk(t){return t.displayName||t!==Function&&t.name||function(e){var i=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!i){for(var r=-1,n=_C.length;n--;)if(_C[n]===e){r=n;break}r<0&&(r=_C.push(e)-1),i="UnnamedComponent"+r}return i}(t)}var Vae,Uae,Xk,Zk,Pk,Hae,_C,zk,hm,Yk,zae,Uk,Jk,qk=R(()=>{we();Vae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,Uae=/[&<>"]/;Xk=function(t,e){return String(t).replace(/(\n+)/g,"$1"+(e||"	"))},Zk=function(t,e,i){return String(t).length>(e||40)||!i&&String(t).indexOf(`
`)!==-1||String(t).indexOf("<")!==-1},Pk={};Hae={shallow:!0},_C=[],zk=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,hm=/[\s\n\\/='"\0<>]/,Yk=/^xlink:?./;Hd.render=Hd;zae=function(t,e){return Hd(t,e,Hae)},Uk=[];Hd.shallowRender=zae;Jk=Hd});var gm,$k,Yae,Qae,jae,Jae,qae,Kk,$ae,Kae,ese,eX=R(()=>{qk();lt();va();gm=de(Nc(),1),$k=de(Ur(),1);Pe();zI();EC();Gt();Py();j();$k.default.interceptors.request.use(function(t){return t.url&&(t.url=encodeURI(decodeURI(t.url))),t});Yae=(t,e)=>{if(!(t==="crdt_state"||t==="auth"||t==="editors"||t==="serverRenderedFontCSS"))return e},Qae=(t,e)=>{let i;e.frontendState.activePID&&e.frontendState.activePID!==e.site.homepage_id&&e.frontendState.activePID!==e.site.mobile_homepage_id&&e.frontendState.activePID!=="root"&&(e.pages.byId[e.frontendState.activePID]?i=e.pages.byId[e.frontendState.activePID]:e.sets.byId[e.frontendState.activePID]&&(i=e.sets.byId[e.frontendState.activePID]));let r=!1;(i&&i.access_level==="password"||e.site.access_level==="private"||e.site.access_level==="password")&&(r=!0);let n;e.site.website_title?n=`${i?.title?`${i.title} \u2014 `:""}${e.site.website_title}`:n=t.match(/<title>(?<title>.*?)<\/title>/)?.groups?.title||"";for(let c of Object.keys(e.pages.byId))e.pages.byId[c].access_level!=="public"&&delete e.pages.byId[c];for(let c of Object.keys(e.sets.byId))e.sets.byId[c].access_level!=="public"&&delete e.sets.byId[c];let a=JSON.stringify(e,Yae).replace(/</g,"\\u003c"),l=r?'<meta name="robots" content="noindex">':"";return{statefulHtml:t.replace(/<title>.*?<\/title>/,()=>`
			<title>${n}</title>
			<script>window.__PRELOADED_STATE__=${a}<\/script>
			${l}`),title:n,privateAccess:r}},jae=(t,e)=>t.replace(/<body.*?>/,i=>`${i}${e}`),Jae=(t,e,i,r,n)=>{let a="",l="",u="";if(r.site.favicon_url&&(a=`<link rel="icon" href="${r.site.favicon_url}" sizes="any">`),!i&&(r.site.has_site_description||r.site.site_preview_type!=="none")){let c=r.site.site_preview_url||"",d=Xo(n,{path:Jo.PAGE_PATH,exact:!0,strict:!1});if(d){let f,m=d.params.page?.toLowerCase();if(m){for(let b of Object.keys(r.pages.byId))if(r.pages.byId[b].purl?.toLowerCase()===m){f=r.pages.byId[b];break}}if(f&&f.thumb_media_id){let b=f.media?.find(C=>C.id===f.thumb_media_id);b&&b.width>200&&b.height>200&&(c=`https://freight.cargo.site/w/${Math.min(1200,b.width)}/i/${b.hash}/${b.name}`)}}l=`
			<meta name="description" content="${r.site.site_description}">
			<meta name="twitter:card" content="summary_large_image">
			<meta name="twitter:title" content="${e}">
			<meta name="twitter:description" content="${r.site.site_description}">
			<meta name="twitter:image" content="${c}">
			<meta property="og:locale" content="en_US">
			<meta property="og:title" content="${e}">
			<meta property="og:description" content="${r.site.site_description}">
			<meta property="og:url" content="${r.site.direct_link}">
			<meta property="og:image" content="${c}">
			<meta property="og:type" content="website">`}return r.frontendState.serverRenderedFontCSS&&(u=r.frontendState.serverRenderedFontCSS.map(c=>`<style>${c}</style>`).join(`
`)),t.replace(/<\/head>/,()=>`
			${a}
			${r.site.meta_tags||""}
			${l}
			${u}
			</head>`)},qae=(t,e)=>{if(t.frontendState.networkErrors.length<1)return 200;let i=e.substring(1),r;for(let n of t.frontendState.networkErrors){if(n.id&&n.id===i){r=n.code||500;break}r=n.code}if(r===404&&t.site.tags.length>0){for(let n of t.site.tags)if(n.url===i)return 200}return r||500},Kk=async t=>{let{store:e}=bd();return e.dispatch(De.updateFrontendState({hostname:t})),await e.dispatch(De.fetchSitePackage()),e.getState()},$ae=async(t,e,i)=>{let r={},{store:n}=bd();n.dispatch(De.updateFrontendState({hostname:t}));let a=await(0,gm.frontloadServerRender)(()=>{try{return Jk(g(bc,{store:n,children:g(gv,{location:e,context:r,children:g(gm.Frontload,{isServer:!0,children:g(cm,{})})})}))}catch(b){return b}},{maxNestedFrontloadComponents:10});if(typeof a!="string")return{statusCode:101,html:void 0,error:a instanceof Error?a:void 0};let l=n.getState(),u=qae(l,e);if(u!==200)return{statusCode:u,html:void 0};let{statefulHtml:c,title:d,privateAccess:f}=Qae(i,l),m=Jae(c,d,f,l,e);return f?{statusCode:200,html:m}:{statusCode:u,html:jae(m,a)}},Kae=async t=>(await Kk(t)).site.direct_link,ese=async t=>{let e=await Kk(t);if(e.site.access_level==="public")return`${Pt}/sites/${e.site.id}/sitemap`}});var tX,iX=R(()=>{qg();lC();Eg();cC();hC();tX={grid:bn,columnized:fo,slideshow:ui,freeform:Ti,justify:vn}});var tse={};var rX,nX=R(()=>{xi();Ls();rX=de(SI(),1);ai();HI();Gt();Lt();iX();Ui();window.getClientAPI=()=>({actions:LI,reducers:UI,selectors:at,history:Zn,store:Xt,globals:OI,addReduxMiddleWare:rX.addMiddleware,combineReducers:Wn,galleryData:tX,editorOverlayAPI:Be})});var oX,aX,mXe,Xt,Zn,Ls=R(()=>{we();lt();oX=de(Nc(),1);va();Pe();vh();aX=de(Ie(),1),mXe=de(Ur(),1);zI();Gt();QG();EC();er();Bk();Mk();kk();eX();j();!H.isServer&&H.isAdminEdit&&(nX(),oc(tse));({store:Xt}=bd());if(!H.isServer){Zn=bh(),tt.setupStore(Xt);let t;try{t=localStorage.getItem("c3-auth")}catch(a){console.log("unable to retrieve stored auth",a)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{Xt.dispatch({type:xe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let a=e.toString();a.length>0&&(a="?"+a),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+a)}catch(a){console.error("unable to use querystring auth",a)}else if(t)try{Xt.dispatch({type:xe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(t)}})}catch(a){console.error("unable to retrieve stored auth",a)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let i={};Zn.push=aX.default.wrap(Zn.push,function(a){i[window.location.pathname]=document.scrollingElement.scrollTop;var l=Array.prototype.slice.call(arguments);if(!l.some(u=>u.preventScrollReset===!0)){let u=Xt.getState().frontendState.activePID,c=Xt.subscribe(()=>{Xt.getState().frontendState.activePID!==u&&(document.scrollingElement.scrollTo(0,0),c()),setTimeout(()=>{c()},1e3)})}l.shift(),a.apply(this,l)}),window.addEventListener("popstate",a=>{let l=window.location.pathname,u=Zn.location.pathname;i[u]=document.scrollingElement.scrollTop;let c=Xt.getState().frontendState.activePID,d=Xt.subscribe(()=>{if(Xt.getState().frontendState.activePID!==c&&i[l]){let f=Xt.getState().frontendState.activePID;setTimeout(async()=>{let m=0,b=!0;for(;b&&Xt.getState().frontendState.activePID===f;)m>10&&(b=!1),document.scrollingElement.scrollHeight>=i[l]&&(document.scrollingElement.scrollTop=i[l],b=!1),m++,await new Promise(C=>setTimeout(C,100))}),d()}})});let r=g(bc,{store:Xt,children:g(ba,{history:Zn,children:g(oX.Frontload,{noServerRender:!0,children:g(cm,{})})})}),n=document.body;n.querySelector(".content")!==null?cc(r,n):pa(r,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});Ls();export{Zn as history,Kae as robots,ese as sitemap,$ae as ssr,Xt as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/30c2bd/index.js.map
